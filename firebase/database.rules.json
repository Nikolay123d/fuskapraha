{
  "rules": {
    ".read": false,
    ".write": false,
    "settings": {
      "admins": {
        ".read": "auth != null",
        ".write": "auth != null && (root.child('settings/admins/' + auth.uid).val() === true || auth.token.email === 'urciknikolaj642@gmail.com')"
      },
      "theme": {
        ".read": true,
        ".write": "auth != null && (root.child('settings/admins/' + auth.uid).val() === true || auth.token.email === 'urciknikolaj642@gmail.com')"
      },
      "userFlags": {
        "$uid": {
          ".read": "auth != null && (auth.uid === $uid || root.child('settings/admins/' + auth.uid).val() === true || auth.token.email === 'urciknikolaj642@gmail.com')",
          ".write": "auth != null && (auth.uid === $uid || root.child('settings/admins/' + auth.uid).val() === true || auth.token.email === 'urciknikolaj642@gmail.com')"
        }
      }
    },
    "users": {
      "$uid": {
        ".read": "auth != null && (auth.uid === $uid || root.child('settings/admins/' + auth.uid).val() === true || auth.token.email === 'urciknikolaj642@gmail.com')",
        ".write": "auth != null && auth.uid === $uid"
      }
    },
    "presence": {
      "$uid": {
        ".read": "auth != null",
        ".write": "auth != null && auth.uid === $uid"
      }
    },
    "messages": {
      ".read": "auth != null",
      "$mid": {
        ".write": "auth != null && newData.child('uid').val() === auth.uid && root.child('settings/userFlags/' + auth.uid + '/blocked').val() !== true"
      }
    },
    "rentMessages": {
      ".read": "auth != null",
      "$mid": {
        ".write": "auth != null && newData.child('uid').val() === auth.uid && root.child('settings/userFlags/' + auth.uid + '/blocked').val() !== true"
      }
    },
    "privateMessages": {
      ".read": "auth != null",
      "$cid": {
        "$mid": {
          ".write": "auth != null && $cid.matches(/^[-_a-zA-Z0-9]+_[a-zA-Z0-9-_]+$/) && newData.child('from').val() === auth.uid"
        }
      }
    },
    "friendRequests": {
      ".read": "auth != null",
      "$toUid": {
        "$fromUid": {
          ".write": "auth != null && $fromUid === auth.uid"
        }
      }
    },
    "friends": {
      ".read": "auth != null",
      "$uid": {
        "$other": {
          ".write": "auth != null && ($uid === auth.uid || $other === auth.uid || root.child('settings/admins/' + auth.uid).val() === true || auth.token.email === 'urciknikolaj642@gmail.com')"
        }
      }
    },
    "notifications": {
      "$uid": {
        ".read": "auth != null && auth.uid === $uid",
        "$nid": {
          ".write": "auth != null && (auth.uid === $uid || newData.child('from').val() === auth.uid)"
        }
      }
    },
    "inboxMeta": {
      "$uid": {
        ".read": "auth != null && auth.uid === $uid",
        "$other": {
          ".write": "auth != null && auth.uid === $uid"
        }
      }
    },
    "payments": {
      "inbox": {
        "$uid": {
          ".read": "auth != null && (auth.uid === $uid || root.child('settings/admins/' + auth.uid).val() === true || auth.token.email === 'urciknikolaj642@gmail.com')",
          "$pid": {
            ".write": "auth != null && (auth.uid === $uid)"
          }
        }
      }
    }
  }
}