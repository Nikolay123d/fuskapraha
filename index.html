<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>PR√ÅCE CZ CHAT</title>
  <link rel="preconnect" href="https://www.gstatic.com" crossorigin>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">
  <link rel="stylesheet" href="./style.css">
</head>
<body>
  <header class="topbar">
    <div class="left">
      <button id="toggleTabs" class="ghost" title="–°—Ö–æ–≤–∞—Ç–∏/–ø–æ–∫–∞–∑–∞—Ç–∏ –≤–∫–ª–∞–¥–∫–∏">‚ñæ</button>
      <div class="brand">PR√ÅCE CZ CHAT</div>
      <label class="citysel">
        <span>–ú—ñ—Å—Ç–æ:</span>
        <select id="citySelect">
          <option value="praha">Praha</option>
          <option value="brno">Brno</option>
          <option value="ostrava">Ostrava</option>
          <option value="plzen">Plze≈à</option>
          <option value="olomouc">Olomouc</option>
          <option value="liberec">Liberec</option>
          <option value="usti">√öst√≠ nad Labem</option>
          <option value="hradec">Hradec Kr√°lov√©</option>
          <option value="pardubice">Pardubice</option>
          <option value="cbudejovice">ƒåesk√© Budƒõ–π–æ–≤ice</option>
        </select>
      </label>
    </div>
    <div class="mid"><span id="onlineCounter">–û–Ω–ª–∞–π–Ω (–ø—Ä–∏–±–ª.): 0</span></div>
    <div class="right">
      <button id="participantsBtn" title="–£—á–∞—Å–Ω–∏–∫–∏">üë•</button>
      <button id="feedbackBtn" title="–ó–≤‚Äô—è–∑–æ–∫ –∑ –ø—ñ–¥—Ç—Ä–∏–º–∫–æ—é">üìù</button>
      <button id="profileBtn" title="–ü—Ä–æ—Ñ—ñ–ª—å">–ü—Ä–æ—Ñ—ñ–ª—å</button>
    </div>
  </header>

  <nav class="tabs" id="tabs">
    <button data-tab="chat" class="tab active">üí¨ –ß–∞—Ç</button>
    <button data-tab="rent" class="tab">üè† –û—Ä–µ–Ω–¥–∞</button>
    <button data-tab="map" class="tab">üó∫Ô∏è –ö–∞—Ä—Ç–∞</button>
    <button data-tab="friends" class="tab">üë• –î—Ä—É–∑—ñ</button>
    <button data-tab="dm" class="tab">‚úâÔ∏è –û—Å–æ–±–∏—Å—Ç—ñ</button>
    <button data-tab="help" class="tab">üÜò –î–æ–ø–æ–º–æ–≥–∞</button>
    <button data-tab="ann" class="tab">üì¢ –û–≥–æ–ª–æ—à–µ–Ω–Ω—è</button>
  </nav>

  <main id="views">
    <section id="view-chat" class="view active">
      <div class="feed" id="chatFeed"></div>
      <div class="composer sticky">
        <label class="filebtn" title="–§–æ—Ç–æ">üì∑<input type="file" id="chatFile" accept="image/*" capture="environment"></label>
        <input id="chatInput" placeholder="–ù–∞–ø–∏—à—ñ—Ç—å –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è‚Ä¶ (–º–æ–∂–Ω–∞ URL –Ω–∞ —Ñ–æ—Ç–æ)">
        <button id="chatSend">–í—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏</button>
      </div>
      <div id="chatToast" class="toast" hidden>‚úîÔ∏è –§–æ—Ç–æ –¥–æ–¥–∞–Ω–æ. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å ¬´–í—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏¬ª.</div>
    </section>

    <section id="view-rent" class="view">
      <div class="feed" id="rentFeed"></div>
      <div class="composer sticky">
        <label class="filebtn">üì∑<input type="file" id="rentFile" accept="image/*" capture="environment"></label>
        <input id="rentInput" placeholder="–û–≥–æ–ª–æ—à–µ–Ω–Ω—è (—Ü—ñ–Ω–∞, —Ä–∞–π–æ–Ω‚Ä¶)">
        <button id="rentSend">–í—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏</button>
      </div>
      <div id="rentToast" class="toast" hidden>‚úîÔ∏è –§–æ—Ç–æ –¥–æ–¥–∞–Ω–æ. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å ¬´–í—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏¬ª.</div>
    </section>

    <section id="view-map" class="view">
      <div class="mapbar">
        <input id="mapSearch" placeholder="–ü–æ—à—É–∫ —Ç–æ—á–∫–∏‚Ä¶">
        <div class="chipbar">
          <button class="chip active" data-filter="all">–£—Å–µ</button>
          <button class="chip" data-filter="vol">–í–æ–ª–æ–Ω—Ç–µ—Ä–∏</button>
          <button class="chip" data-filter="shop">–ú–∞–≥–∞–∑–∏–Ω–∏</button>
          <button class="chip" data-filter="pharm">–ê–ø—Ç–µ–∫–∏</button>
          <button class="chip" data-filter="hosp">–õ—ñ–∫–∞—Ä–Ω—ñ</button>
          <button id="mapCenter">–¶–µ–Ω—Ç—Ä—É–≤–∞—Ç–∏</button>
        </div>
      </div>
      <div id="map" class="map"></div>
      <div id="mapAdmin" class="admin-only" hidden>
        <h4>–†–µ–¥–∞–∫—Ç–æ—Ä –∫–∞—Ä—Ç–∏ (–∞–¥–º—ñ–Ω) ‚Äî V(vol) S(shop) P(pharm) H(hosp)</h4>
        <div class="row">
          <input id="poiTitle" placeholder="–ù–∞–∑–≤–∞">
          <select id="poiType">
            <option value="vol">–í–æ–ª–æ–Ω—Ç–µ—Ä–∏</option><option value="shop">–ú–∞–≥–∞–∑–∏–Ω</option>
            <option value="pharm">–ê–ø—Ç–µ–∫–∞</option><option value="hosp">–õ—ñ–∫–∞—Ä–Ω—è</option>
          </select>
        </div>
        <div class="row">
          <input id="poiImageUrl" placeholder="URL —Ñ–æ—Ç–æ (–æ–ø—Ü.)">
          <input id="poiLink" placeholder="–ü–æ—Å–∏–ª–∞–Ω–Ω—è (–æ–ø—Ü.)">
          <button id="poiAdd">–î–æ–¥–∞—Ç–∏ —Ç–æ—á–∫—É (—Ü–µ–Ω—Ç—Ä –∫–∞—Ä—Ç–∏)</button>
        </div>
        <div class="row">
          <input id="cityWall" placeholder="URL —Ñ–æ–Ω—É –¥–ª—è –º—ñ—Å—Ç–∞">
          <button id="saveCityWall">–ó–±–µ—Ä–µ–≥—Ç–∏ —Ñ–æ–Ω</button>
          <button id="saveGlobalWall">–§–æ–Ω –¥–ª—è –≤—Å—ñ—Ö</button>
        </div>
      </div>
    </section>

    <section id="view-friends" class="view">
      <div class="columns">
        <div><h4>–ó–∞—è–≤–∫–∏</h4><div id="friendRequests"></div></div>
        <div><h4>–ú–æ—ó –¥—Ä—É–∑—ñ (<span id="friendsOnline">0</span> –æ–Ω–ª–∞–π–Ω)</h4><div id="friendsList"></div></div>
      </div>
    </section>

    <section id="view-dm" class="view">
      <div class="dm">
        <aside id="dmSidebar"></aside>
        <div class="dmThread">
          <div id="dmHeader"></div>
          <div id="dmMessages"></div>
          <div class="composer sticky">
            <label class="filebtn">üì∑<input type="file" id="dmFile" accept="image/*" capture="environment"></label>
            <input id="dmInput" placeholder="–ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è‚Ä¶">
            <button id="dmSend">–ù–∞–¥—ñ—Å–ª–∞—Ç–∏</button>
          </div>
        </div>
      </div>
    </section>

    <section id="view-help" class="view">
      <div class="cards" id="helpGrid"></div>
      <div id="helpAdminBox" class="admin-only" hidden>
        <h4>–ö–∞—Ä—Ç–∫–∏ ¬´–î–æ–ø–æ–º–æ–≥–∞¬ª (–∞–¥–º—ñ–Ω)</h4>
        <div class="row"><input id="helpTitle" placeholder="–ó–∞–≥–æ–ª–æ–≤–æ–∫"><input id="helpLink" placeholder="–ü–æ—Å–∏–ª–∞–Ω–Ω—è"></div>
        <div class="row"><textarea id="helpText" placeholder="–¢–µ–∫—Å—Ç/–æ–ø–∏—Å"></textarea></div>
        <div class="row"><input id="helpImageUrl" placeholder="URL –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è"><button id="helpPost">–û–ø—É–±–ª—ñ–∫—É–≤–∞—Ç–∏</button></div>
      </div>
    </section>

    <section id="view-ann" class="view">
      <div class="cards" id="annFeed"></div>
      <div id="annAdminBox" class="admin-only" hidden>
        <h4>–û–≥–æ–ª–æ—à–µ–Ω–Ω—è (–ª–∏—à–µ –∞–¥–º—ñ–Ω)</h4>
        <div class="row"><input id="annTitle" placeholder="–ó–∞–≥–æ–ª–æ–≤–æ–∫"><select id="annKind">
          <option value="job">–†–æ–±–æ—Ç–∞</option><option value="rent">–û—Ä–µ–Ω–¥–∞</option><option value="info">–Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è</option></select>
          <input id="annPrice" placeholder="–¶—ñ–Ω–∞/–æ–ø–ª–∞—Ç–∞ (–æ–ø—Ü.)"></div>
        <div class="row"><textarea id="annText" placeholder="–û–ø–∏—Å"></textarea></div>
        <div class="row"><input id="annImageUrl" placeholder="URL —Ñ–æ—Ç–æ (–æ–ø—Ü.)"><button id="annPost">–û–ø—É–±–ª—ñ–∫—É–≤–∞—Ç–∏</button></div>
      </div>
    </section>
  </main>

  <div id="participantsPanel" class="panel" hidden>
    <header><b>–£—á–∞—Å–Ω–∏–∫–∏</b><button id="participantsClose">‚úñ</button></header>
    <div id="participantsList"></div>
  </div>

  <div id="userProfileModal" class="modal" hidden>
    <div class="card">
      <header><b id="upName">–ü—Ä–æ—Ñ—ñ–ª—å</b><button id="upClose">‚úñ</button></header>
      <div class="row">
        <img id="upAvatar" class="ava-lg" src="https://i.ibb.co/mVDpPtBq/is-this-a-good-pfp-v0-qm3p4sotkjgd1.webp" alt="">
        <div><div><b id="upNick">–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á</b></div>
          <div class="muted">–ü–ª–∞–Ω: <span id="upPlan">free</span> ¬∑ –†–æ–ª—å: <span id="upRole">seeker</span></div></div>
      </div>
      <div class="row"><button id="upMsg">–ù–∞–ø–∏—Å–∞—Ç–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è</button><button id="upAdd">–î–æ–¥–∞—Ç–∏ –≤ –¥—Ä—É–∑—ñ</button></div>
    </div>
  </div>

  <div id="feedbackModal" class="modal" hidden>
    <div class="card">
      <header><b>–ó–≤‚Äô—è–∑–æ–∫ –∑ –ø—ñ–¥—Ç—Ä–∏–º–∫–æ—é</b><button id="fbClose">‚úñ</button></header>
      <div class="row"><input id="fbSubject" placeholder="–¢–µ–º–∞"></div>
      <div class="row"><textarea id="fbText" placeholder="–û–ø–∏—à—ñ—Ç—å –ø—Ä–æ–±–ª–µ–º—É –∞–±–æ –ø—Ä–æ–ø–æ–∑–∏—Ü—ñ—é"></textarea></div>
      <div class="row"><label class="filebtn">üì∑<input type="file" id="fbFile" accept="image/*" capture="environment"></label><button id="fbSend">–ù–∞–¥—ñ—Å–ª–∞—Ç–∏</button></div>
      <div class="muted">–ü—Ä–∏–∫—Ä—ñ–ø—ñ—Ç—å —Å–∫—Ä–∏–Ω—à–æ—Ç –∑–∞ –ø–æ—Ç—Ä–µ–±–∏ ‚Äî –æ—Ç—Ä–∏–º–∞—î –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä.</div>
    </div>
  </div>

  <div id="profileModal" class="modal" hidden>
    <div class="card">
      <header><b>–ú—ñ–π –ø—Ä–æ—Ñ—ñ–ª—å</b><button id="profileClose">‚úñ</button></header>
      <div id="profileContent">
        <div class="row">
          <img id="myAvatar" class="ava-lg" src="https://i.ibb.co/mVDpPtBq/is-this-a-good-pfp-v0-qm3p4sotkjgd1.webp" alt="">
          <div><div><b id="myName">–ê–Ω–æ–Ω—ñ–º</b> ‚Äî <span id="myEmail"></span></div>
            <div class="muted">–†–æ–ª—å: <span id="myRole">seeker</span> ¬∑ –ü–ª–∞–Ω: <span id="myPlan">free</span></div></div>
        </div>
        <div class="row"><input id="profileNick" placeholder="–ù—ñ–∫ (–≤–∏–¥–Ω–æ –≤—Å—ñ–º)"><input id="profileAvatarUrl" placeholder="URL –∞–≤–∞—Ç–∞—Ä–∫–∏"><button id="profileSave">–ó–±–µ—Ä–µ–≥—Ç–∏</button></div>
        <hr><div class="row"><button id="btnPayments">üí≥ –ö—É–ø–∏—Ç–∏ –ø—Ä–µ–º—ñ—É–º</button></div>
        <div id="premiumBots" hidden>
          <h4>–ú–æ—ó –∞–≤—Ç–æ-–ø–æ—Å—Ç–∏</h4>
          <div class="row"><select id="botCity"><option value="praha">Praha</option><option value="brno">Brno</option><option value="ostrava">Ostrava</option><option value="plzen">Plze≈à</option></select>
            <input id="botInterval" type="number" min="15" value="15" style="width:120px" placeholder="–Ü–Ω—Ç–µ—Ä–≤–∞–ª (—Ö–≤)"></div>
          <div class="row"><input id="botPhotoUrl" placeholder="URL —Ñ–æ—Ç–æ (–æ–ø—Ü.)"></div>
          <div class="row"><textarea id="botText" placeholder="–¢–µ–∫—Å—Ç"></textarea></div>
          <div class="row"><button id="botSave">–ó–±–µ—Ä–µ–≥—Ç–∏ —à–∞–±–ª–æ–Ω</button><button id="botStart">–ó–∞–ø—É—Å—Ç–∏—Ç–∏</button><button id="botStop">–ó—É–ø–∏–Ω–∏—Ç–∏</button></div>
          <div class="muted">–û–±–º–µ–∂–µ–Ω–Ω—è: 100/–¥–µ–Ω—å (–∞–¥–º—ñ–Ω ‚Äî –±–µ–∑ –æ–±–º–µ–∂–µ–Ω—å)</div>
        </div>
        <div id="adminTools" class="admin-only" hidden>
          <h4>–ê–¥–º—ñ–Ω-—ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏</h4>
          <div class="row"><button id="adminFillUsersPublic">–ó–∞–ø–æ–≤–Ω–∏—Ç–∏ usersPublic</button><button id="adminAddMeFriends">–î–æ–¥–∞—Ç–∏ –º–µ–Ω–µ —É –¥—Ä—É–∑—ñ –≤—Å—ñ–º</button></div>
          <div class="row"><button id="adminOpenPayInbox">–ü—Ä–µ–º—ñ—É–º –∑–∞—è–≤–∫–∏</button></div>
        </div>
      </div>
    </div>
  </div>

  <div id="paymentsModal" class="modal" hidden>
    <div class="card">
      <header><b>–û–ø–ª–∞—Ç–∏</b><button id="paymentsClose">‚úñ</button></header>
      <div class="muted">–ü–ª–∞–Ω–∏: 50 ‚Äî –±–µ–∑ –∞–≤—Ç–æ–ø–æ—Å—Ç—ñ–≤; 100 ‚Äî –∞–≤—Ç–æ–ø–æ—Å—Ç–∏ ‚â•15 —Ö–≤; 150 ‚Äî —Ä–æ–∑—à–∏—Ä–µ–Ω–∏–π. –†–µ–∫–≤—ñ–∑–∏—Ç–∏: CZ00 0000 0000 0000 (–ø—Ä–∏–∫—Ä—ñ–ø—ñ—Ç—å —á–µ–∫).</div>
      <div class="row"><select id="payPlan"><option value="basic">Basic (50)</option><option value="standard">Standard (100)</option><option value="pro">Pro (150)</option></select>
        <input id="payAmount" placeholder="–°—É–º–∞ (–æ–ø—Ü.)"><label class="filebtn">üì∑<input type="file" id="payFile" accept="image/*" capture="environment"></label>
        <button id="paySend">–ù–∞–¥—ñ—Å–ª–∞—Ç–∏ —á–µ–∫</button></div>
      <hr><div id="payAdmin" class="admin-only" hidden><h4>–ó–∞—è–≤–∫–∏ –Ω–∞ –ø—Ä–µ–º—ñ—É–º (–∞–¥–º—ñ–Ω)</h4><div class="row"><button id="payRefresh">–û–Ω–æ–≤–∏—Ç–∏</button></div><div id="payInbox"></div></div>
    </div>
  </div>

  <script src="https://www.gstatic.com/firebasejs/10.12.4/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.4/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.4/firebase-database-compat.js"></script>
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" defer></script>
  <script src="./config.js"></script>
  <script src="./app.js" defer></script>
  <script src="./bots.js" defer></script>
</body>
</html>
