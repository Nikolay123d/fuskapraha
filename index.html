<!doctype html>
<html lang="cs">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>MAKÃME CZ</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="./style.css"/>
  <link rel="preload" as="image" href="./img/bg.jpg">
  <script>
  // Apply last wallpaper ASAP (no flicker)
  (function(){
    try{
      var main = localStorage.getItem('wall_main');
      var authw = localStorage.getItem('wall_auth');
      if(main){
        document.documentElement.style.setProperty('--wall', "url('" + main + "')");
        document.documentElement.style.setProperty('--wallRaw', main);
      }
      if(authw){
        document.documentElement.style.setProperty('--authwall', "url('" + authw + "')");
        document.documentElement.style.setProperty('--authwallRaw', authw);
      }
    }catch(e){}
  })();
</script></head>
<body>
  <!-- Thin activity ticker (mobile + desktop) -->
  <div id="marqueeBar" aria-hidden="true">
    <div id="marqueeInner"><span id="marqueeText">NaÄÃ­tÃ¡meâ€¦</span></div>
  </div>
  <div id="topOnlineBar" class="top-online" aria-hidden="true"><span id="topOnlineText">0 online â€¢ 0 zamÄ›stnavatelÅ¯ â€¢ 0 hledÃ¡ prÃ¡ci</span></div>

<div id="preloader">
  <div class="pre-bg"></div>
  <div class="box">
    <img class="logo-img" src="./img/logo.svg" alt="MAKÃME CZ"/>
    <div class="title">VÃ­tejte v <b>MAKÃME CZ</b><br><span class="slogan">Spojujeme pracujÃ­cÃ­ a zamÄ›stnavatele v srdci ÄŒeska</span></div>
    <div class="subtitle" id="preloaderStatus">NaÄÃ­tÃ¡me aplikaciâ€¦</div>
    <div class="row">
      <div class="spin"></div>
      <div class="timer" id="preloaderTimer">PÅ™ejdeme automaticky za 10 s</div>
    </div>
    <button class="btn primary" id="goSiteBtn" type="button">PÅ™ejÃ­t na web</button>
  </div>
</div>

<script>
/* Preloader failsafe (works even if app.js crashes) */
(function(){
  var p=document.getElementById('preloader');
  var btn=document.getElementById('goSiteBtn');
  var tEl=document.getElementById('preloaderTimer');
  var sEl=document.getElementById('preloaderStatus');
  var sec=10;
  var steps=[
    'HledÃ¡me pro vÃ¡s nabÃ­dky prÃ¡ceâ€¦',
    'Kontrolujeme chat a novÃ© zprÃ¡vyâ€¦',
    'HledÃ¡me aktivnÃ­ zamÄ›stnavateleâ€¦',
    'NaÄÃ­tÃ¡me profily a pÅ™Ã¡teleâ€¦'
  ];
  var i=0;
  function hide(){ if(!p) return; p.classList.add('hidden'); }
  if(btn) btn.addEventListener('click', hide);
  setInterval(function(){
    sec=Math.max(0,sec-1);
    if(tEl) tEl.textContent='PÅ™ejdeme automaticky za '+sec+' s';
    if(sec<=0) hide();
    if(sEl){ sEl.textContent=steps[i%steps.length]; i++; }
  }, 1000);
  setTimeout(hide, 11500);
})();
</script>
<div class="topbar">
  <div class="brand"><img src="./img/logo.svg" class="brand-logo" alt="MAKÃME CZ"></div>
  <div class="row" style="margin:0">
    <div class="citysel">
      <select id="citySelect">
        <option value="praha">Praha</option>
        <option value="brno">Brno</option>
        <option value="olomouc">Olomouc</option>
        <option value="ostrava">Ostrava</option>
        <option value="plzen">PlzeÅˆ</option>
        <option value="liberec">Liberec</option>
        <option value="hradec">Hradec KrÃ¡lovÃ©</option>
        <option value="pardubice">Pardubice</option>
        <option value="ceske_budejovice">ÄŒeskÃ© BudÄ›jovice</option>
        <option value="usti">ÃšstÃ­ nad Labem</option>
        <option value="zlin">ZlÃ­n</option>
        <option value="karlovy_vary">Karlovy Vary</option>
        <option value="jihlava">Jihlava</option>
        <option value="teplice">Teplice</option>
      </select>
    </div>

    <label class="filebtn admin-only" id="wallCamWrap" title="ZmÄ›nit pozadÃ­">
      ğŸ“·
      <input id="wallMainInput" type="file" accept="image/*">
    </label>

    
    <button class="drawer-btn neon" id="drawerBtn" type="button" aria-label="Menu">â˜°</button>

    <button class="iconbtn mobile-only" id="btnBell" type="button" title="UpozornÄ›nÃ­">ğŸ””<span id="bellBadge" class="badge-count" style="display:none"></span></button>
    <button class="iconbtn mobile-only" id="btnDMTop" type="button" title="DM">âœ‰ï¸<span id="dmBadge" class="badge-count" style="display:none"></span></button>
    <button class="iconbtn mobile-only" id="btnFriendsTop" type="button" title="PÅ™Ã¡telÃ©">ğŸ‘¥<span id="friendsBadgeTop" class="badge-count" style="display:none"></span></button>
    <button class="mebtn mobile-only" id="btnMe" type="button" title="MÅ¯j profil">
      <img id="meMiniAva" src="./img/default-avatar.svg" alt="Me">
    </button>

    <button class="ghost desktop-only" id="toggleTabs" type="button">Menu</button>
    <button class="ghost" id="btnLogin" class="ghost desktop-only" type="button" onclick="try{document.getElementById('preloader')?.classList.add('hidden');document.getElementById('modalAuth').hidden=false;}catch(e){}">PÅ™ihlÃ¡Å¡enÃ­</button>
    <button class="ghost" id="btnSignout" class="ghost desktop-only" type="button">OdhlÃ¡sit</button>
  </div>
</div>


<div id="drawerOverlay" class="drawer-overlay" hidden></div>
<nav id="drawer" class="drawer" aria-hidden="true">
  <div class="drawer-head">
    <div class="drawer-title">MAKÃME CZ</div>
    <button id="drawerClose" class="iconbtn" type="button" aria-label="ZavÅ™Ã­t">âœ•</button>
  </div>

  
  <a class="drawer-item" href="#" data-view="view-home">ğŸ  HlavnÃ­</a>
  <a class="drawer-item" href="#" data-view="view-chat">ğŸ’¬ Chat</a>
  <a class="drawer-item" href="#" data-view="view-dm">âœ‰ï¸ OsobnÃ­ (DM)</a>
  <a class="drawer-item" href="#" id="drawerPremium">â­ Privilegia</a>
  <a class="drawer-item prem-only" href="#" id="drawerUserBots" style="display:none">ğŸ¤– NastavenÃ­ bota</a>
  <a class="drawer-item adm-only" href="#" data-view="view-admin" style="display:none">ğŸ›  Admin</a>

  <div class="drawer-sep"></div>


  <button id="btnLoginDrawer" class="drawer-btn2" type="button">PÅ™ihlÃ¡sit se</button>
  <button id="btnSignoutDrawer" class="drawer-btn2" type="button">OdhlÃ¡sit</button>
  <button id="drawerInfoBtn" class="drawer-btn2" type="button">â„¹ï¸ Info (Pravidla / Pomoc / Kontakt)</button>
  <div id="drawerInfoBox" class="drawer-infobox" hidden>
    <a class="drawer-sub" href="#" id="drawerRules">ğŸ“œ Pravidla</a>
    <a class="drawer-sub" href="#" id="drawerHelp">ğŸ†˜ Pomoc</a>
    <a class="drawer-sub" href="#" id="drawerSupport">âœ‰ï¸ Kontakt / StÃ­Å¾nost</a>
  </div>

</nav>

<div class="tabs" id="tabs">
  <a class="tab" href="#" data-view="view-home">HlavnÃ­</a>
  <a class="tab active" href="#" data-view="view-chat">Chat</a>
  <a class="tab" href="#" data-view="view-dm">OsobnÃ­ (DM)</a>
  <a class="tab" href="#" data-view="view-friends">PÅ™Ã¡telÃ© <span id="friendsBadgeTab" class="muted"></span></a>
  <a class="tab" href="#" data-view="view-members">ÃšÄastnÃ­ci</a>
  <a class="tab" href="#" data-view="view-rent">PronÃ¡jem</a>
  <a class="tab" href="#" data-view="view-map">Mapa</a>
  <a class="tab" href="#" data-view="view-profile">Profil</a>
  <a class="tab adm-only" style="display:none" href="#" data-view="view-admin">Admin</a>
</div>

<div id="views">
  <section class="view" id="view-home">
    <div class="card">
      <h2 style="margin:0 0 8px 0">MAKÃME.cz</h2>
      <div class="muted" style="margin-bottom:10px">PrÃ¡ce zaÄÃ­nÃ¡ tady.</div>
      <div class="grid2">
        <div class="card" style="padding:12px">
          <b>RychlÃ½ start</b>
          <div class="muted" style="margin-top:6px">OtevÅ™ete chat Praha a napiÅ¡te, co hledÃ¡te / nabÃ­zÃ­te.</div>
          <button class="btn primary" id="homeGoChat" type="button" style="margin-top:10px;width:100%">OtevÅ™Ã­t chat Praha</button>
        </div>
        <div class="card" style="padding:12px">
          <b>SoukromÃ© zprÃ¡vy</b>
          <div class="muted" style="margin-top:6px">Domluvte se v DM bez spamu v chatu.</div>
          <button class="btn" id="homeGoDM" type="button" style="margin-top:10px;width:100%">OtevÅ™Ã­t DM</button>
        </div>
      </div>
      <div class="card" style="padding:12px;margin-top:12px">
        <b>Online teÄ</b>
        <div class="muted" style="margin-top:6px" id="homeOnlineNumbers"><span id="homeOnlineTotal">0</span> online â€¢ <span id="homeOnlineEmployers">0</span> zamÄ›stnavatelÃ© â€¢ <span id="homeOnlineWorkers">0</span> hledajÃ­ prÃ¡ci</div>
        <div class="muted" id="homeOnlineEmpty" style="margin-top:6px;display:none">BuÄte prvnÃ­ â€” napiÅ¡te do chatu Praha.</div>
      </div>
      <div class="card" style="padding:12px;margin-top:12px">
        <b>Tipy</b>
        <div class="muted" id="homeTip" style="margin-top:6px">NapiÅ¡te krÃ¡tce: mÄ›sto, pozice, smÄ›ny, mzda.</div>
      </div>

      <div class="grid2" style="margin-top:12px">
        <div class="card" style="padding:12px">
          <b>Jak funguje bot (Privilegie)</b>
          <div class="muted" style="margin-top:6px">
            Vyberte VIP / Premium, zaplaÅ¥te pÅ™es QR a poÅ¡lete screenshot pÅ™Ã­mo v DM s botem. Bez screenshotu se Å¾Ã¡dost neodeÅ¡le.
          </div>
          <button class="btn primary" id="homeGoPremium" type="button" style="margin-top:10px;width:100%">Koupit Premium</button>
          <button class="btn" id="homeGoBot" type="button" style="margin-top:8px;width:100%">OtevÅ™Ã­t bota</button>
        </div>
        <div class="card" style="padding:12px">
          <b>Pomoc a kontakt</b>
          <div class="muted" style="margin-top:6px">Nahlaste chybu, poÅ¡lete ticket, nebo napiÅ¡te adminovi. OdpovÃ­me v co nejkratÅ¡Ã­m Äase.</div>
          <button class="btn" id="homeGoSupport" type="button" style="margin-top:10px;width:100%">Napsat nÃ¡m / Ticket</button>
        </div>
      </div>
    </div>
  </section>

  <section class="view active" id="view-chat">
    <div class="feed-rel">
      <button class="load-more-btn" id="chatLoadMore" type="button" style="display:none">OtevÅ™Ã­t dalÅ¡Ã­ 20</button>
      <div class="feed" id="chatFeed"></div>
      <div class="mini-load" id="chatMiniLoad" class="mini-load" style="display:none"><div class="mini-status">NaÄÃ­tÃ¡me chatâ€¦</div><div class="mini-tip"></div></div>
      <button class="scroll-down" id="chatScrollDown" type="button" style="display:none" title="DolÅ¯">â¬‡</button>
    </div>
    <div class="composer sticky" id="chatComposer">
      <div id="typingSim" class="typing-sim muted"></div>
      <input id="msgText" placeholder="NapiÅ¡te zprÃ¡vuâ€¦">
      <label class="filebtn" title="Foto">
        ğŸ“<input id="msgPhoto" type="file" accept="image/*">
      </label>
      <button id="sendBtn" type="button">Odeslat</button>
    </div>
  </section>

  <section class="view" id="view-dm">
  <div class="dm">
    <div class="card" id="dmConversationCard" style="padding:10px">
      <header>
        <b>Konverzace</b>
        <button class="ghost" id="dmNewBtn" type="button">+ NovÃ¡</button>
      </header>
      <div id="dmThreads" style="display:flex;flex-direction:column;gap:8px;max-height:60vh;overflow:auto"></div>
      <div class="muted">Tip: kliknÄ›te na konverzaci pro otevÅ™enÃ­ historie.</div>
    </div>

    <div class="card" style="padding:10px">
      <header style="display:flex;justify-content:space-between;align-items:center">
        <div style="display:flex;align-items:center;gap:10px">
          <button class="ghost" id="dmBackMobile" type="button" style="display:none" title="ZpÄ›t">â¬…</button>
          <div><b id="dmWithName">OsobnÃ­ zprÃ¡vy</b> <span class="muted" id="dmWithStatus"></span></div>
        </div>
          <label class="filebtn admin-only" title="PozadÃ­ DM">
            ğŸ“·<input id="wallDmInput" type="file" accept="image/*">
          </label>
        <button class="ghost" id="dmClearBtn" type="button">VyÄistit</button>
      </header>
      <div class="feed-rel" style="min-height:45vh">
        <button class="load-more-btn" id="dmLoadMore" type="button" style="display:none">OtevÅ™Ã­t dalÅ¡Ã­ 20</button>
        <div class="feed" id="dmFeed" style="min-height:45vh"></div>
        <div class="mini-load" id="dmMiniLoad" class="mini-load" style="display:none"><div class="mini-status">NaÄÃ­tÃ¡me zprÃ¡vyâ€¦</div><div class="mini-tip"></div></div>
        <button class="scroll-down" id="dmScrollDown" type="button" style="display:none" title="DolÅ¯">â¬‡</button>
      </div>
      <div id="botPremiumPanel" style="display:none;margin-top:10px">
        <div class="row" style="justify-content:space-between;align-items:center">
          <b>NÃ¡kup privilegia (bot)</b>
          <span class="muted" id="botPremiumStep"></span>
        </div>
        <div id="botPremiumActions" class="row"></div>
        <div class="muted" id="botPremiumHint"></div>
      </div>

      <div class="composer sticky" id="dmComposer">
      <div id="typingSim" class="typing-sim muted"></div>
        <input id="dmText" placeholder="ZprÃ¡vaâ€¦">
        <label class="filebtn" title="Foto">
          ğŸ“<input id="dmPhoto" type="file" accept="image/*">
        </label>
        <button id="dmSend" type="button">Odeslat</button>
      </div>
    </div>
  </div>
</section>

  <section class="view" id="view-friends">
  <div class="row" style="justify-content:space-between;align-items:center">
    <div><b>PÅ™Ã¡telÃ©</b> <span class="muted" id="friendsSummary"></span></div>
    <button class="ghost" id="friendAddOpen" type="button">+ PÅ™idat pÅ™Ã­tele</button>
  </div>
  
  <div class="row" id="friendsReqSection" style="display:none;align-items:center;justify-content:space-between">
    <div><b>Å½Ã¡dosti</b> <span id="friendsBadgeInline"></span></div>
    <div class="muted" id="friendsReqNote"></div>
  </div>
  <div class="feed" id="friendsRequests" style="display:none"></div>
<div class="row"><b>Seznam pÅ™Ã¡tel</b></div>
  <div class="feed-rel">
    <div class="feed" id="friendsList"></div>
    <div class="mini-load" id="friendsMiniLoad" class="mini-load" style="display:none"><div class="mini-status">NaÄÃ­tÃ¡me pÅ™Ã¡teleâ€¦</div><div class="mini-tip"></div></div>
  </div>
  <div class="empty muted" id="friendsListEmpty" style="display:none">ZatÃ­m nemÃ¡te pÅ™Ã¡tele. PÅ™idejte nÄ›koho pomocÃ­ tlaÄÃ­tka nahoÅ™e.</div>
</section>

  <section class="view" id="view-rent">
    <div class="row">
      <input id="rentTitle" placeholder="NÃ¡zev" style="flex:2;min-width:220px">
      <input id="rentPrice" placeholder="Cena KÄ" type="number" style="width:140px">
      <select id="rentTTL">
        <option value="0">Bez expirace</option>
        <option value="7">7 dnÅ¯</option>
        <option value="14">14 dnÅ¯</option>
        <option value="30">30 dnÅ¯</option>
      </select>
      <label class="filebtn">ğŸ“<input id="rentPhoto" type="file" accept="image/*"></label>
      <button id="rentAdd" type="button">PÅ™idat</button>
    </div>
    <div class="row">
      <select id="rentStatus">
        <option value="">VÅ¡e</option>
        <option value="active">AktivnÃ­</option>
        <option value="closed">UzavÅ™enÃ©</option>
      </select>
      <select id="rentSort">
        <option value="new">NejnovÄ›jÅ¡Ã­</option>
        <option value="price">Cena</option>
      </select>
      <button id="rentApply" type="button">PouÅ¾Ã­t</button>
    </div>
    <div class="feed" id="rentFeed"></div>
  </section>

  <section class="view" id="view-map">
    <div class="mapWrap" style="position:relative">
      <div class="map" id="map"></div>
      <div id="mapMiniLoad" class="mini-load center" style="display:none"><div class="spinner"></div><div class="mini-status">NaÄÃ­tÃ¡me mapuâ€¦</div><div class="mini-tip"></div></div><div class="t">NaÄÃ­tÃ¡me mapuâ€¦</div></div>
    </div>
    <div class="muted" style="margin-top:8px">Tip: mod/admin mÅ¯Å¾e pÅ™idÃ¡vat body a upravovat je podle pravidel.</div>
  </section>

  
  <section class="view" id="view-members">
    <div class="card">
      <header style="justify-content:space-between;align-items:center">
        <b>ÃšÄastnÃ­ci</b>
        <span class="row" style="margin:0;gap:8px">
          <button class="ghost" id="membersModeOnline" type="button">Online</button>
          <button class="ghost" id="membersModeAll" type="button">VÅ¡ichni</button>
        </span>
      </header>
      <div class="row">
        <input id="membersSearch" class="inp" placeholder="Hledat podle nickuâ€¦" autocomplete="off">
        <button id="membersRefresh" class="ghost" type="button">Obnovit</button>
      </div>
      <div class="muted small" id="membersHint">Online reÅ¾im: zobrazuje uÅ¾ivatele, kteÅ™Ã­ jsou prÃ¡vÄ› pÅ™ihlÃ¡Å¡eni (presence).</div>
    </div>
    <div class="feed-rel">
      <div class="feed" id="membersFeed"></div>
      <div class="mini-load" id="membersMiniLoad" class="mini-load" style="display:none"><div class="mini-status">NaÄÃ­tÃ¡me ÃºÄastnÃ­kyâ€¦</div><div class="mini-tip"></div></div>
      <button class="scroll-down" id="membersScrollDown" type="button" style="display:none" title="DolÅ¯">â¬‡</button>
    </div>
  </section>


  <section class="view" id="view-profile">
  <div class="row">
    <img id="myAvatar" class="ava-lg" src="./img/default-avatar.svg" alt="avatar">
    <div>
      <div><b id="myName">UÅ¾ivatel</b> <span id="myAdmin" class="badge admin" style="display:none">ADMIN</span><span id="myPlan" class="badge premium" style="display:none">PREMIUM</span></div>
      <div class="muted" id="profileEmail">E-mail: â€”</div>
      <div class="muted" id="profileRoleLine">Role: â€”</div>
    </div>
  </div>

  <div class="card" style="margin-top:10px">
    <header><b>Profil</b></header>
    <div class="row">
      <input id="setNick" placeholder="Nick" style="flex:1;min-width:200px">
      <button class="ghost" id="reqNickChange" type="button">PoÅ¾Ã¡dat o zmÄ›nu nicku</button>
    </div>
    <div class="row">
      <select id="setRole">
        <option value="seeker">HledÃ¡m prÃ¡ci</option>
        <option value="employer">ZamÄ›stnavatel</option>
      </select>
      <button class="ghost" id="reqRoleChange" type="button">PoÅ¾Ã¡dat o zmÄ›nu role</button>
    </div>
    <div class="row">
      <input id="setAvatarUrl" placeholder="URL avatara (nebo pouÅ¾ij ğŸ“·)" style="flex:2;min-width:260px">
      <label class="filebtn" title="Avatar z telefonu">ğŸ“·<input id="avatarFile" type="file" accept="image/*"></label>
      <button id="saveProfile" type="button">UloÅ¾it</button>
    </div>
    <div class="row">
      <textarea id="setAbout" placeholder="O mnÄ› (krÃ¡tce)" style="flex:1;min-height:80px"></textarea>
    </div>
    <div class="row">
      <input id="setCompany" placeholder="Firma / SpoleÄnost (pro zamÄ›stnavatele)" style="flex:1;min-width:240px">
      <input id="setPhone" placeholder="Telefon (volitelnÃ©)" style="flex:1;min-width:200px">
    </div>
    <div class="row">
      <input id="setSkills" placeholder="Dovednosti / obor (napÅ™. kuchaÅ™, kurÃ½r, IT...)" style="flex:1;min-width:240px">
    </div>

    <div class="row">
      <button class="ghost" id="reqPremium" type="button">Koupit privilegium</button>
      <button id="resetPassTop" type="button">ZapomenutÃ© heslo</button>
    </div>
    <div class="muted">Nick a role lze nastavit pouze jednou. DalÅ¡Ã­ zmÄ›ny jdou pÅ™es Å¾Ã¡dost adminovi.</div>
  </div>

  <div class="card" id="myVacancyCard" style="margin-top:10px;display:none">
    <header><b>Moje nabÃ­dky prÃ¡ce (pro zamÄ›stnavatele)</b></header>
    <div class="row">
      <input id="vacTitle" placeholder="NÃ¡zev pozice / prÃ¡ce" style="flex:2;min-width:240px">
      <select id="vacCity" style="min-width:160px">
        <option value="praha">Praha</option>
        <option value="brno">Brno</option>
        <option value="olomouc">Olomouc</option>
        <option value="ostrava">Ostrava</option>
      </select>
    </div>
    <div class="row">
      <textarea id="vacText" placeholder="Popis prÃ¡ce, mzda, smÄ›ny, kontakt..." style="flex:1;min-height:90px"></textarea>
    </div>
    <div class="row" style="justify-content:space-between;align-items:center">
      <button id="vacPublish" type="button">ZveÅ™ejnit</button>
      <span class="muted">PÅ™Ã¡telÃ© (hledajÃ­cÃ­ prÃ¡ci) dostanou upozornÄ›nÃ­.</span>
    </div>
    <div class="feed" id="myVacancies" style="min-height:120px"></div>
  </div>

</section>

<section class="view" id="view-admin">
  <div class="adminWrap">
    <h2>Panel administrÃ¡tora</h2>
    <div class="muted" style="margin:-6px 0 12px">RychlÃ© nÃ¡stroje pro moderaci a sprÃ¡vu. Pro detailnÃ­ akce otevÅ™ete modÃ¡ly nÃ­Å¾e.</div>

    <div class="adminGrid">
      <button class="adminTile" id="adminUsersBtn" type="button">
        <div class="t">ğŸ‘¥ UÅ¾ivatelÃ©</div>
        <div class="s">Vyhledat uÅ¾ivatele, otevÅ™Ã­t profil, ban/mute/VIP/mod.</div>
      </button>

      <button class="adminTile" id="adminComplaintsBtn" type="button">
        <div class="t">ğŸ†˜ Tickets</div>
        <div class="s">Fronta ticketÅ¯, odpovÄ›di, statusy, pÅ™Ã­lohy.</div>
      </button>

      <button class="adminTile" id="adminBroadcastBtn" type="button">
        <div class="t">ğŸ“£ OznÃ¡menÃ­</div>
        <div class="s">Upozornit vÅ¡echny (banner v aplikaci + zvuk, kdyÅ¾ je web otevÅ™enÃ½).</div>
      </button>

      <button class="adminTile" id="adminMapPointsBtn" type="button">
        <div class="t">ğŸ—ºï¸ Mapa</div>
        <div class="s">SchvalovÃ¡nÃ­ bodÅ¯ na mapÄ› / sprÃ¡va.</div>
      </button>

      <button class="adminTile" id="adminDesignBtn" type="button">
        <div class="t">ğŸ¨ Design</div>
        <div class="s">ObrÃ¡zky na pozadÃ­ (Auth / Chat / DM) a jejich live aktualizace.</div>
      </button>

      <button class="adminTile" id="adminSoundsBtn" type="button">
        <div class="t">ğŸ”Š Zvuky</div>
        <div class="s">Notifikace, DM a systÃ©movÃ© zvuky (live pro vÅ¡echny).</div>
      </button>

      <button class="adminTile" id="adminBotsBtn" type="button">
        <div class="t">ğŸ¤– Boti</div>
        <div class="s">NastavenÃ­ botÅ¯ (premium UI â€“ pÅ™Ã­stup pÅ™es menu).</div>
      </button>
    </div>

    <div class="muted small" style="margin-top:10px">
      Pozn.: chyba <code>Unexpected token export</code> v konzoli obvykle pochÃ¡zÃ­ z rozÅ¡Ã­Å™enÃ­ prohlÃ­Å¾eÄe (chrome-extension://â€¦). NenÃ­ to chyba projektu.
    </div>
  </div>
</section>
</div>

<div id="cookieBanner" class="cookie-modal" hidden>
  <div class="card cookie-card">
    <header>
      <b>Cookies</b>
      <button class="ghost x" id="cookieClose" type="button" aria-label="ZavÅ™Ã­t">Ã—</button>
    </header>
    <div class="muted" style="line-height:1.4">
      PouÅ¾Ã­vÃ¡me cookies a lokÃ¡lnÃ­ ÃºloÅ¾iÅ¡tÄ› pro: pÅ™ihlÃ¡Å¡enÃ­, nastavenÃ­ (zvuky/pozadÃ­), bezpeÄnostnÃ­ ochranu a lepÅ¡Ã­ fungovÃ¡nÃ­ chatu.
      MÅ¯Å¾ete pÅ™ijmout vÅ¡e, pouze nezbytnÃ©, nebo odmÃ­tnout.
    </div>
    <div class="row" style="justify-content:flex-end;gap:10px;flex-wrap:wrap;margin-top:12px">
      <button class="ghost" id="cookieReject" type="button">OdmÃ­tnout</button>
      <button class="ghost" id="cookieNecessary" type="button">Pouze nezbytnÃ©</button>
      <button class="btn primary" id="cookieAll" type="button">PÅ™ijmout vÅ¡e</button>
    </div>
    <div class="muted small" style="margin-top:10px">
      Tip: Po potvrzenÃ­ cookies se vÃ¡s web jednou zeptÃ¡ na povolenÃ­ oznÃ¡menÃ­, aby chodily novÃ© zprÃ¡vy i kdyÅ¾ je web zavÅ™enÃ½.
    </div>
  </div>
</div>


<div id="promoOverlay" class="modal" hidden>
  <div class="card promo-card">
    <header>
      <b>Privilegium</b>
      <button class="ghost x" id="promoClose" type="button">Ã—</button>
    </header>
    <div class="promo-body">
      <img class="promo-img" src="./img/push/prague.jpg" alt="Praha">
      <div class="promo-text">
        <h2 style="margin:0 0 6px 0">ZÃ­skej Privilegium</h2>
        <div class="muted" style="line-height:1.45">
          VÃ­ce reakcÃ­, lepÅ¡Ã­ viditelnost profilu, rychlejÅ¡Ã­ komunikace a dalÅ¡Ã­ rozÅ¡Ã­Å™enÃ© funkce.
          Aktivace trvÃ¡ minutu.
        </div>
        <div class="row" style="gap:10px;flex-wrap:wrap;margin-top:12px">
          <button class="btn primary" id="promoBuy" type="button">Koupit Premium</button>
          <button class="ghost" id="promoLater" type="button">PozdÄ›ji</button>
        </div>
      </div>
    </div>
  </div>
</div>
<div id="greetOverlay" class="modal" hidden>
  <div class="card">
    <header>
      <b>Vzkaz</b>
      <button class="ghost" id="greetClose" type="button">Ã—</button>
    </header>
    <img class="rose" src="./img/rose.svg" alt="Rose">
    <h2 style="margin:10px 0 6px">Jsi ta nejkrÃ¡snÄ›jÅ¡Ã­ dÃ­vka</h2>
    <div class="muted">Toto je od zakladatele. (ZavÅ™e se za <span id="greetSec">10</span> s)</div>
    <div class="row" style="justify-content:center;margin-top:10px">
      <button class="ghost" id="greetDm" type="button">Napsat zakladateli</button>
      <button class="ghost" id="greetAddFriend" type="button">PÅ™idat do pÅ™Ã¡tel</button>
    </div>
  </div>
</div>


<!-- User Profile Modal -->
<div id="modalUserCard" class="modal" hidden>
  <div class="card modal-card usercard">
    <header style="justify-content:space-between;align-items:center">
      <div style="display:flex;align-items:center;gap:10px">
        <img id="userCardAva" class="ava-lg" src="./img/default-avatar.svg" alt="avatar">
        <div>
          <div style="display:flex;align-items:center;gap:8px">
            <b id="userCardNick">UÅ¾ivatel</b>
            <span id="userCardAdmin" class="badge admin" style="display:none">ADMIN</span>
            <span id="userCardPlan" class="badge premium" style="display:none">PREMIUM</span>
          </div>
          <div class="muted">
            <span id="userCardRole">Â· â€”</span> Â· <span id="userCardOnline">offline</span>
          </div>
        </div>
      </div>
      <button class="ghost" type="button" onclick="closeModal('modalUserCard')">âœ•</button>
    </header>

    <div class="row" style="margin-top:6px">
      <div class="muted" id="userCardAbout">â€”</div>
    </div>

    <div class="row">
      <div class="pill" id="userCardCompanyWrap" style="display:none">ğŸ¢ <span id="userCardCompany"></span></div>
      <div class="pill" id="userCardPhoneWrap" style="display:none">ğŸ“ <span id="userCardPhone"></span></div>
      <div class="pill" id="userCardSkillsWrap" style="display:none">ğŸ§© <span id="userCardSkills"></span></div>
    </div>

    <div class="row" style="gap:10px;align-items:center">
      <div class="stars" id="userCardStars" aria-label="HodnocenÃ­"></div>
      <div class="muted" id="userCardRatingText">â€”</div>
    </div>

    <div class="row" style="justify-content:space-between;align-items:center;margin-top:6px">
      <div class="row" style="margin:0">
        <button class="ghost" id="userCardDm" type="button">âœ‰ï¸ Napsat</button>
        <button class="ghost" id="userCardAddFriend" type="button">ğŸ‘¥ PÅ™idat</button>
        <button class="ghost" id="userCardRemoveFriend" type="button" style="display:none">âŒ Odebrat</button>
      </div>
      <button class="ghost" id="userCardReport" type="button">ğŸš© NahlÃ¡sit</button>
    </div>

    <div class="card" style="margin-top:10px">
      <header><b>InzerÃ¡ty / nabÃ­dky prÃ¡ce</b></header>
      <div class="feed" id="userCardVacancies" style="min-height:120px"></div>
      <div class="muted" id="userCardVacEmpty">Å½Ã¡dnÃ© inzerÃ¡ty.</div>
    </div>

    <!-- Admin actions for this user -->
    <div class="card adm-only" id="userCardAdminPanel" style="margin-top:10px;display:none">
      <header><b>Admin</b> <span class="muted">Moderace a plÃ¡n</span></header>
      <div class="row" style="flex-wrap:wrap">
        <span class="pill">UID: <span id="userCardUid"></span></span>
        <span class="pill">Plan: <b id="userCardPlanFull">â€”</b></span>
        <span class="pill">Ban: <b id="userCardBan">â€”</b></span>
        <span class="pill">Mute: <b id="userCardMute">â€”</b></span>
      </div>

      <div class="row" style="flex-wrap:wrap">
        <button class="ghost" id="ucBan1h" type="button">Ban 1h</button>
        <button class="ghost" id="ucBan24h" type="button">Ban 24h</button>
        <button class="ghost" id="ucBan7d" type="button">Ban 7d</button>
        <button class="ghost" id="ucUnban" type="button">Unban</button>
        <span style="width:10px"></span>
        <button class="ghost" id="ucMute1h" type="button">Mute 1h</button>
        <button class="ghost" id="ucMute24h" type="button">Mute 24h</button>
        <button class="ghost" id="ucMute7d" type="button">Mute 7d</button>
        <button class="ghost" id="ucUnmute" type="button">Unmute</button>
      </div>

      <div class="row" style="flex-wrap:wrap">
        <button class="ghost" id="ucVip7" type="button">VIP 7 dnÃ­</button>
        <button class="ghost" id="ucVip30" type="button">VIP 30 dnÃ­</button>
        <button class="ghost" id="ucPrem30" type="button">PREMIUM 30 dnÃ­</button>
        <button class="ghost" id="ucPremPlus30" type="button">PREMIUM+ 30 dnÃ­</button>
        <button class="ghost" id="ucPlanOff" type="button">Plan OFF</button>
      </div>

      <div class="row">
        <input id="ucAdminNote" class="inp" placeholder="PoznÃ¡mka do logu (volitelnÃ©)" style="flex:1;min-width:220px">
      </div>

      <div class="card" style="margin-top:10px">
        <header><b>Log akcÃ­</b> <span class="muted">usersAudit</span></header>
        <div class="feed" id="userCardAudit" style="min-height:120px"></div>
        <div class="muted" id="userCardAuditEmpty" style="display:none">ZatÃ­m Å¾Ã¡dnÃ© akce.</div>
      </div>
    </div>
  </div>
</div>


<!-- Bots Settings Modal (Admin) -->
<div id="modalBots" class="modal" hidden>
  <div class="card modal-card" style="max-width:980px">
    <header><b>NastavenÃ­ botÅ¯</b><button class="ghost" type="button" onclick="closeModal('modalBots')">âœ•</button></header>

    <div class="grid2" style="gap:12px">
      <div class="card" style="margin:0">
        <header style="justify-content:space-between">
          <b>Seznam</b>
          <span class="row" style="margin:0;gap:8px">
            <button class="ghost" id="botsModalAdd" type="button">+ PÅ™idat</button>
            <button class="ghost" id="botsModalRun" type="button">Spustit</button>
            <button class="ghost" id="botsModalStop" type="button">Zastavit</button>
          </span>
        </header>
        <div class="feed" id="botsModalList" style="min-height:260px"></div>
        <div class="muted">Pozn.: Boti publikujÃ­ a odpovÃ­dajÃ­ v DM pouze, kdyÅ¾ je otevÅ™en web admina (MVP bez serveru).</div>
      </div>

      <div class="card" style="margin:0">
        <header><b>Editor bota</b> <span class="muted" id="botEditHint">Vyber bota ze seznamu</span></header>

        <div class="row">
          <input id="botEditId" placeholder="ID" style="max-width:140px" disabled>
          <input id="botEditNick" placeholder="Nick" style="flex:1;min-width:180px">
          <input id="botEditCity" list="citiesList" placeholder="MÄ›sto" style="max-width:160px">

          <select id="botEditMode" style="max-width:160px">
            <option value="dm">DM odpovÄ›di</option>
            <option value="chat">Publikovat do chatu</option>
            <option value="both">DM + chat</option>
          </select>

        </div>

        <div class="row">
          <input id="botEditInterval" placeholder="Interval (min)" style="max-width:160px">
          <input id="botEditFrom" type="time" title="AktivnÃ­ od" style="max-width:140px">
          <input id="botEditTo" type="time" title="AktivnÃ­ do" style="max-width:140px">
          <label class="pill" style="display:flex;align-items:center;gap:8px">
            <input id="botEditEnabled" type="checkbox"> aktivnÃ­
          </label>
          <label class="filebtn">Avatar <input id="botEditAvatar" type="file" accept="image/*"></label>
          <label class="filebtn">ObrÃ¡zek k textu <input id="botEditImg" type="file" accept="image/*"></label>
        </div>

        <div class="row">
          <textarea id="botEditText" rows="3" placeholder="Text pro pÅ™Ã­spÄ›vky (chat) a vÃ½chozÃ­ text" style="width:100%"></textarea>
        </div>

        <div class="card" style="margin:0">
          <header style="justify-content:space-between">
            <b>ScÃ©nÃ¡Å™e odpovÄ›dÃ­ v DM</b>
            <button class="ghost" id="botScenarioAdd" type="button">+ ScÃ©nÃ¡Å™</button>
          </header>
          <div id="botScenarioList" class="stack" style="gap:8px"></div>
          <div class="muted">KaÅ¾dÃ½ scÃ©nÃ¡Å™ = text + (volitelnÄ›) obrÃ¡zek. Bot vybere nÃ¡hodnÄ›.</div>
        </div>

        <div class="row" style="justify-content:flex-end">
          <button class="ghost danger" id="botEditDelete" type="button" style="display:none">Smazat</button>
          <button id="botEditSave" type="button">UloÅ¾it</button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Bot Inbox Modal (Admin) -->
<div id="modalBotInbox" class="modal" hidden>
  <div class="card modal-card" style="max-width:860px">
    <header><b>ZprÃ¡vy botÅ¯</b><button class="ghost" type="button" onclick="closeModal('modalBotInbox')">âœ•</button></header>
    <div class="row" style="align-items:center">
      <select id="botInboxSelect"
               style="min-width:240px"></select>
            <input id="botInboxSearch" placeholder="Hledat podle nickuâ€¦" style="flex:1;min-width:160px">
      <span class="muted">Zobrazuje zprÃ¡vy uÅ¾ivatelÅ¯ poslanÃ© botÅ¯m (pÅ™ehled pro admina).</span>
    </div>
    <div class="feed" id="botInboxFeedModal" style="min-height:240px"></div>
    <div class="row" style="justify-content:flex-end">
      <button class="ghost" id="botInboxClear" type="button">VyÄistit</button>
    </div>
  </div>
</div>

<!-- Notifications Modal -->
<div id="modalNotif" class="modal" hidden>
  <div class="card modal-card" style="max-width:720px">
    <header><b>UpozornÄ›nÃ­</b><button class="ghost" type="button" onclick="closeModal('modalNotif')">âœ•</button></header>
    <div id="notifMiniLoad" class="mini-load" style="display:none"></div>
    <div class="feed" id="notifFeed" style="min-height:180px"></div>
    <div class="row" style="justify-content:flex-end">
      <button class="ghost" id="notifClear" type="button">VyÄistit</button>
    </div>
  </div>
</div>
  <div id="globalToast" class="toast" style="display:none"></div>

  <!-- Floating quick actions (mobile + desktop) -->
  <button id="fabBtn" class="fab" type="button" aria-label="Menu">+</button>
  <div id="fabMenu" class="fab-menu" hidden>
    <button id="fabLogin" type="button">PÅ™ihlÃ¡sit / Registrovat</button>
    <button id="fabDmAdmin" type="button">Napsat adminovi</button>
    <button id="fabPremium" type="button">Koupit privilegia</button>
    <button id="fabBell" type="button">UpozornÄ›nÃ­</button>
    <button id="fabAdmin" class="admin-only" type="button">Admin</button>
    <button id="fabBots" class="admin-only" type="button">NastavenÃ­ botÅ¯</button>
    <button id="fabBotInbox" class="admin-only" type="button">ZprÃ¡vy botÅ¯</button>
    <button id="fabClose" class="ghost" type="button">ZavÅ™Ã­t</button>
  </div>
<!-- Auth Modal -->
<div id="modalAuth" class="modal" hidden>
  <div class="modal-card auth-card">
    <div class="auth-left" aria-hidden="true"></div>
    <div class="auth-right">
      <label class="wallcam authwallcam admin-only" id="authWallCamWrap" title="ZmÄ›nit pozadÃ­ pÅ™ihlÃ¡Å¡enÃ­">ğŸ“·<input id="wallAuthInput" type="file" accept="image/*"></label>
      <button class="x" id="authClose" type="button" onclick="try{closeModalAuth();}catch(e){try{document.getElementById('modalAuth').hidden=true;}catch(_){}}">âœ•</button>
      <div class="auth-brand">
        <img src="img/logo.svg" alt="MAKÃME CZ">
        <div class="name">MAKÃME CZ</div>
        <div class="tag">Spojujeme pracujÃ­cÃ­ a zamÄ›stnavatele v&nbsp;srdci ÄŒeska</div>
      </div>
      <h2 id="authTitle" style="text-align:center">PÅ™ihlÃ¡Å¡enÃ­</h2>
      <div class="auth-form">
        <label class="inp">
          <span>E-mail</span>
          <input id="authEmail" type="email" autocomplete="email" placeholder="napÅ™. jmeno@email.cz">
        </label>
        <label class="inp">
          <span>Heslo</span>
          <input id="authPass" type="password" autocomplete="current-password" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢">
        </label>

        <div id="authNickRow" style="display:none">
          <label class="inp">
            <span>Nick</span>
            <input id="authNick" type="text" maxlength="24" placeholder="NapÅ™. Nikolay">
          </label>
        </div>

        <div id="authRoleRow" style="display:none">
          <label class="inp">
            <span>Role</span>
            <select id="authRole">
              <option value="">Vyberteâ€¦</option>
              <option value="job">HledÃ¡m prÃ¡ci</option>
              <option value="employer">ZamÄ›stnavatel</option>
            </select>
          </label>
        </div>

        <button class="link" id="authMoreToggle" type="button" style="margin:8px 0 0 0">DalÅ¡Ã­ moÅ¾nosti</button>
        <div id="authMoreBox" style="display:none;margin-top:6px">
          <div class="auth-row">
            <label class="chk"><input id="authRemember" type="checkbox"> <span>Zapamatovat si mÄ›</span></label>
            <button class="link" id="authResendVerify" type="button">Znovu poslat ovÄ›Å™enÃ­</button>
          </div>
          <div class="hint info" style="margin-top:6px">â„¹ï¸ OvÄ›Å™ovacÃ­ e-mail nÄ›kdy skonÄÃ­ ve sloÅ¾ce <b>Spam</b> nebo <b>HromadnÃ©</b>.</div>
</div>

        <button class="btn primary" id="authLoginBtn" type="button">PÅ˜IHLÃSIT SE</button>
        <button class="btn primary" id="authRegisterBtn" type="button" style="display:none">REGISTROVAT SE</button>

        <button class="link" id="authForgotBtn" type="button" style="margin-top:6px">ZapomnÄ›li jste heslo?</button>

        <div class="sep"><span>Nebo pÅ™ihlÃ¡Å¡enÃ­ pÅ™es</span></div>
        <div class="auth-social">
          <button class="btn primary google" id="authGoogleBtn" type="button"><span class="g-icn"></span>PÅ™ihlÃ¡sit se pÅ™es Google <span class="muted">(doporuÄeno)</span></button>
        </div>

        <div class="auth-switch">
          <button class="link" id="authSwitchToRegister" type="button">NemÃ¡te ÃºÄet? Registrace</button>
          <button class="link" id="authSwitchToLogin" type="button" style="display:none">UÅ¾ mÃ¡te ÃºÄet? PÅ™ihlÃ¡Å¡enÃ­</button>
        </div>

        <button class="link" id="authResetPass" type="button" style="display:none">ZapomnÄ›li jste heslo?</button>
      </div>
    </div>
  </div>
</div>

<!-- Mandatory profile setup (nick + role). Shown if account exists but profile is missing. -->
<div id="modalSetupProfile" class="modal" hidden>
  <div class="card modal-card setup-card">
    <header class="modal-head">
      <div>
        <b>DokonÄete profil</b>
        <div class="muted" style="margin-top:2px">Nick a role jsou povinnÃ© a po uloÅ¾enÃ­ je lze zmÄ›nit jen pÅ™es Å¾Ã¡dost administrÃ¡torovi.</div>
      </div>
      <button class="x" id="setupClose" type="button">âœ•</button>
    </header>
    <div class="modal-body">
      <label class="inp">
        <span>Nick</span>
        <input id="setupNick" type="text" maxlength="24" placeholder="NapÅ™. Nikolay">
      </label>
      <label class="inp" style="margin-top:10px">
        <span>Role</span>
        <select id="setupRole">
          <option value="">Vyberteâ€¦</option>
          <option value="job">HledÃ¡m prÃ¡ci</option>
          <option value="employer">ZamÄ›stnavatel</option>
        </select>
      </label>
      <button class="btn primary" id="setupSave" type="button" style="margin-top:12px">ULOÅ½IT</button>
    </div>
  </div>
</div>

  <!-- Firebase (Compat build so we can use firebase.* API in app.js) -->
  <script src="https://www.gstatic.com/firebasejs/10.13.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.13.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.13.0/firebase-database-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.13.0/firebase-storage-compat.js"></script>
  <!-- Web Push / FCM (background notifications) -->
  <script src="https://www.gstatic.com/firebasejs/10.13.0/firebase-messaging-compat.js"></script>

  <!-- Firebase config (used by app.js). Keep this as ONE source of truth. -->
  <script>
    window.FIREBASE_CONFIG = {
  apiKey: "AIzaSyDV2BslF-Ll37a1XO3GEfzNMXa7YsSXL1o",
  authDomain: "web-app-b4633.firebaseapp.com",
  databaseURL: "https://web-app-b4633-default-rtdb.europe-west1.firebasedatabase.app",
  projectId: "web-app-b4633",
  storageBucket: "web-app-b4633.firebasestorage.app",
  messagingSenderId: "1041887915171",
  appId: "1:1041887915171:web:84d62eae54e9291b47a316",
  measurementId: "G-C65BPE81SJ"
};
  </script>

  <script defer src="./app.js?v=2026-01-21.2"></script>

<div id="dmMobileOverlay" class="modal" hidden>
  <div class="card dm-mobile-card">
    <header>
      <b id="dmMobileTitle">Konverzace</b>
      <label class="filebtn admin-only" title="PozadÃ­ DM (popup)">
        ğŸ“·<input id="wallDmPopupInput" type="file" accept="image/*">
      </label>
      <button class="ghost x" id="dmMobileClose" type="button">Ã—</button>
    </header>
    <div id="dmMobileMount"></div>
  </div>
</div>


<!-- Admin: Users modal -->
<div id="adminUsersModal" class="modal" hidden>
  <div class="card modal-card">
    <header>
      <b>UÅ¾ivatelÃ©</b>
      <button class="ghost x" id="adminUsersClose" type="button">Ã—</button>
    </header>
    <div class="row" style="flex-wrap:wrap">
      <input id="adminUsersSearch" class="inp" placeholder="Hledat nick / email / UIDâ€¦" style="flex:1;min-width:240px">
      <button class="ghost" id="adminUsersReload" type="button">Obnovit</button>
    </div>
    <div class="mini-load" id="adminUsersMiniLoad" style="display:none">NaÄÃ­tÃ¡me uÅ¾ivateleâ€¦</div>
    <div class="feed" id="adminUsersList" style="max-height:60vh;overflow:auto"></div>
  </div>
</div>

<!-- Admin: User card modal -->
<div id="adminUserCardModal" class="modal" hidden>
  <div class="card modal-card">
    <header>
      <b id="adminUserCardTitle">UÅ¾ivatel</b>
      <button class="ghost x" id="adminUserCardClose" type="button">Ã—</button>
    </header>
    <div class="row" style="align-items:center;gap:10px;flex-wrap:wrap">
      <img id="adminUserCardAva" class="ava-lg" src="./img/default-avatar.svg" alt="">
      <div style="min-width:240px">
        <div class="muted" id="adminUserCardUid"></div>
        <div class="muted" id="adminUserCardEmail"></div>
        <div class="muted" id="adminUserCardRolePlan"></div>
      </div>
    </div>

    <div class="row" style="flex-wrap:wrap;gap:8px">
      <input id="adminUserReason" class="inp" placeholder="DÅ¯vod / poznÃ¡mka" style="flex:1;min-width:240px">
      <button class="ghost" id="adminUserBan60" type="button">Ban 60m</button>
      <button class="ghost" id="adminUserBan24" type="button">Ban 24h</button>
      <button class="ghost" id="adminUserUnban" type="button">Unban</button>
      <button class="ghost" id="adminUserMute60" type="button">Mute 60m</button>
      <button class="ghost" id="adminUserMute24" type="button">Mute 24h</button>
      <button class="ghost" id="adminUserUnmute" type="button">Unmute</button>
      <button class="ghost" id="adminUserVip7" type="button">VIP 7d</button>
      <button class="ghost" id="adminUserVip30" type="button">VIP 30d</button>
      <button class="ghost" id="adminUserVipOff" type="button">VIP OFF</button>
      <button class="ghost" id="adminUserMakeMod" type="button">+ MOD</button>
      <button class="ghost" id="adminUserRemoveMod" type="button">- MOD</button>
    </div>

    <div class="row" style="flex-wrap:wrap;gap:8px">
      <button class="danger" id="adminUserClearChat" type="button">VyÄistit chat uÅ¾ivatele (mÄ›sto)</button>
      <button class="danger" id="adminUserClearDM" type="button">VyÄistit DM uÅ¾ivatele (MVP)</button>
    </div>

    <div class="muted" id="adminUserStats" style="margin-top:8px"></div>
  </div>
</div>

<!-- Admin: Broadcast to all -->
<div id="adminBroadcastModal" class="modal" hidden>
  <div class="card modal-card">
    <header>
      <b>Upozornit vÅ¡echny</b>
      <button class="ghost x" id="adminBroadcastClose" type="button">Ã—</button>
    </header>
    <div class="muted">ZprÃ¡va se uloÅ¾Ã­ do <code>settings/broadcast</code>. UÅ¾ivatel ji mÅ¯Å¾e â€nezobrazovat znovuâ€œ.</div>
    <div class="row" style="flex-wrap:wrap">
      <input id="broadcastTitle" class="inp" placeholder="Nadpis" style="flex:1;min-width:240px">
    </div>
    <textarea id="broadcastText" rows="4" placeholder="Textâ€¦"></textarea>
    <div class="row" style="flex-wrap:wrap">
      <input id="broadcastLink" class="inp" placeholder="Odkaz (volitelnÃ©)" style="flex:1;min-width:240px">
      <label class="filebtn">ObrÃ¡zek <input id="broadcastImg" type="file" accept="image/*"></label>
      <label class="filebtn">MP3 <input id="broadcastMp3" type="file" accept="audio/*"></label>
      <button class="btn primary" id="broadcastSave" type="button">UloÅ¾it a rozeslat</button>
    </div>
    <div class="muted small">Pozn.: Web push â€kdyÅ¾ je web zavÅ™enÃ½â€œ vyÅ¾aduje FCM + VAPID + server (Cloud Functions). Tady je banner + lokÃ¡lnÃ­ notifikace.</div>
  </div>
</div>

<!-- Admin: Map points moderation -->
<div id="adminMapPointsModal" class="modal" hidden>
  <div class="card modal-card">
    <header>
      <b>Body na mapÄ›</b>
      <button class="ghost x" id="adminMapPointsClose" type="button">Ã—</button>
    </header>
    <div class="row" style="flex-wrap:wrap">
      <button class="ghost" id="mapPointsReload" type="button">Obnovit</button>
      <span class="muted">ÄŒekajÃ­cÃ­ body â†’ schvÃ¡lit / smazat</span>
    </div>
    <div class="mini-load" id="mapPointsMiniLoad" style="display:none">NaÄÃ­tÃ¡meâ€¦</div>
    <div class="feed" id="mapPointsList" style="max-height:60vh;overflow:auto"></div>
  </div>
</div>

<!-- Support / complaints -->
<div id="supportModal" class="modal" hidden>
  <div class="card modal-card">
    <header>
      <b>Kontakt / StÃ­Å¾nost</b>
      <button class="ghost x" id="supportClose" type="button">Ã—</button>
    </header>
    <div class="muted">NapiÅ¡te nÃ¡m chybu / stÃ­Å¾nost. PÅ™iloÅ¾te screenshot, pokud mÅ¯Å¾ete.</div>
    <textarea id="supportText" rows="5" placeholder="Co se stalo? Kde? Jak to zopakovat?"></textarea>
    <div class="row" style="flex-wrap:wrap">
      <label class="filebtn">Screenshot <input id="supportImg" type="file" accept="image/*"></label>
      <button class="btn primary" id="supportSend" type="button">Odeslat</button>
    </div>
    <div class="muted small">ZprÃ¡va se uloÅ¾Ã­ do <code>support/tickets</code>.</div>
  </div>
</div>

<!-- Rules & Help -->
<div id="rulesModal" class="modal" hidden>
  <div class="card modal-card">
    <header>
      <b>Pravidla</b>
      <button class="ghost x" id="rulesClose" type="button">Ã—</button>
    </header>
    <div class="doc" id="rulesContent"></div>
  </div>
</div>

<div id="helpModal" class="modal" hidden>
  <div class="card modal-card">
    <header>
      <b>Pomoc</b>
      <button class="ghost x" id="helpClose" type="button">Ã—</button>
    </header>
    <div class="doc" id="helpContent"></div>
  </div>
</div>


  <datalist id="citiesList">
    <option value="praha"></option>
    <option value="brno"></option>
    <option value="ostrava"></option>
    <option value="plzen"></option>
    <option value="liberec"></option>
    <option value="olomouc"></option>
    <option value="all"></option>
  </datalist>
<!-- First-time mini tour -->
<div id="tourModal" class="modal" hidden>
  <div class="modal-card" style="max-width:520px">
    <h3 id="tourTitle">VÃ­tejte na MakÃ¡me.cz</h3>
    <p id="tourText" class="muted" style="line-height:1.35;margin-top:8px">
      KrÃ¡tce ukÃ¡Å¾eme, kde co najdete. Zabere to 10 sekund.
    </p>
    <div style="display:flex;gap:10px;justify-content:flex-end;margin-top:14px">
      <button id="tourSkip" class="btn ghost">PÅ™eskoÄit</button>
      <button id="tourNext" class="btn primary">DalÅ¡Ã­</button>
    </div>
  </div>
</div>


<!-- Privilegia / VIP modal -->
<div id="modalPriv" class="modal" hidden>
  <div class="modal-card modal-priv">
    <button class="modal-x" id="privClose" aria-label="Close">Ã—</button>
    <div class="priv-head">
      <div class="priv-title">Privilegia</div>
      <div class="priv-sub">RychlÃ© sluÅ¾by â€¢ VIP â€¢ Premium</div>
    </div>

    <div class="priv-tabs" role="tablist">
      <button class="priv-tab is-active" data-privtab="buy" type="button">Koupit</button>
      <button class="priv-tab" data-privtab="bots" type="button">Moji boti</button>
      <button class="priv-tab" data-privtab="how" type="button">Jak to funguje</button>
    </div>

    <div class="priv-body">
      <div class="priv-pane" data-privpane="buy">
        <div class="card glass">
          <div class="h3">VIP PracovnÃ­k (navÅ¾dy)</div>
          <div class="muted">100 KÄ â€¢ zprÃ¡vy zamÄ›stnavatelÅ¯m v DM + upozornÄ›nÃ­ na novÃ© nabÃ­dky</div>
          <div class="row gap">
            <button class="btn primary" id="buyVipWorker" type="button">Koupit 100 KÄ</button>
            <button class="btn" id="vipWorkerHow" type="button">Co zÃ­skÃ¡m?</button>
          </div>
        </div>

        <div class="card glass">
          <div class="h3">VIP (mÄ›sÃ­ÄnÄ›)</div>
          <div class="muted">150 KÄ / mÄ›sÃ­c</div>
          <div class="row gap">
            <button class="btn primary" id="buyVip150" type="button">Koupit 150 KÄ</button>
          </div>
        </div>

        <div class="card glass">
          <div class="h3">Premium (mÄ›sÃ­ÄnÄ›)</div>
          <div class="muted">200 KÄ / mÄ›sÃ­c â€¢ navÃ­c boti a nastavenÃ­ vzhledu</div>
          <div class="row gap">
            <button class="btn primary" id="buyPremium200" type="button">Koupit 200 KÄ</button>
          </div>
        </div>

        <div class="card glass">
          <div class="h3">PotvrzenÃ­ platby</div>
          <div class="muted">Po platbÄ› poÅ¡li screenshot â€“ automaticky se odeÅ¡le adminovi ke schvÃ¡lenÃ­.</div>
          <div class="row gap">
            <input id="payScreenshotUrl" class="input" placeholder="URL screenshotu (volitelnÃ©)" />
            <button class="btn" id="sendPremiumRequest" type="button">Odeslat Å¾Ã¡dost</button>
          </div>
          <div class="muted small" id="premiumReqStatus"></div>
        </div>
      </div>

      <div class="priv-pane" data-privpane="bots" hidden>
        <div class="card glass">
          <div class="h3">Moji boti (Premium)</div>
          <div class="muted">Boti publikujÃ­, kdyÅ¾ mÃ¡Å¡ otevÅ™enÃ½ web (MVP).</div>

          <div class="row gap wrap">
            <button class="btn" id="botAdd" type="button">+ PÅ™idat bota</button>
            <button class="btn" id="botRefresh" type="button">Obnovit</button>
          </div>

          <div id="userBotsList" class="bots-list"></div>
        </div>
      </div>

      <div class="priv-pane" data-privpane="how" hidden>
        <div class="card glass">
          <div class="h3">Jak to funguje</div>
          <ul class="muted">
            <li>VIP PracovnÃ­k (100 KÄ navÅ¾dy) umoÅ¾nÃ­ psÃ¡t zamÄ›stnavatelÅ¯m v DM.</li>
            <li>VIP/Premium mÄ›sÃ­ÄnÄ› pÅ™idÃ¡vÃ¡ funkce (boti, vzhled, vÃ­ce moÅ¾nostÃ­).</li>
            <li>Po platbÄ› odeÅ¡li screenshot. Admin schvÃ¡lÃ­ a tarif se aktivuje.</li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>


</body>
</html>
