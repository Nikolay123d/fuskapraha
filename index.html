<!doctype html>
<html lang="cs">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>MAK√ÅME CZ</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="./style.css"/>
  <link rel="preload" as="image" href="./img/bg.jpg">
  <script>
  // Apply last wallpaper ASAP (no flicker)
  (function(){
    try{
      var main = localStorage.getItem('wall_main');
      var authw = localStorage.getItem('wall_auth');
      if(main){
        document.documentElement.style.setProperty('--wall', "url('" + main + "')");
        document.documentElement.style.setProperty('--wallRaw', main);
      }
      if(authw){
        document.documentElement.style.setProperty('--authwall', "url('" + authw + "')");
        document.documentElement.style.setProperty('--authwallRaw', authw);
      }
    }catch(e){}
  })();
</script></head>
<body>
  <!-- Thin activity ticker (mobile + desktop) -->
  <div id="marqueeBar" aria-hidden="true">
    <div id="marqueeInner"><span id="marqueeText">Naƒç√≠t√°me‚Ä¶</span></div>
  </div>
  <div id="topOnlineBar" class="top-online" aria-hidden="true"><span id="topOnlineText">0 online ‚Ä¢ 0 zamƒõstnavatel≈Ø ‚Ä¢ 0 hled√° pr√°ci</span></div>

<div id="preloader">
  <div class="pre-bg"></div>
  <div class="box">
    <img class="logo-img" src="./img/logo.svg" alt="MAK√ÅME CZ"/>
    <div class="title">V√≠tejte v <b>MAK√ÅME CZ</b><br><span class="slogan">Spojujeme pracuj√≠c√≠ a zamƒõstnavatele v srdci ƒåeska</span></div>
    <div class="subtitle" id="preloaderStatus">Naƒç√≠t√°me aplikaci‚Ä¶</div>
    <div class="row">
      <div class="spin"></div>
      <div class="timer" id="preloaderTimer">P≈ôejdeme automaticky za 10 s</div>
    </div>
    <button class="btn primary" id="goSiteBtn" type="button">P≈ôej√≠t na web</button>
  </div>
</div>

<script>
/* Preloader failsafe (works even if app.js crashes) */
(function(){
  var p=document.getElementById('preloader');
  var btn=document.getElementById('goSiteBtn');
  var tEl=document.getElementById('preloaderTimer');
  var sEl=document.getElementById('preloaderStatus');
  var sec=10;
  var steps=[
    'Hled√°me pro v√°s nab√≠dky pr√°ce‚Ä¶',
    'Kontrolujeme chat a nov√© zpr√°vy‚Ä¶',
    'Hled√°me aktivn√≠ zamƒõstnavatele‚Ä¶',
    'Naƒç√≠t√°me profily a p≈ô√°tele‚Ä¶'
  ];
  var i=0;
  function hide(){ if(!p) return; p.classList.add('hidden'); }
  if(btn) btn.addEventListener('click', hide);
  setInterval(function(){
    sec=Math.max(0,sec-1);
    if(tEl) tEl.textContent='P≈ôejdeme automaticky za '+sec+' s';
    if(sec<=0) hide();
    if(sEl){ sEl.textContent=steps[i%steps.length]; i++; }
  }, 1000);
  setTimeout(hide, 11500);
})();
</script>
<div class="topbar">
  <div class="brand"><img src="./img/logo.svg" class="brand-logo" alt="MAK√ÅME CZ"></div>
  <div class="row" style="margin:0">
    <div class="citysel">
      <select id="citySelect">
        <option value="praha">Praha</option>
        <option value="brno">Brno</option>
        <option value="olomouc">Olomouc</option>
        <option value="ostrava">Ostrava</option>
        <option value="plzen">Plze≈à</option>
        <option value="liberec">Liberec</option>
        <option value="hradec">Hradec Kr√°lov√©</option>
        <option value="pardubice">Pardubice</option>
        <option value="ceske_budejovice">ƒåesk√© Budƒõjovice</option>
        <option value="usti">√öst√≠ nad Labem</option>
        <option value="zlin">Zl√≠n</option>
        <option value="karlovy_vary">Karlovy Vary</option>
        <option value="jihlava">Jihlava</option>
        <option value="teplice">Teplice</option>
      </select>
    </div>

    <label class="filebtn admin-only" id="wallCamWrap" title="Zmƒõnit pozad√≠">
      üì∑
      <input id="wallMainInput" type="file" accept="image/*">
    </label>

    
    <button class="drawer-btn neon" id="drawerBtn" type="button" aria-label="Menu">‚ò∞</button>

    <button class="iconbtn mobile-only" id="btnBell" type="button" title="Upozornƒõn√≠">üîî<span id="bellBadge" class="badge-count" style="display:none"></span></button>
    <button class="iconbtn mobile-only" id="btnDMTop" type="button" title="DM">‚úâÔ∏è<span id="dmBadge" class="badge-count" style="display:none"></span></button>
    <button class="iconbtn mobile-only" id="btnFriendsTop" type="button" title="P≈ô√°tel√©">üë•<span id="friendsBadgeTop" class="badge-count" style="display:none"></span></button>
    <button class="mebtn mobile-only" id="btnMe" type="button" title="M≈Øj profil">
      <img id="meMiniAva" src="./img/default-avatar.svg" alt="Me">
    </button>

    <button class="ghost desktop-only" id="toggleTabs" type="button">Menu</button>
    <button class="ghost" id="btnLogin" class="ghost desktop-only" type="button" onclick="try{document.getElementById('preloader')?.classList.add('hidden');document.getElementById('modalAuth').hidden=false;}catch(e){}">P≈ôihl√°≈°en√≠</button>
    <button class="ghost" id="btnSignout" class="ghost desktop-only" type="button">Odhl√°sit</button>
  </div>
</div>


<div id="drawerOverlay" class="drawer-overlay" hidden></div>
<nav id="drawer" class="drawer" aria-hidden="true">
  <div class="drawer-head">
    <div class="drawer-title">MAK√ÅME CZ</div>
    <button id="drawerClose" class="iconbtn" type="button" aria-label="Zav≈ô√≠t">‚úï</button>
  </div>

  
  <a class="drawer-item" href="#" data-view="view-home">üè† Hlavn√≠</a>
  <a class="drawer-item" href="#" data-view="view-chat">üí¨ Chat</a>
  <a class="drawer-item" href="#" data-view="view-dm">‚úâÔ∏è Osobn√≠ (DM)</a>
  <a class="drawer-item" href="#" id="drawerPremium">‚≠ê Privilegia</a>
  <a class="drawer-item prem-only" href="#" id="drawerUserBots" style="display:none">ü§ñ Nastaven√≠ bota</a>
  <a class="drawer-item adm-only" href="#" data-view="view-admin" style="display:none">üõ† Admin</a>

  <div class="drawer-sep"></div>


  <button id="btnLoginDrawer" class="drawer-btn2" type="button">P≈ôihl√°sit se</button>
  <button id="btnSignoutDrawer" class="drawer-btn2" type="button">Odhl√°sit</button>
  <button id="drawerInfoBtn" class="drawer-btn2" type="button">‚ÑπÔ∏è Info (Pravidla / Pomoc / Kontakt)</button>
  <div id="drawerInfoBox" class="drawer-infobox" hidden>
    <a class="drawer-sub" href="#" id="drawerRules">üìú Pravidla</a>
    <a class="drawer-sub" href="#" id="drawerHelp">üÜò Pomoc</a>
    <a class="drawer-sub" href="#" id="drawerSupport">‚úâÔ∏è Kontakt / St√≠≈ænost</a>
  </div>

</nav>

<div class="tabs" id="tabs">
  <a class="tab" href="#" data-view="view-home">Hlavn√≠</a>
  <a class="tab active" href="#" data-view="view-chat">Chat</a>
  <a class="tab" href="#" data-view="view-dm">Osobn√≠ (DM)</a>
  <a class="tab" href="#" data-view="view-friends">P≈ô√°tel√© <span id="friendsBadgeTab" class="muted"></span></a>
  <a class="tab" href="#" data-view="view-members">√öƒçastn√≠ci</a>
  <a class="tab" href="#" data-view="view-rent">Pron√°jem</a>
  <a class="tab" href="#" data-view="view-map">Mapa</a>
  <a class="tab" href="#" data-view="view-profile">Profil</a>
  <a class="tab adm-only" style="display:none" href="#" data-view="view-admin">Admin</a>
</div>

<div id="views">
  <section class="view" id="view-home">
    <div class="card">
      <h2 style="margin:0 0 8px 0">MAK√ÅME.cz</h2>
      <div class="muted" style="margin-bottom:10px">Pr√°ce zaƒç√≠n√° tady.</div>
      <div class="grid2">
        <div class="card" style="padding:12px">
          <b>Rychl√Ω start</b>
          <div class="muted" style="margin-top:6px">Otev≈ôete chat Praha a napi≈°te, co hled√°te / nab√≠z√≠te.</div>
          <button class="btn primary" id="homeGoChat" type="button" style="margin-top:10px;width:100%">Otev≈ô√≠t chat Praha</button>
        </div>
        <div class="card" style="padding:12px">
          <b>Soukrom√© zpr√°vy</b>
          <div class="muted" style="margin-top:6px">Domluvte se v DM bez spamu v chatu.</div>
          <button class="btn" id="homeGoDM" type="button" style="margin-top:10px;width:100%">Otev≈ô√≠t DM</button>
        </div>
      </div>
      <div class="card" style="padding:12px;margin-top:12px">
        <b>Online teƒè</b>
        <div class="muted" style="margin-top:6px" id="homeOnlineNumbers"><span id="homeOnlineTotal">0</span> online ‚Ä¢ <span id="homeOnlineEmployers">0</span> zamƒõstnavatel√© ‚Ä¢ <span id="homeOnlineWorkers">0</span> hledaj√≠ pr√°ci</div>
        <div class="muted" id="homeOnlineEmpty" style="margin-top:6px;display:none">Buƒète prvn√≠ ‚Äî napi≈°te do chatu Praha.</div>
      </div>
      <div class="card" style="padding:12px;margin-top:12px">
        <b>Tipy</b>
        <div class="muted" id="homeTip" style="margin-top:6px">Napi≈°te kr√°tce: mƒõsto, pozice, smƒõny, mzda.</div>
      </div>

      <div class="grid2" style="margin-top:12px">
        <div class="card" style="padding:12px">
          <b>Jak funguje bot (Privilegie)</b>
          <div class="muted" style="margin-top:6px">
            Vyberte VIP / Premium, zapla≈•te p≈ôes QR a po≈°lete screenshot p≈ô√≠mo v DM s botem. Bez screenshotu se ≈æ√°dost neode≈°le.
          </div>
          <button class="btn primary" id="homeGoPremium" type="button" style="margin-top:10px;width:100%">Koupit Premium</button>
          <button class="btn" id="homeGoBot" type="button" style="margin-top:8px;width:100%">Otev≈ô√≠t bota</button>
        </div>
        <div class="card" style="padding:12px">
          <b>Pomoc a kontakt</b>
          <div class="muted" style="margin-top:6px">Nahlaste chybu, po≈°lete ticket, nebo napi≈°te adminovi. Odpov√≠me v co nejkrat≈°√≠m ƒçase.</div>
          <button class="btn" id="homeGoSupport" type="button" style="margin-top:10px;width:100%">Napsat n√°m / Ticket</button>
        </div>
      </div>
    </div>
  </section>

  <section class="view active" id="view-chat">
    <div class="feed-rel">
      <button class="load-more-btn" id="chatLoadMore" type="button" style="display:none">Otev≈ô√≠t dal≈°√≠ 20</button>
      <div class="feed" id="chatFeed"></div>
      <div class="mini-load" id="chatMiniLoad" class="mini-load" style="display:none"><div class="mini-status">Naƒç√≠t√°me chat‚Ä¶</div><div class="mini-tip"></div></div>
      <button class="scroll-down" id="chatScrollDown" type="button" style="display:none" title="Dol≈Ø">‚¨á</button>
    </div>
    <div class="composer sticky" id="chatComposer">
      <div id="typingSim" class="typing-sim muted"></div>
      <input id="msgText" placeholder="Napi≈°te zpr√°vu‚Ä¶">
      <label class="filebtn" title="Foto">
        üìé<input id="msgPhoto" type="file" accept="image/*">
      </label>
      <button id="sendBtn" type="button">Odeslat</button>
    </div>
  </section>

  <section class="view" id="view-dm">
  <div class="dm">
    <div class="card" id="dmConversationCard" style="padding:10px">
      <header>
        <b>Konverzace</b>
        <button class="ghost" id="dmNewBtn" type="button">+ Nov√°</button>
      </header>
      <div id="dmThreads" style="display:flex;flex-direction:column;gap:8px;max-height:60vh;overflow:auto"></div>
      <div class="muted">Tip: kliknƒõte na konverzaci pro otev≈ôen√≠ historie.</div>
    </div>

    <div class="card" style="padding:10px">
      <header style="display:flex;justify-content:space-between;align-items:center">
        <div style="display:flex;align-items:center;gap:10px">
          <button class="ghost" id="dmBackMobile" type="button" style="display:none" title="Zpƒõt">‚¨Ö</button>
          <div><b id="dmWithName">Osobn√≠ zpr√°vy</b> <span class="muted" id="dmWithStatus"></span></div>
        </div>
          <label class="filebtn admin-only" title="Pozad√≠ DM">
            üì∑<input id="wallDmInput" type="file" accept="image/*">
          </label>
        <button class="ghost" id="dmClearBtn" type="button">Vyƒçistit</button>
      </header>
      <div class="feed-rel" style="min-height:45vh">
        <button class="load-more-btn" id="dmLoadMore" type="button" style="display:none">Otev≈ô√≠t dal≈°√≠ 20</button>
        <div class="feed" id="dmFeed" style="min-height:45vh"></div>
        <div class="mini-load" id="dmMiniLoad" class="mini-load" style="display:none"><div class="mini-status">Naƒç√≠t√°me zpr√°vy‚Ä¶</div><div class="mini-tip"></div></div>
        <button class="scroll-down" id="dmScrollDown" type="button" style="display:none" title="Dol≈Ø">‚¨á</button>
      </div>
      <div id="botPremiumPanel" style="display:none;margin-top:10px">
        <div class="row" style="justify-content:space-between;align-items:center">
          <b>N√°kup privilegia (bot)</b>
          <span class="muted" id="botPremiumStep"></span>
        </div>
        <div id="botPremiumActions" class="row"></div>
        <div class="muted" id="botPremiumHint"></div>
      </div>

      <div class="composer sticky" id="dmComposer">
      <div id="typingSim" class="typing-sim muted"></div>
        <input id="dmText" placeholder="Zpr√°va‚Ä¶">
        <label class="filebtn" title="Foto">
          üìé<input id="dmPhoto" type="file" accept="image/*">
        </label>
        <button id="dmSend" type="button">Odeslat</button>
      </div>
    </div>
  </div>
</section>

  <section class="view" id="view-friends">
  <div class="row" style="justify-content:space-between;align-items:center">
    <div><b>P≈ô√°tel√©</b> <span class="muted" id="friendsSummary"></span></div>
    <button class="ghost" id="friendAddOpen" type="button">+ P≈ôidat p≈ô√≠tele</button>
  </div>
  
  <div class="row" id="friendsReqSection" style="display:none;align-items:center;justify-content:space-between">
    <div><b>≈Ω√°dosti</b> <span id="friendsBadgeInline"></span></div>
    <div class="muted" id="friendsReqNote"></div>
  </div>
  <div class="feed" id="friendsRequests" style="display:none"></div>
<div class="row"><b>Seznam p≈ô√°tel</b></div>
  <div class="feed-rel">
    <div class="feed" id="friendsList"></div>
    <div class="mini-load" id="friendsMiniLoad" class="mini-load" style="display:none"><div class="mini-status">Naƒç√≠t√°me p≈ô√°tele‚Ä¶</div><div class="mini-tip"></div></div>
  </div>
  <div class="empty muted" id="friendsListEmpty" style="display:none">Zat√≠m nem√°te p≈ô√°tele. P≈ôidejte nƒõkoho pomoc√≠ tlaƒç√≠tka naho≈ôe.</div>
</section>

  <section class="view" id="view-rent">
    <div class="row">
      <input id="rentTitle" placeholder="N√°zev" style="flex:2;min-width:220px">
      <input id="rentPrice" placeholder="Cena Kƒç" type="number" style="width:140px">
      <select id="rentTTL">
        <option value="0">Bez expirace</option>
        <option value="7">7 dn≈Ø</option>
        <option value="14">14 dn≈Ø</option>
        <option value="30">30 dn≈Ø</option>
      </select>
      <label class="filebtn">üìé<input id="rentPhoto" type="file" accept="image/*"></label>
      <button id="rentAdd" type="button">P≈ôidat</button>
    </div>
    <div class="row">
      <select id="rentStatus">
        <option value="">V≈°e</option>
        <option value="active">Aktivn√≠</option>
        <option value="closed">Uzav≈ôen√©</option>
      </select>
      <select id="rentSort">
        <option value="new">Nejnovƒõj≈°√≠</option>
        <option value="price">Cena</option>
      </select>
      <button id="rentApply" type="button">Pou≈æ√≠t</button>
    </div>
    <div class="feed" id="rentFeed"></div>
  </section>

  <section class="view" id="view-map">
    <div class="mapWrap" style="position:relative">
      <div class="map" id="map"></div>
      <div id="mapMiniLoad" class="mini-load center" style="display:none"><div class="spinner"></div><div class="mini-status">Naƒç√≠t√°me mapu‚Ä¶</div><div class="mini-tip"></div></div><div class="t">Naƒç√≠t√°me mapu‚Ä¶</div></div>
    </div>
    <div class="muted" style="margin-top:8px">Tip: mod/admin m≈Ø≈æe p≈ôid√°vat body a upravovat je podle pravidel.</div>
  </section>

  
  <section class="view" id="view-members">
    <div class="card">
      <header style="justify-content:space-between;align-items:center">
        <b>√öƒçastn√≠ci</b>
        <span class="row" style="margin:0;gap:8px">
          <button class="ghost" id="membersModeOnline" type="button">Online</button>
          <button class="ghost" id="membersModeAll" type="button">V≈°ichni</button>
        </span>
      </header>
      <div class="row">
        <input id="membersSearch" class="inp" placeholder="Hledat podle nicku‚Ä¶" autocomplete="off">
        <button id="membersRefresh" class="ghost" type="button">Obnovit</button>
      </div>
      <div class="muted small" id="membersHint">Online re≈æim: zobrazuje u≈æivatele, kte≈ô√≠ jsou pr√°vƒõ p≈ôihl√°≈°eni (presence).</div>
    </div>
    <div class="feed-rel">
      <div class="feed" id="membersFeed"></div>
      <div class="mini-load" id="membersMiniLoad" class="mini-load" style="display:none"><div class="mini-status">Naƒç√≠t√°me √∫ƒçastn√≠ky‚Ä¶</div><div class="mini-tip"></div></div>
      <button class="scroll-down" id="membersScrollDown" type="button" style="display:none" title="Dol≈Ø">‚¨á</button>
    </div>
  </section>


  <section class="view" id="view-profile">
  <div class="row">
    <img id="myAvatar" class="ava-lg" src="./img/default-avatar.svg" alt="avatar">
    <div>
      <div><b id="myName">U≈æivatel</b> <span id="myAdmin" class="badge admin" style="display:none">ADMIN</span><span id="myPlan" class="badge premium" style="display:none">PREMIUM</span></div>
      <div class="muted" id="profileEmail">E-mail: ‚Äî</div>
      <div class="muted" id="profileRoleLine">Role: ‚Äî</div>
    </div>
  </div>

  <div class="card" style="margin-top:10px">
    <header><b>Profil</b></header>
    <div class="row">
      <input id="setNick" placeholder="Nick" style="flex:1;min-width:200px">
      <button class="ghost" id="reqNickChange" type="button">Po≈æ√°dat o zmƒõnu nicku</button>
    </div>
    <div class="row">
      <select id="setRole">
        <option value="seeker">Hled√°m pr√°ci</option>
        <option value="employer">Zamƒõstnavatel</option>
      </select>
      <button class="ghost" id="reqRoleChange" type="button">Po≈æ√°dat o zmƒõnu role</button>
    </div>
    <div class="row">
      <input id="setAvatarUrl" placeholder="URL avatara (nebo pou≈æij üì∑)" style="flex:2;min-width:260px">
      <label class="filebtn" title="Avatar z telefonu">üì∑<input id="avatarFile" type="file" accept="image/*"></label>
      <button id="saveProfile" type="button">Ulo≈æit</button>
    </div>
    <div class="row">
      <textarea id="setAbout" placeholder="O mnƒõ (kr√°tce)" style="flex:1;min-height:80px"></textarea>
    </div>
    <div class="row">
      <input id="setCompany" placeholder="Firma / Spoleƒçnost (pro zamƒõstnavatele)" style="flex:1;min-width:240px">
      <input id="setPhone" placeholder="Telefon (voliteln√©)" style="flex:1;min-width:200px">
    </div>
    <div class="row">
      <input id="setSkills" placeholder="Dovednosti / obor (nap≈ô. kucha≈ô, kur√Ωr, IT...)" style="flex:1;min-width:240px">
    </div>

    <div class="row">
      <button class="ghost" id="reqPremium" type="button">Koupit privilegium</button>
      <button class="ghost" id="openBotsFromProfile" type="button">Moje boty</button>
      <button class="ghost" id="openSupportFromProfile" type="button">Nahl√°sit probl√©m</button>
      <button id="resetPassTop" type="button">Zapomenut√© heslo</button>
    </div>
    <div class="muted">Nick a role lze nastavit pouze jednou. Dal≈°√≠ zmƒõny jdou p≈ôes ≈æ√°dost adminovi.</div>
  </div>

  <div class="card" id="myVacancyCard" style="margin-top:10px;display:none">
    <header><b>Moje nab√≠dky pr√°ce (pro zamƒõstnavatele)</b></header>
    <div class="row">
      <input id="vacTitle" placeholder="N√°zev pozice / pr√°ce" style="flex:2;min-width:240px">
      <select id="vacCity" style="min-width:160px">
        <option value="praha">Praha</option>
        <option value="brno">Brno</option>
        <option value="olomouc">Olomouc</option>
        <option value="ostrava">Ostrava</option>
      </select>
    </div>
    <div class="row">
      <textarea id="vacText" placeholder="Popis pr√°ce, mzda, smƒõny, kontakt..." style="flex:1;min-height:90px"></textarea>
    </div>
    <div class="row" style="justify-content:space-between;align-items:center">
      <button id="vacPublish" type="button">Zve≈ôejnit</button>
      <span class="muted">P≈ô√°tel√© (hledaj√≠c√≠ pr√°ci) dostanou upozornƒõn√≠.</span>
    </div>
    <div class="feed" id="myVacancies" style="min-height:120px"></div>
  </div>

</section>

<section class="view" id="view-admin">
  <div class="adminWrap">
    <h2>Panel administr√°tora</h2>
    <div class="muted" style="margin:-6px 0 12px">Rychl√© n√°stroje pro moderaci a spr√°vu. Pro detailn√≠ akce otev≈ôete mod√°ly n√≠≈æe.</div>

    <div class="adminGrid">
      <button class="adminTile" id="adminUsersBtn" type="button">
        <div class="t">üë• U≈æivatel√©</div>
        <div class="s">Vyhledat u≈æivatele, otev≈ô√≠t profil, ban/mute/VIP/mod.</div>
      </button>

      <button class="adminTile" id="adminComplaintsBtn" type="button">
        <div class="t">üÜò Tickets</div>
        <div class="s">Fronta ticket≈Ø, odpovƒõdi, statusy, p≈ô√≠lohy.</div>
      </button>

      <button class="adminTile" id="adminBroadcastBtn" type="button">
        <div class="t">üì£ Ozn√°men√≠</div>
        <div class="s">Upozornit v≈°echny (banner v aplikaci + zvuk, kdy≈æ je web otev≈ôen√Ω).</div>
      </button>

      <button class="adminTile" id="adminMapPointsBtn" type="button">
        <div class="t">üó∫Ô∏è Mapa</div>
        <div class="s">Schvalov√°n√≠ bod≈Ø na mapƒõ / spr√°va.</div>
      </button>

      <button class="adminTile" id="adminDesignBtn" type="button">
        <div class="t">üé® Design</div>
        <div class="s">Obr√°zky na pozad√≠ (Auth / Chat / DM) a jejich live aktualizace.</div>
      </button>

      <button class="adminTile" id="adminSoundsBtn" type="button">
        <div class="t">üîä Zvuky</div>
        <div class="s">Notifikace, DM a syst√©mov√© zvuky (live pro v≈°echny).</div>
      </button>

      <button class="adminTile" id="adminBotsBtn" type="button">
        <div class="t">ü§ñ Boti</div>
        <div class="s">Nastaven√≠ bot≈Ø (premium UI ‚Äì p≈ô√≠stup p≈ôes menu).</div>
      </button>

      <button class="adminTile" id="adminBotRunnerBtn" type="button">
        <div class="t">‚öôÔ∏è Bot Runner</div>
        <div class="s">Spou≈°t√≠ Premium boty, kdy≈æ je admin/moder√°tor online: <span id="botRunnerState">Vypnuto</span></div>
      </button>

    </div>

    <div class="muted small" style="margin-top:10px">
      Pozn.: chyba <code>Unexpected token export</code> v konzoli obvykle poch√°z√≠ z roz≈°√≠≈ôen√≠ prohl√≠≈æeƒçe (chrome-extension://‚Ä¶). Nen√≠ to chyba projektu.
    </div>
  </div>
</section>
</div>

<div id="cookieBanner" class="cookie-modal" hidden>
  <div class="card cookie-card">
    <header>
      <b>Cookies</b>
      <button class="ghost x" id="cookieClose" type="button" aria-label="Zav≈ô√≠t">√ó</button>
    </header>
    <div class="muted" style="line-height:1.4">
      Pou≈æ√≠v√°me cookies a lok√°ln√≠ √∫lo≈æi≈°tƒõ pro: p≈ôihl√°≈°en√≠, nastaven√≠ (zvuky/pozad√≠), bezpeƒçnostn√≠ ochranu a lep≈°√≠ fungov√°n√≠ chatu.
      M≈Ø≈æete p≈ôijmout v≈°e, pouze nezbytn√©, nebo odm√≠tnout.
    </div>
    <div class="row" style="justify-content:flex-end;gap:10px;flex-wrap:wrap;margin-top:12px">
      <button class="ghost" id="cookieReject" type="button">Odm√≠tnout</button>
      <button class="ghost" id="cookieNecessary" type="button">Pouze nezbytn√©</button>
      <button class="btn primary" id="cookieAll" type="button">P≈ôijmout v≈°e</button>
    </div>
    <div class="muted small" style="margin-top:10px">
      Tip: Po potvrzen√≠ cookies se v√°s web jednou zept√° na povolen√≠ ozn√°men√≠, aby chodily nov√© zpr√°vy i kdy≈æ je web zav≈ôen√Ω.
    </div>
  </div>
</div>


<div id="promoOverlay" class="modal" hidden>
  <div class="card promo-card">
    <header>
      <b>Privilegium</b>
      <button class="ghost x" id="promoClose" type="button">√ó</button>
    </header>
    <div class="promo-body">
      <img class="promo-img" src="./img/push/prague.jpg" alt="Praha">
      <div class="promo-text">
        <h2 style="margin:0 0 6px 0">Z√≠skej Privilegium</h2>
        <div class="muted" style="line-height:1.45">
          V√≠ce reakc√≠, lep≈°√≠ viditelnost profilu, rychlej≈°√≠ komunikace a dal≈°√≠ roz≈°√≠≈ôen√© funkce.
          Aktivace trv√° minutu.
        </div>
        <div class="row" style="gap:10px;flex-wrap:wrap;margin-top:12px">
          <button class="btn primary" id="promoBuy" type="button">Koupit Premium</button>
          <button class="ghost" id="promoLater" type="button">Pozdƒõji</button>
        </div>
      </div>
    </div>
  </div>
</div>
<div id="greetOverlay" class="modal" hidden>
  <div class="card">
    <header>
      <b>Vzkaz</b>
      <button class="ghost" id="greetClose" type="button">√ó</button>
    </header>
    <img class="rose" src="./img/rose.svg" alt="Rose">
    <h2 style="margin:10px 0 6px">Jsi ta nejkr√°snƒõj≈°√≠ d√≠vka</h2>
    <div class="muted">Toto je od zakladatele. (Zav≈ôe se za <span id="greetSec">10</span> s)</div>
    <div class="row" style="justify-content:center;margin-top:10px">
      <button class="ghost" id="greetDm" type="button">Napsat zakladateli</button>
      <button class="ghost" id="greetAddFriend" type="button">P≈ôidat do p≈ô√°tel</button>
    </div>
  </div>
</div>


<!-- User Profile Modal -->
<div id="modalUserCard" class="modal" hidden>
  <div class="card modal-card usercard">
    <header style="justify-content:space-between;align-items:center">
      <div style="display:flex;align-items:center;gap:10px">
        <img id="userCardAva" class="ava-lg" src="./img/default-avatar.svg" alt="avatar">
        <div>
          <div style="display:flex;align-items:center;gap:8px">
            <b id="userCardNick">U≈æivatel</b>
            <span id="userCardAdmin" class="badge admin" style="display:none">ADMIN</span>
            <span id="userCardPlan" class="badge premium" style="display:none">PREMIUM</span>
          </div>
          <div class="muted">
            <span id="userCardRole">¬∑ ‚Äî</span> ¬∑ <span id="userCardOnline">offline</span>
          </div>
        </div>
      </div>
      <button class="ghost" type="button" onclick="closeModal('modalUserCard')">‚úï</button>
    </header>

    <div class="row" style="margin-top:6px">
      <div class="muted" id="userCardAbout">‚Äî</div>
    </div>

    <div class="row">
      <div class="pill" id="userCardCompanyWrap" style="display:none">üè¢ <span id="userCardCompany"></span></div>
      <div class="pill" id="userCardPhoneWrap" style="display:none">üìû <span id="userCardPhone"></span></div>
      <div class="pill" id="userCardSkillsWrap" style="display:none">üß© <span id="userCardSkills"></span></div>
    </div>

    <div class="row" style="gap:10px;align-items:center">
      <div class="stars" id="userCardStars" aria-label="Hodnocen√≠"></div>
      <div class="muted" id="userCardRatingText">‚Äî</div>
    </div>

    <div class="row" style="justify-content:space-between;align-items:center;margin-top:6px">
      <div class="row" style="margin:0">
        <button class="ghost" id="userCardDm" type="button">‚úâÔ∏è Napsat</button>
        <button class="ghost" id="userCardAddFriend" type="button">üë• P≈ôidat</button>
        <button class="ghost" id="userCardRemoveFriend" type="button" style="display:none">‚ùå Odebrat</button>
      </div>
      <button class="ghost" id="userCardReport" type="button">üö© Nahl√°sit</button>
    </div>

    <div class="card" style="margin-top:10px">
      <header><b>Inzer√°ty / nab√≠dky pr√°ce</b></header>
      <div class="feed" id="userCardVacancies" style="min-height:120px"></div>
      <div class="muted" id="userCardVacEmpty">≈Ω√°dn√© inzer√°ty.</div>
    </div>

    <!-- Admin actions for this user -->
    <div class="card adm-only" id="userCardAdminPanel" style="margin-top:10px;display:none">
      <header><b>Admin</b> <span class="muted">Moderace a pl√°n</span></header>
      <div class="row" style="flex-wrap:wrap">
        <span class="pill">UID: <span id="userCardUid"></span></span>
        <span class="pill">Plan: <b id="userCardPlanFull">‚Äî</b></span>
        <span class="pill">Ban: <b id="userCardBan">‚Äî</b></span>
        <span class="pill">Mute: <b id="userCardMute">‚Äî</b></span>
      </div>

      <div class="row" style="flex-wrap:wrap">
        <button class="ghost" id="ucBan1h" type="button">Ban 1h</button>
        <button class="ghost" id="ucBan24h" type="button">Ban 24h</button>
        <button class="ghost" id="ucBan7d" type="button">Ban 7d</button>
        <button class="ghost" id="ucUnban" type="button">Unban</button>
        <span style="width:10px"></span>
        <button class="ghost" id="ucMute1h" type="button">Mute 1h</button>
        <button class="ghost" id="ucMute24h" type="button">Mute 24h</button>
        <button class="ghost" id="ucMute7d" type="button">Mute 7d</button>
        <button class="ghost" id="ucUnmute" type="button">Unmute</button>
      </div>

      <div class="row" style="flex-wrap:wrap">
        <button class="ghost" id="ucVip7" type="button">VIP 7 dn√≠</button>
        <button class="ghost" id="ucVip30" type="button">VIP 30 dn√≠</button>
        <button class="ghost" id="ucPrem30" type="button">PREMIUM 30 dn√≠</button>
        <button class="ghost" id="ucPremPlus30" type="button">PREMIUM+ 30 dn√≠</button>
        <button class="ghost" id="ucPlanOff" type="button">Plan OFF</button>
      </div>

      <div class="row">
        <input id="ucAdminNote" class="inp" placeholder="Pozn√°mka do logu (voliteln√©)" style="flex:1;min-width:220px">
      </div>

      <div class="card" style="margin-top:10px">
        <header><b>Log akc√≠</b> <span class="muted">usersAudit</span></header>
        <div class="feed" id="userCardAudit" style="min-height:120px"></div>
        <div class="muted" id="userCardAuditEmpty" style="display:none">Zat√≠m ≈æ√°dn√© akce.</div>
      </div>
    </div>
  </div>
</div>


<!-- Bots Settings Modal (Admin) -->
<div id="modalBots" class="modal" hidden>
  <div class="card modal-card" style="max-width:980px">
    <header><b>Nastaven√≠ bot≈Ø</b><button class="ghost" type="button" onclick="closeModal('modalBots')">‚úï</button></header>

    <div class="grid2" style="gap:12px">
      <div class="card" style="margin:0">
        <header style="justify-content:space-between">
          <b>Seznam</b>
          <span class="row" style="margin:0;gap:8px">
            <button class="ghost" id="botsModalAdd" type="button">+ P≈ôidat</button>
            <button class="ghost" id="botsModalRun" type="button">Spustit</button>
            <button class="ghost" id="botsModalStop" type="button">Zastavit</button>
          </span>
        </header>
        <div class="feed" id="botsModalList" style="min-height:260px"></div>
        <div class="muted">Pozn.: Boti publikuj√≠ a odpov√≠daj√≠ v DM pouze, kdy≈æ je otev≈ôen web admina (MVP bez serveru).</div>
      </div>

      <div class="card" style="margin:0">
        <header><b>Editor bota</b> <span class="muted" id="botEditHint">Vyber bota ze seznamu</span></header>

        <div class="row">
          <input id="botEditId" placeholder="ID" style="max-width:140px" disabled>
          <input id="botEditNick" placeholder="Nick" style="flex:1;min-width:180px">
          <input id="botEditCity" list="citiesList" placeholder="Mƒõsto" style="max-width:160px">

          <select id="botEditMode" style="max-width:160px">
            <option value="dm">DM odpovƒõdi</option>
            <option value="chat">Publikovat do chatu</option>
            <option value="both">DM + chat</option>
          </select>

        </div>

        <div class="row">
          <input id="botEditInterval" placeholder="Interval (min)" style="max-width:160px">
          <input id="botEditFrom" type="time" title="Aktivn√≠ od" style="max-width:140px">
          <input id="botEditTo" type="time" title="Aktivn√≠ do" style="max-width:140px">
          <label class="pill" style="display:flex;align-items:center;gap:8px">
            <input id="botEditEnabled" type="checkbox"> aktivn√≠
          </label>
          <label class="filebtn">Avatar <input id="botEditAvatar" type="file" accept="image/*"></label>
          <label class="filebtn">Obr√°zek k textu <input id="botEditImg" type="file" accept="image/*"></label>
        </div>

        <div class="row">
          <textarea id="botEditText" rows="3" placeholder="Text pro p≈ô√≠spƒõvky (chat) a v√Ωchoz√≠ text" style="width:100%"></textarea>
        </div>

        <div class="card" style="margin:0">
          <header style="justify-content:space-between">
            <b>Sc√©n√°≈ôe odpovƒõd√≠ v DM</b>
            <button class="ghost" id="botScenarioAdd" type="button">+ Sc√©n√°≈ô</button>
          </header>
          <div id="botScenarioList" class="stack" style="gap:8px"></div>
          <div class="muted">Ka≈æd√Ω sc√©n√°≈ô = text + (volitelnƒõ) obr√°zek. Bot vybere n√°hodnƒõ.</div>
        </div>

        <div class="row" style="justify-content:flex-end">
          <button class="ghost danger" id="botEditDelete" type="button" style="display:none">Smazat</button>
          <button id="botEditSave" type="button">Ulo≈æit</button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Bot Inbox Modal (Admin) -->
<div id="modalBotInbox" class="modal" hidden>
  <div class="card modal-card" style="max-width:860px">
    <header><b>Zpr√°vy bot≈Ø</b><button class="ghost" type="button" onclick="closeModal('modalBotInbox')">‚úï</button></header>
    <div class="row" style="align-items:center">
      <select id="botInboxSelect"
               style="min-width:240px"></select>
            <input id="botInboxSearch" placeholder="Hledat podle nicku‚Ä¶" style="flex:1;min-width:160px">
      <span class="muted">Zobrazuje zpr√°vy u≈æivatel≈Ø poslan√© bot≈Øm (p≈ôehled pro admina).</span>
    </div>
    <div class="feed" id="botInboxFeedModal" style="min-height:240px"></div>
    <div class="row" style="justify-content:flex-end">
      <button class="ghost" id="botInboxClear" type="button">Vyƒçistit</button>
    </div>
  </div>
</div>

<!-- Notifications Modal -->
<div id="modalNotif" class="modal" hidden>
  <div class="card modal-card" style="max-width:720px">
    <header><b>Upozornƒõn√≠</b><button class="ghost" type="button" onclick="closeModal('modalNotif')">‚úï</button></header>
    <div id="notifMiniLoad" class="mini-load" style="display:none"></div>
    <div class="feed" id="notifFeed" style="min-height:180px"></div>
    <div class="row" style="justify-content:flex-end">
      <button class="ghost" id="notifClear" type="button">Vyƒçistit</button>
    </div>
  </div>
</div>
  <div id="globalToast" class="toast" style="display:none"></div>

  <!-- Floating quick actions (mobile + desktop) -->
  <button id="fabBtn" class="fab" type="button" aria-label="Menu">+</button>
  <div id="fabMenu" class="fab-menu" hidden>
    <button id="fabLogin" type="button">P≈ôihl√°sit / Registrovat</button>
    <button id="fabDmAdmin" type="button">Napsat adminovi</button>
    <button id="fabPremium" type="button">Koupit privilegia</button>
    <button id="fabBell" type="button">Upozornƒõn√≠</button>
    <button id="fabAdmin" class="admin-only" type="button">Admin</button>
    <button id="fabBots" class="admin-only" type="button">Nastaven√≠ bot≈Ø</button>
    <button id="fabBotInbox" class="admin-only" type="button">Zpr√°vy bot≈Ø</button>
    <button id="fabClose" class="ghost" type="button">Zav≈ô√≠t</button>
  </div>
<!-- Auth Modal -->
<div id="modalAuth" class="modal" hidden>
  <div class="modal-card auth-card">
    <div class="auth-left" aria-hidden="true"></div>
    <div class="auth-right">
      <label class="wallcam authwallcam admin-only" id="authWallCamWrap" title="Zmƒõnit pozad√≠ p≈ôihl√°≈°en√≠">üì∑<input id="wallAuthInput" type="file" accept="image/*"></label>
      <button class="x" id="authClose" type="button" onclick="try{closeModalAuth();}catch(e){try{document.getElementById('modalAuth').hidden=true;}catch(_){}}">‚úï</button>
      <div class="auth-brand">
        <img src="img/logo.svg" alt="MAK√ÅME CZ">
        <div class="name">MAK√ÅME CZ</div>
        <div class="tag">Spojujeme pracuj√≠c√≠ a zamƒõstnavatele v&nbsp;srdci ƒåeska</div>
      </div>
      <h2 id="authTitle" style="text-align:center">P≈ôihl√°≈°en√≠</h2>
      <div class="auth-form">
        <label class="inp">
          <span>E-mail</span>
          <input id="authEmail" type="email" autocomplete="email" placeholder="nap≈ô. jmeno@email.cz">
        </label>
        <label class="inp">
          <span>Heslo</span>
          <input id="authPass" type="password" autocomplete="current-password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
        </label>

        <div id="authNickRow" style="display:none">
          <label class="inp">
            <span>Nick</span>
            <input id="authNick" type="text" maxlength="24" placeholder="Nap≈ô. Nikolay">
          </label>
        </div>

        <div id="authRoleRow" style="display:none">
          <label class="inp">
            <span>Role</span>
            <select id="authRole">
              <option value="">Vyberte‚Ä¶</option>
              <option value="job">Hled√°m pr√°ci</option>
              <option value="employer">Zamƒõstnavatel</option>
            </select>
          </label>
        </div>

        <button class="link" id="authMoreToggle" type="button" style="margin:8px 0 0 0">Dal≈°√≠ mo≈ænosti</button>
        <div id="authMoreBox" style="display:none;margin-top:6px">
          <div class="auth-row">
            <label class="chk"><input id="authRemember" type="checkbox"> <span>Zapamatovat si mƒõ</span></label>
            <button class="link" id="authResendVerify" type="button">Znovu poslat ovƒõ≈ôen√≠</button>
          </div>
          <div class="hint info" style="margin-top:6px">‚ÑπÔ∏è Ovƒõ≈ôovac√≠ e-mail nƒõkdy skonƒç√≠ ve slo≈æce <b>Spam</b> nebo <b>Hromadn√©</b>.</div>
</div>

        <button class="btn primary" id="authLoginBtn" type="button">P≈òIHL√ÅSIT SE</button>
        <button class="btn primary" id="authRegisterBtn" type="button" style="display:none">REGISTROVAT SE</button>

        <button class="link" id="authForgotBtn" type="button" style="margin-top:6px">Zapomnƒõli jste heslo?</button>

        <div class="sep"><span>Nebo p≈ôihl√°≈°en√≠ p≈ôes</span></div>
        <div class="auth-social">
          <button class="btn primary google" id="authGoogleBtn" type="button"><span class="g-icn"></span>P≈ôihl√°sit se p≈ôes Google <span class="muted">(doporuƒçeno)</span></button>
        </div>

        <div class="auth-switch">
          <button class="link" id="authSwitchToRegister" type="button">Nem√°te √∫ƒçet? Registrace</button>
          <button class="link" id="authSwitchToLogin" type="button" style="display:none">U≈æ m√°te √∫ƒçet? P≈ôihl√°≈°en√≠</button>
        </div>

      </div>
    </div>
  </div>
</div>

<!-- Mandatory profile setup (nick + role). Shown if account exists but profile is missing. -->
<div id="modalSetupProfile" class="modal" hidden>
  <div class="card modal-card setup-card">
    <header class="modal-head">
      <div>
        <b>Dokonƒçete profil</b>
        <div class="muted" style="margin-top:2px">Nick a role jsou povinn√© a po ulo≈æen√≠ je lze zmƒõnit jen p≈ôes ≈æ√°dost administr√°torovi.</div>
      </div>
      <button class="x" id="setupClose" type="button">‚úï</button>
    </header>
    <div class="modal-body">
      <label class="inp">
        <span>Nick</span>
        <input id="setupNick" type="text" maxlength="24" placeholder="Nap≈ô. Nikolay">
      </label>
      <label class="inp" style="margin-top:10px">
        <span>Role</span>
        <select id="setupRole">
          <option value="">Vyberte‚Ä¶</option>
          <option value="job">Hled√°m pr√°ci</option>
          <option value="employer">Zamƒõstnavatel</option>
        </select>
      </label>
      <button class="btn primary" id="setupSave" type="button" style="margin-top:12px">ULO≈ΩIT</button>
    </div>
  </div>
</div>

  <!-- Firebase (Compat build so we can use firebase.* API in app.js) -->
  <script src="https://www.gstatic.com/firebasejs/10.13.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.13.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.13.0/firebase-database-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.13.0/firebase-storage-compat.js"></script>
  <!-- Web Push / FCM (background notifications) -->
  <script src="https://www.gstatic.com/firebasejs/10.13.0/firebase-messaging-compat.js"></script>

  <!-- Firebase config (used by app.js). Keep this as ONE source of truth. -->
  <script>
    window.FIREBASE_CONFIG = {
      apiKey: "AIzaSyDw_bVibsVyZegH7OJyZ_yRjI3uLhroVBk",
      authDomain: "praga-4baee.firebaseapp.com",
      databaseURL: "https://praga-4baee-default-rtdb.firebaseio.com",
      projectId: "praga-4baee",
      storageBucket: "praga-4baee.firebasestorage.app",
      messagingSenderId: "336023952536",
      appId: "1:336023952536:web:f7437feaa25b6eadcd04ed",
      measurementId: "G-K7CFF9VK23"
    };
  </script>

  <script defer src="./app.js?v=2026-01-21.1"></script>

<div id="dmMobileOverlay" class="modal" hidden>
  <div class="card dm-mobile-card">
    <header>
      <b id="dmMobileTitle">Konverzace</b>
      <label class="filebtn admin-only" title="Pozad√≠ DM (popup)">
        üì∑<input id="wallDmPopupInput" type="file" accept="image/*">
      </label>
      <button class="ghost x" id="dmMobileClose" type="button">√ó</button>
    </header>
    <div id="dmMobileMount"></div>
  </div>
</div>


<!-- Admin: Users modal -->
<div id="adminUsersModal" class="modal" hidden>
  <div class="card modal-card">
    <header>
      <b>U≈æivatel√©</b>
      <button class="ghost x" id="adminUsersClose" type="button">√ó</button>
    </header>
    <div class="row" style="flex-wrap:wrap">
      <input id="adminUsersSearch" class="inp" placeholder="Hledat nick / email / UID‚Ä¶" style="flex:1;min-width:240px">
      <button class="ghost" id="adminUsersReload" type="button">Obnovit</button>
    </div>
    <div class="mini-load" id="adminUsersMiniLoad" style="display:none">Naƒç√≠t√°me u≈æivatele‚Ä¶</div>
    <div class="feed" id="adminUsersList" style="max-height:60vh;overflow:auto"></div>
  </div>
</div>

<!-- Admin: User card modal -->
<div id="adminUserCardModal" class="modal" hidden>
  <div class="card modal-card">
    <header>
      <b id="adminUserCardTitle">U≈æivatel</b>
      <button class="ghost x" id="adminUserCardClose" type="button">√ó</button>
    </header>
    <div class="row" style="align-items:center;gap:10px;flex-wrap:wrap">
      <img id="adminUserCardAva" class="ava-lg" src="./img/default-avatar.svg" alt="">
      <div style="min-width:240px">
        <div class="muted" id="adminUserCardUid"></div>
        <div class="muted" id="adminUserCardEmail"></div>
        <div class="muted" id="adminUserCardRolePlan"></div>
      </div>
    </div>

    <div class="row" style="flex-wrap:wrap;gap:8px">
      <input id="adminUserReason" class="inp" placeholder="D≈Øvod / pozn√°mka" style="flex:1;min-width:240px">
      <button class="ghost" id="adminUserBan60" type="button">Ban 60m</button>
      <button class="ghost" id="adminUserBan24" type="button">Ban 24h</button>
      <button class="ghost" id="adminUserUnban" type="button">Unban</button>
      <button class="ghost" id="adminUserMute60" type="button">Mute 60m</button>
      <button class="ghost" id="adminUserMute24" type="button">Mute 24h</button>
      <button class="ghost" id="adminUserUnmute" type="button">Unmute</button>
      <button class="ghost" id="adminUserVip7" type="button">VIP 7d</button>
      <button class="ghost" id="adminUserVip30" type="button">VIP 30d</button>
      <button class="ghost" id="adminUserVipOff" type="button">VIP OFF</button>
      <button class="ghost" id="adminUserMakeMod" type="button">+ MOD</button>
      <button class="ghost" id="adminUserRemoveMod" type="button">- MOD</button>
    </div>

    <div class="row" style="flex-wrap:wrap;gap:8px">
      <button class="danger" id="adminUserClearChat" type="button">Vyƒçistit chat u≈æivatele (mƒõsto)</button>
      <button class="danger" id="adminUserClearDM" type="button">Vyƒçistit DM u≈æivatele (MVP)</button>
    </div>

    <div class="muted" id="adminUserStats" style="margin-top:8px"></div>
  </div>
</div>

<!-- Admin: Broadcast to all -->
<div id="adminBroadcastModal" class="modal" hidden>
  <div class="card modal-card">
    <header>
      <b>Upozornit v≈°echny</b>
      <button class="ghost x" id="adminBroadcastClose" type="button">√ó</button>
    </header>
    <div class="muted">Zpr√°va se ulo≈æ√≠ do <code>settings/broadcast</code>. U≈æivatel ji m≈Ø≈æe ‚Äûnezobrazovat znovu‚Äú.</div>
    <div class="row" style="flex-wrap:wrap">
      <input id="broadcastTitle" class="inp" placeholder="Nadpis" style="flex:1;min-width:240px">
    </div>
    <textarea id="broadcastText" rows="4" placeholder="Text‚Ä¶"></textarea>
    <div class="row" style="flex-wrap:wrap">
      <input id="broadcastLink" class="inp" placeholder="Odkaz (voliteln√©)" style="flex:1;min-width:240px">
      <label class="filebtn">Obr√°zek <input id="broadcastImg" type="file" accept="image/*"></label>
      <label class="filebtn">MP3 <input id="broadcastMp3" type="file" accept="audio/*"></label>
      <button class="btn primary" id="broadcastSave" type="button">Ulo≈æit a rozeslat</button>
    </div>
    <div class="muted small">Pozn.: Web push ‚Äûkdy≈æ je web zav≈ôen√Ω‚Äú vy≈æaduje FCM + VAPID + server (Cloud Functions). Tady je banner + lok√°ln√≠ notifikace.</div>
  </div>
</div>

<!-- Admin: Map points moderation -->
<div id="adminMapPointsModal" class="modal" hidden>
  <div class="card modal-card">
    <header>
      <b>Body na mapƒõ</b>
      <button class="ghost x" id="adminMapPointsClose" type="button">√ó</button>
    </header>
    <div class="row" style="flex-wrap:wrap">
      <button class="ghost" id="mapPointsReload" type="button">Obnovit</button>
      <span class="muted">ƒåekaj√≠c√≠ body ‚Üí schv√°lit / smazat</span>
    </div>
    <div class="mini-load" id="mapPointsMiniLoad" style="display:none">Naƒç√≠t√°me‚Ä¶</div>
    <div class="feed" id="mapPointsList" style="max-height:60vh;overflow:auto"></div>
  </div>
</div>

<!-- Support / complaints -->
<div id="supportModal" class="modal" hidden>
  <div class="card modal-card">
    <header>
      <b>Kontakt / St√≠≈ænost</b>
      <button class="ghost x" id="supportClose" type="button">√ó</button>
    </header>
    <div class="muted">Napi≈°te n√°m chybu / st√≠≈ænost. P≈ôilo≈æte screenshot, pokud m≈Ø≈æete.</div>
    <textarea id="supportText" rows="5" placeholder="Co se stalo? Kde? Jak to zopakovat?"></textarea>
    <div class="row" style="flex-wrap:wrap">
      <label class="filebtn">Screenshot <input id="supportImg" type="file" accept="image/*"></label>
      <button class="btn primary" id="supportSend" type="button">Odeslat</button>
    </div>
    <div class="muted small">Zpr√°va se ulo≈æ√≠ do <code>support/tickets</code>.</div>
  </div>
</div>

<!-- Rules & Help -->
<div id="rulesModal" class="modal" hidden>
  <div class="card modal-card">
    <header>
      <b>Pravidla</b>
      <button class="ghost x" id="rulesClose" type="button">√ó</button>
    </header>
    <div class="doc" id="rulesContent"></div>
  </div>
</div>

<div id="helpModal" class="modal" hidden>
  <div class="card modal-card">
    <header>
      <b>Pomoc</b>
      <button class="ghost x" id="helpClose" type="button">√ó</button>
    </header>
    <div class="doc" id="helpContent"></div>
  </div>
</div>


  <datalist id="citiesList">
    <option value="praha"></option>
    <option value="brno"></option>
    <option value="ostrava"></option>
    <option value="plzen"></option>
    <option value="liberec"></option>
    <option value="olomouc"></option>
    <option value="all"></option>
  </datalist>
<!-- First-time mini tour -->
<div id="tourModal" class="modal" hidden>
  <div class="modal-card" style="max-width:520px">
    <h3 id="tourTitle">V√≠tejte na Mak√°me.cz</h3>
    <p id="tourText" class="muted" style="line-height:1.35;margin-top:8px">
      Kr√°tce uk√°≈æeme, kde co najdete. Zabere to 10 sekund.
    </p>
    <div style="display:flex;gap:10px;justify-content:flex-end;margin-top:14px">
      <button id="tourSkip" class="btn ghost">P≈ôeskoƒçit</button>
      <button id="tourNext" class="btn primary">Dal≈°√≠</button>
    </div>
  </div>
</div>


<!-- Privilegia / VIP modal -->
<div id="modalPriv" class="modal" hidden>
  <div class="modal-card modal-priv">
    <button class="modal-x" id="privClose" aria-label="Close">√ó</button>
    <div class="priv-head">
      <div class="priv-title">Privilegia</div>
      <div class="priv-sub">Rychl√© slu≈æby ‚Ä¢ VIP ‚Ä¢ Premium</div>
    </div>

    <div class="priv-tabs" role="tablist">
      <button class="priv-tab is-active" data-privtab="buy" type="button">Koupit</button>
      <button class="priv-tab" data-privtab="bots" type="button">Moji boti</button>
      <button class="priv-tab" data-privtab="how" type="button">Jak to funguje</button>
    </div>

    <div class="priv-body">
      <div class="priv-pane" data-privpane="buy">
        <div class="card glass">
          <div class="h3">VIP Pracovn√≠k (nav≈ædy)</div>
          <div class="muted">100 Kƒç ‚Ä¢ zpr√°vy zamƒõstnavatel≈Øm v DM + upozornƒõn√≠ na nov√© nab√≠dky</div>
          <div class="row gap">
            <button class="btn primary" id="buyVipWorker" type="button">Koupit 100 Kƒç</button>
            <button class="btn" id="vipWorkerHow" type="button">Co z√≠sk√°m?</button>
          </div>
        </div>

        <div class="card glass">
          <div class="h3">VIP (mƒõs√≠ƒçnƒõ)</div>
          <div class="muted">150 Kƒç / mƒõs√≠c</div>
          <div class="row gap">
            <button class="btn primary" id="buyVip150" type="button">Koupit 150 Kƒç</button>
          </div>
        </div>

        <div class="card glass">
          <div class="h3">Premium (mƒõs√≠ƒçnƒõ)</div>
          <div class="muted">200 Kƒç / mƒõs√≠c ‚Ä¢ nav√≠c boti a nastaven√≠ vzhledu</div>
          <div class="row gap">
            <button class="btn primary" id="buyPremium200" type="button">Koupit 200 Kƒç</button>
          </div>
        </div>

        <div class="card glass">
          <div class="h3">Potvrzen√≠ platby</div>
          <div class="muted">Po platbƒõ po≈°li screenshot ‚Äì automaticky se ode≈°le adminovi ke schv√°len√≠.</div>
          <div class="row gap">
            <input id="payScreenshotUrl" class="input" placeholder="URL screenshotu (voliteln√©)" />
            <button class="btn" id="sendPremiumRequest" type="button">Odeslat ≈æ√°dost</button>
          </div>
          <div class="muted small" id="premiumReqStatus"></div>
        </div>
      </div>

      <div class="priv-pane" data-privpane="bots" hidden>
        <div class="card glass">
          <div class="h3">Moji boti (Premium)</div>
          <div class="muted">Boti publikuj√≠, kdy≈æ m√°≈° otev≈ôen√Ω web (MVP).</div>

          <div class="row gap wrap">
            <button class="btn" id="botAdd" type="button">+ P≈ôidat bota</button>
            <button class="btn" id="botRefresh" type="button">Obnovit</button>
          </div>

          <div id="userBotsList" class="bots-list"></div>
        </div>
      </div>

      <div class="priv-pane" data-privpane="how" hidden>
        <div class="card glass">
          <div class="h3">Jak to funguje</div>
          <ul class="muted">
            <li>VIP Pracovn√≠k (100 Kƒç nav≈ædy) umo≈æn√≠ ps√°t zamƒõstnavatel≈Øm v DM.</li>
            <li>VIP/Premium mƒõs√≠ƒçnƒõ p≈ôid√°v√° funkce (boti, vzhled, v√≠ce mo≈ænost√≠).</li>
            <li>Po platbƒõ ode≈°li screenshot. Admin schv√°l√≠ a tarif se aktivuje.</li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>


</body>
</html>
