<!doctype html>
<html lang="uk">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>PR√ÅCE CZ CHAT</title>
  <link rel="stylesheet" href="style.css?v=30"/>
  <link rel="preconnect" href="https://www.gstatic.com" crossorigin>
  <link rel="preconnect" href="https://www.googleapis.com" crossorigin>
  <link rel="preconnect" href="https://unpkg.com" crossorigin>
  <script>
    window.activateTab = (id) => {
      document.querySelectorAll(".tab").forEach(t => t.classList.remove("active"));
      document.querySelectorAll(".panel").forEach(p => p.hidden = true);
      document.getElementById(id+"Tab").classList.add("active");
      document.getElementById(id+"Panel").hidden = false;
    };
  </script>
</head>
<body>
  <header class="topbar">
    <div class="brand">PR√ÅCE CZ CHAT</div>
    <div class="controls">
      <label>–ú—ñ—Å—Ç–æ:
        <select id="citySelect">
          <option>Praha</option><option>Brno</option><option>Ostrava</option>
          <option>Plze≈à</option><option>Olomouc</option><option>Liberec</option>
          <option>√öst√≠ nad Labem</option><option>Hradec Kr√°lov√©</option>
          <option>Pardubice</option><option>ƒåesk√© Budƒõj–æ–≤ice</option>
        </select>
      </label>
      <div class="spacer"></div>
      <button id="btnMembers" title="–£—á–∞—Å–Ω–∏–∫–∏">üë•</button>
      <button id="btnBell" title="–°–ø–æ–≤—ñ—â–µ–Ω–Ω—è">üîî<span id="bellCount">0</span></button>
      <button id="btnProfile" class="primary">–ü—Ä–æ—Ñ—ñ–ª—å</button>
    </div>
  </header>
  <nav class="tabs">
    <button id="chatTab" class="tab active" onclick="activateTab('chat')">üí¨ –ß–∞—Ç</button>
    <button id="rentTab" class="tab" onclick="activateTab('rent')">üè† –û—Ä–µ–Ω–¥–∞</button>
    <button id="mapTab" class="tab" onclick="activateTab('map')">üó∫Ô∏è –ö–∞—Ä—Ç–∞</button>
    <button id="friendsTab" class="tab" onclick="activateTab('friends')">üë• –î—Ä—É–∑—ñ</button>
    <button id="dmTab" class="tab" onclick="activateTab('dm')">‚úâÔ∏è –û—Å–æ–±–∏—Å—Ç—ñ</button>
    <button id="helpTab" class="tab" onclick="activateTab('help')">üÜò –î–æ–ø–æ–º–æ–≥–∞</button>
  </nav>
  <section id="chatPanel" class="panel">
    <div class="chat-wrap">
      <div id="chatList" class="chat-list"></div>
      <div class="composer">
        <label class="attach" for="chatPhoto">üì∑</label>
        <input id="chatPhoto" type="file" accept="image/*"/>
        <input id="chatText" placeholder="–ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è‚Ä¶"/>
        <button id="chatSend" class="primary">–í—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏</button>
      </div>
    </div>
  </section>
  <section id="rentPanel" class="panel" hidden>
    <div class="chat-wrap">
      <div id="rentList" class="chat-list"></div>
      <div class="composer">
        <label class="attach" for="rentPhoto">üì∑</label>
        <input id="rentPhoto" type="file" accept="image/*"/>
        <input id="rentText" placeholder="–û–≥–æ–ª–æ—à–µ–Ω–Ω—è‚Ä¶"/>
        <button id="rentSend" class="primary">–í—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏</button>
      </div>
    </div>
  </section>
  <section id="mapPanel" class="panel" hidden>
    <div id="map" class="map"></div>
    <details id="mapAdmin" class="adminOnly"><summary>–†–µ–¥–∞–∫—Ç–æ—Ä –∫–∞—Ä—Ç–∏ (–∞–¥–º—ñ–Ω)</summary>
      <div class="grid2">
        <input id="poiTitle" placeholder="–ù–∞–∑–≤–∞"/>
        <select id="poiType"><option value="help">–î–æ–ø–æ–º–æ–≥–∞</option><option value="vol">–í–æ–ª–æ–Ω—Ç–µ—Ä–∏</option><option value="pharm">–ê–ø—Ç–µ–∫–∞</option></select>
        <input id="poiPhoto" placeholder="URL —Ñ–æ—Ç–æ (–æ–ø—Ü.)"/><input id="poiLink" placeholder="–ü–æ—Å–∏–ª–∞–Ω–Ω—è (–æ–ø—Ü.)"/>
      </div><button id="addPoi">–î–æ–¥–∞—Ç–∏ —Ç–æ—á–∫—É (—Ü–µ–Ω—Ç—Ä)</button>
    </details>
  </section>
  <section id="friendsPanel" class="panel" hidden>
    <h3>–ú–æ—ó –¥—Ä—É–∑—ñ</h3><div id="friendsList"></div>
    <h3>–ó–∞—è–≤–∫–∏</h3><div id="requestsList"></div>
  </section>
  <section id="dmPanel" class="panel" hidden>
    <div class="dm-layout">
      <aside id="dmSidebar"></aside>
      <div class="dm-wrap">
        <div id="dmList" class="dm-list"></div>
        <div class="composer">
          <label class="attach" for="dmPhoto">üìé</label><input id="dmPhoto" type="file" accept="image/*"/>
          <input id="dmText" placeholder="–ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è‚Ä¶"/><button id="dmSend" class="primary">–ù–∞–¥—ñ—Å–ª–∞—Ç–∏</button>
        </div>
      </div>
    </div>
  </section>
  <section id="helpPanel" class="panel" hidden>
    <div id="helpList" class="cards"></div>
    <details id="helpAdmin" class="adminOnly"><summary>–ë–æ—Ç ¬´–î–æ–ø–æ–º–æ–≥–∞¬ª (–∞–¥–º—ñ–Ω)</summary>
      <div class="grid2"><input id="helpText" placeholder="–¢–µ–∫—Å—Ç"/><input id="helpLink" placeholder="URL"/><input id="helpPhotoUrl" placeholder="URL —Ñ–æ—Ç–æ"/></div>
      <button id="helpPost">–û–ø—É–±–ª—ñ–∫—É–≤–∞—Ç–∏</button>
    </details>
  </section>
  <div id="membersModal" class="modal" hidden><div class="modal-body"><div class="modal-head"><h3>–£—á–∞—Å–Ω–∏–∫–∏</h3><button class="close">‚úñ</button></div><div id="membersList" class="list"></div></div></div>
  <div id="profileModal" class="modal" hidden>
    <div class="modal-body"><div class="modal-head"><h3>–ü—Ä–æ—Ñ—ñ–ª—å</h3><button class="close">‚úñ</button></div>
      <div id="profileBox"></div><hr/>
      <details><summary>–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è</summary>
        <div class="grid2">
          <input id="loginEmail" type="email" placeholder="Email"/><input id="loginPass" type="password" placeholder="–ü–∞—Ä–æ–ª—å"/>
          <button id="btnLogin" class="primary">–£–≤—ñ–π—Ç–∏</button><button id="btnReg">–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è</button><button id="btnGoogle">Google</button><button id="btnReset">–ó–∞–±—É–ª–∏ –ø–∞—Ä–æ–ª—å?</button><button id="btnLogout">–í–∏–π—Ç–∏</button>
        </div>
      </details>
      <details class="adminOnly"><summary>–û–±–∫–ª–∞–¥–∏–Ω–∫–∏</summary><div class="grid2"><input id="bgGlobalUrl" placeholder="URL –¥–ª—è –≤—Å—ñ—Ö"/><button id="saveBgGlobal">–ó–±–µ—Ä–µ–≥—Ç–∏</button><input id="bgCityUrl" placeholder="URL –¥–ª—è –º—ñ—Å—Ç–∞"/><button id="saveBgCity">–ó–±–µ—Ä–µ–≥—Ç–∏</button></div></details>
    </div>
  </div>
  <div id="toastBox"></div>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script type="module" src="config.js?v=30"></script>
  <script type="module" src="app.js?v=30"></script>
</body></html>
