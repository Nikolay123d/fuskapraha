<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>PR√ÅCE CZ CHAT</title>
  <link rel="stylesheet" href="./style.css">
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">
</head>
<body>
<header class="topbar">
  <div class="left">
    <div class="brand">PR√ÅCE CZ CHAT</div>
    <label class="citysel">
      <span>–ú—ñ—Å—Ç–æ:</span>
      <select id="citySelect">
        <option value="praha">Praha</option><option value="brno">Brno</option><option value="ostrava">Ostrava</option>
        <option value="plzen">Plze≈à</option><option value="olomouc">Olomouc</option><option value="liberec">Liberec</option>
        <option value="usti">√öst√≠ nad Labem</option><option value="hradec">Hradec Kr√°lov√©</option><option value="pardubice">Pardubice</option>
        <option value="cbudejovice">ƒåesk√© –ë—É–¥ƒõj–æ–≤ice</option>
      </select>
    </label>
  </div>
  <div class="right">
    <button id="participantsBtn">üë•</button>
    <button id="profileBtn">–ü—Ä–æ—Ñ—ñ–ª—å</button>
  </div>
</header>

<nav class="tabs top" id="tabs">
  <button data-tab="chat" class="tab active">–ß–∞—Ç</button>
  <button data-tab="dm" class="tab">–õ–°</button>
  <button data-tab="map" class="tab">–ö–∞—Ä—Ç–∞</button>
</nav>

<main id="views">
  <section id="view-chat" class="view active">
    <div id="chatFeed" class="feed"></div>
    <div class="composer">
      <label class="filebtn visible"><span>üì∑</span><input type="file" id="chatFile" accept="image/*"></label>
      <input id="chatInput" placeholder="–ù–∞–ø–∏—à—ñ—Ç—å... (–º–æ–∂–Ω–∞ URL –Ω–∞ –∫–∞—Ä—Ç–∏–Ω–∫—É)">
      <button id="chatSend">–í—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏</button>
    </div>
  </section>

  <section id="view-dm" class="view">
    <div id="dmMessages" class="feed"></div>
    <div class="composer">
      <label class="filebtn visible"><span>üì∑</span><input type="file" id="dmFile" accept="image/*"></label>
      <input id="dmInput" placeholder="–ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è...">
      <button id="dmSend">–ù–∞–¥—ñ—Å–ª–∞—Ç–∏</button>
    </div>
  </section>

  <section id="view-map" class="view">
    <div class="mapbar"><button id="mapCenter">–¶–µ–Ω—Ç—Ä—É–≤–∞—Ç–∏</button></div>
    <div id="map" class="map"></div>
    <div id="mapAdmin" class="admin-only" style="display:none">
      <h4>–§–æ–Ω –º—ñ—Å—Ç–∞</h4>
      <div class="row">
        <input id="cityWallUrl" placeholder="URL —Ñ–æ–Ω—É –¥–ª—è –º—ñ—Å—Ç–∞">
        <button id="saveCityWall">–ó–±–µ—Ä–µ–≥—Ç–∏ —Ñ–æ–Ω</button>
        <button id="saveGlobalWall">–§–æ–Ω –¥–ª—è –≤—Å—ñ—Ö</button>
      </div>
    </div>
  </section>
</main>

<!-- –£—á–∞—Å–Ω–∏–∫–∏ -->
<div id="peoplePanel" class="panel" hidden>
  <header><b>–£—á–∞—Å–Ω–∏–∫–∏</b><button id="peopleClose">‚úñ</button></header>
  <div id="peopleList"></div>
</div>

<!-- –ü—Ä–æ—Ñ—ñ–ª—å + –ë–æ—Ç–∏ -->
<div id="profileModal" class="modal" hidden>
  <div class="card">
    <header><b>–ü—Ä–æ—Ñ—ñ–ª—å</b><button id="profileClose">‚úñ</button></header>
    <div class="row">
      <img id="myAvatar" class="ava-lg" src="https://i.pravatar.cc/64">
      <div><div><b id="myName">–ê–Ω–æ–Ω—ñ–º</b></div><div class="muted">–ü–ª–∞–Ω: <span id="myPlan">none</span></div></div>
    </div>
    <hr>
    <div id="botsBox" style="display:none">
      <h4>–ú–æ—ó –∞–≤—Ç–æ-–ø–æ—Å—Ç–∏</h4>
      <div class="muted">–ü—É–±–ª—ñ–∫—É—î –≤—ñ–¥ –≤–∞—à–æ–≥–æ —ñ–º–µ–Ω—ñ. –ú—ñ–Ω. —ñ–Ω—Ç–µ—Ä–≤–∞–ª: 15 —Ö–≤ (–¥–ª—è –ø—Ä–µ–º—ñ—É–º). –î–µ–Ω–Ω–∏–π –ª—ñ–º—ñ—Ç: 100.</div>
      <div class="row">
        <select id="botCity">
          <option value="praha">Praha</option><option value="brno">Brno</option><option value="ostrava">Ostrava</option>
          <option value="plzen">Plze≈à</option><option value="olomouc">Olomouc</option><option value="liberec">Liberec</option>
          <option value="usti">√öst√≠ nad Labem</option><option value="hradec">Hradec Kr√°lov√©</option><option value="pardubice">Pardubice</option>
          <option value="cbudejovice">ƒåesk√© –ë—É–¥ƒõj–æ–≤ice</option>
        </select>
        <input id="botInterval" type="number" min="15" value="15" style="width:120px" placeholder="—Ö–≤">
      </div>
      <div class="row">
        <label class="filebtn visible"><span>üì∑</span><input type="file" id="botAvatarFile" accept="image/*"></label>
        <input id="botAvatarUrl" placeholder="–ê–≤–∞—Ç–∞—Ä (URL, –æ–ø—Ü.)">
      </div>
      <div class="row">
        <textarea id="botText" placeholder="–¢–µ–∫—Å—Ç –ø—É–±–ª—ñ–∫–∞—Ü—ñ—ó" style="flex:1;min-height:80px"></textarea>
      </div>
      <div class="row">
        <label class="filebtn visible"><span>üì∑</span><input type="file" id="botPhotoFile" accept="image/*"></label>
        <input id="botPhotoUrl" placeholder="–§–æ—Ç–æ (URL, –æ–ø—Ü.)">
      </div>
      <div class="row">
        <button id="botSave">–ó–±–µ—Ä–µ–≥—Ç–∏ —à–∞–±–ª–æ–Ω</button>
        <button id="botStart">–ó–∞–ø—É—Å—Ç–∏—Ç–∏</button>
        <button id="botStop">–ó—É–ø–∏–Ω–∏—Ç–∏</button>
        <span class="muted" id="botStatus"></span>
      </div>
      <div class="muted" id="botQuotaNote"></div>
    </div>

    <div id="adminTools" class="admin-only" style="display:none">
      <hr>
      <h4>–ê–¥–º—ñ–Ω-—ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏</h4>
      <div class="row"><button id="btnBackfillUsersPublic">–ó–∞–ø–æ–≤–Ω–∏—Ç–∏ usersPublic –∑ users</button></div>
      <div class="row"><button id="btnFriendAdminAll">–î–æ–¥–∞—Ç–∏ –º–µ–Ω–µ —É –¥—Ä—É–∑—ñ –≤—Å—ñ–º (—ñ –Ω–∞–≤–ø–∞–∫–∏)</button></div>
    </div>
  </div>
</div>

<!-- –ü—Ä–æ—Ñ—ñ–ª—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ -->
<div id="userCard" class="modal" hidden>
  <div class="card">
    <header><b id="userCardName">–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á</b><button id="userCardClose">‚úñ</button></header>
    <div class="row">
      <img id="userCardAvatar" class="ava-lg" src="https://i.pravatar.cc/64">
      <div class="muted" id="userCardInfo"></div>
    </div>
    <div class="row">
      <button id="userCardOpenDm">–í—ñ–¥–∫—Ä–∏—Ç–∏ –õ–°</button>
    </div>
  </div>
</div>

<script src="https://www.gstatic.com/firebasejs/10.12.4/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.4/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.4/firebase-database-compat.js"></script>
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" defer></script>
<script src="./config.js"></script>
<script src="./app.js" defer></script>
</body>
</html>
