<!doctype html>
<html lang="cs">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>MAKÃME CZ</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="./style.css"/>
  <link rel="preload" as="image" href="./img/bg.jpg">
  <script>
    // Apply last wallpaper ASAP (no flicker)
    (function(){
      try{
        var city = localStorage.getItem('city') || 'praha';
        var w = localStorage.getItem('wall_'+city) || localStorage.getItem('wall') || '';
        if(!w) return;
        var st=document.createElement('style');
        st.textContent=":root{--wall:url('"+String(w).replace(/'/g,"%27")+"')}";
        document.head.appendChild(st);
      }catch(e){}
    })();
  </script>

  <!-- Firebase (compat) -->  <!-- Leaflet -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
</head>
<body>

<div id="preloader">
  <div class="pre-bg"></div>
  <div class="box">
    <img class="logo-img" src="./img/logo.svg" alt="MAKÃME CZ"/>
    <div class="title">VÃ­tejte v <b>MAKÃME CZ</b><br><span class="slogan">Spojujeme pracujÃ­cÃ­ a zamÄ›stnavatele v srdci ÄŒeska</span></div>
    <div class="subtitle" id="preloaderStatus">NaÄÃ­tÃ¡me aplikaciâ€¦</div>
    <div class="row">
      <div class="spin"></div>
      <div class="timer" id="preloaderTimer">PÅ™ejdeme automaticky za 10 s</div>
    </div>
    <button class="btn primary" id="goSiteBtn" type="button">PÅ™ejÃ­t na web</button>
  </div>
</div>

<script>
/* Preloader failsafe (works even if app.js crashes) */
(function(){
  var p=document.getElementById('preloader');
  var btn=document.getElementById('goSiteBtn');
  var tEl=document.getElementById('preloaderTimer');
  var sEl=document.getElementById('preloaderStatus');
  var sec=10;
  var steps=[
    'HledÃ¡me pro vÃ¡s nabÃ­dky prÃ¡ceâ€¦',
    'Kontrolujeme chat a novÃ© zprÃ¡vyâ€¦',
    'HledÃ¡me aktivnÃ­ zamÄ›stnavateleâ€¦',
    'NaÄÃ­tÃ¡me profily a pÅ™Ã¡teleâ€¦'
  ];
  var i=0;
  function hide(){ if(!p) return; p.classList.add('hidden'); }
  if(btn) btn.addEventListener('click', hide);
  setInterval(function(){
    sec=Math.max(0,sec-1);
    if(tEl) tEl.textContent='PÅ™ejdeme automaticky za '+sec+' s';
    if(sec<=0) hide();
    if(sEl){ sEl.textContent=steps[i%steps.length]; i++; }
  }, 1000);
  setTimeout(hide, 11500);
})();
</script>
<div class="topbar">
  <div class="brand"><img src="./img/logo.svg" class="brand-logo" alt="MAKÃME CZ"></div>
  <div class="row" style="margin:0">
    <div class="citysel">
      <select id="citySelect">
        <option value="praha">Praha</option>
        <option value="brno">Brno</option>
        <option value="olomouc">Olomouc</option>
        <option value="ostrava">Ostrava</option>
      </select>
    </div>

    <label class="filebtn admin-only" id="wallCamWrap" title="ZmÄ›nit pozadÃ­">
      ğŸ“·
      <input id="wallCamera" type="file" accept="image/*">
    </label>

    
    <button class="drawer-btn neon" id="drawerBtn" type="button" aria-label="Menu">â˜°</button>

    <button class="iconbtn mobile-only" id="btnBell" type="button" title="UpozornÄ›nÃ­">ğŸ””<span id="bellBadge" class="badge-count" style="display:none"></span></button>
    <button class="iconbtn mobile-only" id="btnDMTop" type="button" title="DM">âœ‰ï¸</button>
    <button class="iconbtn mobile-only" id="btnFriendsTop" type="button" title="PÅ™Ã¡telÃ©">ğŸ‘¥</button>
    <button class="mebtn mobile-only" id="btnMe" type="button" title="MÅ¯j profil">
      <img id="meMiniAva" src="./img/default-avatar.svg" alt="Me">
    </button>

    <button class="ghost desktop-only" id="toggleTabs" type="button">Menu</button>
    <button class="ghost" id="btnLogin" class="ghost desktop-only" type="button" onclick="try{document.getElementById('preloader')?.classList.add('hidden');document.getElementById('modalAuth').hidden=false;}catch(e){}">PÅ™ihlÃ¡Å¡enÃ­</button>
    <button class="ghost" id="btnSignout" class="ghost desktop-only" type="button">OdhlÃ¡sit</button>
  </div>
</div>


<div id="drawerOverlay" class="drawer-overlay" hidden></div>
<nav id="drawer" class="drawer" aria-hidden="true">
  <div class="drawer-head">
    <div class="drawer-title">MAKÃME CZ</div>
    <button id="drawerClose" class="iconbtn" type="button" aria-label="ZavÅ™Ã­t">âœ•</button>
  </div>

  <a class="drawer-item" href="#" data-view="view-chat">ğŸ’¬ Chat</a>
  <a class="drawer-item" href="#" data-view="view-dm">âœ‰ï¸ OsobnÃ­ (DM)</a>
  <a class="drawer-item" href="#" data-view="view-friends">ğŸ‘¥ PÅ™Ã¡telÃ©</a>
  <a class="drawer-item" href="#" data-view="view-rent">ğŸ  PronÃ¡jem</a>
  <a class="drawer-item" href="#" data-view="view-map">ğŸ—ºï¸ Mapa</a>
  <a class="drawer-item" href="#" data-view="view-profile">ğŸ‘¤ Profil</a>
  <a class="drawer-item" href="#" id="drawerPremium">â­ Privilegia</a>
  <a class="drawer-item adm-only" style="display:none" href="#" data-view="view-admin">ğŸ›  Admin</a>

  <div class="drawer-sep"></div>

  <button id="btnLoginDrawer" class="drawer-btn2" type="button">PÅ™ihlÃ¡sit se</button>
  <button id="btnSignoutDrawer" class="drawer-btn2" type="button">OdhlÃ¡sit</button>

  <div class="drawer-sep"></div>
  <a class="drawer-item small" href="#" id="linkPrivacy">ğŸ“„ Ochrana soukromÃ­</a>
  <a class="drawer-item small" href="#" id="linkTerms">ğŸ“Œ PodmÃ­nky pouÅ¾Ã­vÃ¡nÃ­</a>
  <a class="drawer-item small" href="#" id="linkContact">âœ‰ï¸ Kontakt / zpÄ›tnÃ¡ vazba</a>
</nav>

<!-- Cookie / permissions banner -->
<div id="cookieBanner" class="cookie" hidden>
  <div class="cookie-text">
    PouÅ¾Ã­vÃ¡me cookies pro pÅ™ihlÃ¡Å¡enÃ­, nastavenÃ­ a zlepÅ¡enÃ­ sluÅ¾by. MÅ¯Å¾ete takÃ© povolit zvuky a upozornÄ›nÃ­.
  </div>
  <div class="cookie-actions">
    <button id="cookieAllow" class="btn small" type="button">Povolit</button>
    <button id="cookieDecline" class="btn small ghost" type="button">OdmÃ­tnout</button>
  </div>
</div>

<div class="tabs" id="tabs">
  <a class="tab active" href="#" data-view="view-chat">Chat</a>
  <a class="tab" href="#" data-view="view-dm">OsobnÃ­ (DM)</a>
  <a class="tab" href="#" data-view="view-friends">PÅ™Ã¡telÃ© <span id="friendsBadge"></span></a>
  <a class="tab" href="#" data-view="view-rent">PronÃ¡jem</a>
  <a class="tab" href="#" data-view="view-map">Mapa</a>
  <a class="tab" href="#" data-view="view-profile">Profil</a>
  <a class="tab adm-only" style="display:none" href="#" data-view="view-admin">Admin</a>
</div>

<div id="views">
  <section class="view active" id="view-chat">
    <div class="feed" id="chatFeed"></div>
    <button id="chatJumpBottom" class="chat-fab" type="button">â†“</button>
    <button id="chatShowNew" class="chat-fab new" type="button" style="display:none">NovÃ©</button>
    <div class="composer sticky">
      <input id="msgText" placeholder="NapiÅ¡te zprÃ¡vuâ€¦">
      <label class="filebtn" title="Foto">
        ğŸ“<input id="msgPhoto" type="file" accept="image/*">
      </label>
      <button id="sendBtn" type="button">Odeslat</button>
    </div>
  </section>

  <section class="view" id="view-dm">
  <div class="dm">
    <div class="card" style="padding:10px">
      <header>
        <b>Konverzace</b>
        <button class="ghost" id="dmNewBtn" type="button">+ NovÃ¡</button>
      </header>
      <div id="dmThreads" style="display:flex;flex-direction:column;gap:8px;max-height:60vh;overflow:auto"></div>
      <div class="muted">Tip: kliknÄ›te na konverzaci pro otevÅ™enÃ­ historie.</div>
    </div>

    <div class="card" style="padding:10px">
      <header style="display:flex;justify-content:space-between;align-items:center">
        <div><b id="dmWithName">OsobnÃ­ zprÃ¡vy</b> <span class="muted" id="dmWithStatus"></span></div>
        <button class="ghost" id="dmClearBtn" type="button">VyÄistit</button>
      </header>
      <div class="feed" id="dmFeed" style="min-height:45vh"></div>
      <div id="botPremiumPanel" style="display:none;margin-top:10px">
        <div class="row" style="justify-content:space-between;align-items:center">
          <b>NÃ¡kup privilegia (bot)</b>
          <span class="muted" id="botPremiumStep"></span>
        </div>
        <div id="botPremiumActions" class="row"></div>
        <div class="muted" id="botPremiumHint"></div>
      </div>

      <div class="composer sticky">
        <input id="dmText" placeholder="ZprÃ¡vaâ€¦">
        <label class="filebtn" title="Foto">
          ğŸ“<input id="dmPhoto" type="file" accept="image/*">
        </label>
        <button id="dmSend" type="button">Odeslat</button>
      </div>
    </div>
  </div>
</section>

  <section class="view" id="view-friends">
  <div class="row" style="justify-content:space-between;align-items:center">
    <div><b>PÅ™Ã¡telÃ©</b> <span class="muted" id="friendsSummary"></span></div>
    <button class="ghost" id="friendAddOpen" type="button">+ PÅ™idat pÅ™Ã­tele</button>
  </div>
  <div class="row"><b>Å½Ã¡dosti</b> <span id="friendsBadgeInline"></span></div>
  <div class="feed" id="friendsRequests"></div>
  <div class="row"><b>Seznam pÅ™Ã¡tel</b></div>
  <div class="feed" id="friendsList"></div>
</section>

  <section class="view" id="view-rent">
    <div class="row">
      <input id="rentTitle" placeholder="NÃ¡zev" style="flex:2;min-width:220px">
      <input id="rentPrice" placeholder="Cena KÄ" type="number" style="width:140px">
      <select id="rentTTL">
        <option value="0">Bez expirace</option>
        <option value="7">7 dnÅ¯</option>
        <option value="14">14 dnÅ¯</option>
        <option value="30">30 dnÅ¯</option>
      </select>
      <label class="filebtn">ğŸ“<input id="rentPhoto" type="file" accept="image/*"></label>
      <button id="rentAdd" type="button">PÅ™idat</button>
    </div>
    <div class="row">
      <select id="rentStatus">
        <option value="">VÅ¡e</option>
        <option value="active">AktivnÃ­</option>
        <option value="closed">UzavÅ™enÃ©</option>
      </select>
      <select id="rentSort">
        <option value="new">NejnovÄ›jÅ¡Ã­</option>
        <option value="price">Cena</option>
      </select>
      <button id="rentApply" type="button">PouÅ¾Ã­t</button>
    </div>
    <div class="feed" id="rentFeed"></div>
  </section>

  <section class="view" id="view-map">
    <div class="map" id="map"></div>
    <div class="muted" style="margin-top:8px">Tip: mod/admin mÅ¯Å¾e pÅ™idÃ¡vat body a upravovat je podle pravidel.</div>
  </section>

  <section class="view" id="view-profile">
  <div class="row">
    <img id="myAvatar" class="ava-lg" src="./img/default-avatar.svg" alt="avatar">
    <div>
      <div><b id="myName">UÅ¾ivatel</b> <span id="myAdmin" class="badge admin" style="display:none">ADMIN</span><span id="myPlan" class="badge premium" style="display:none">PREMIUM</span></div>
      <div class="muted" id="profileEmail">E-mail: â€”</div>
      <div class="muted" id="profileRoleLine">Role: â€”</div>
    </div>
  </div>

  <div class="card" style="margin-top:10px">
    <header><b>Profil</b></header>
    <div class="row">
      <input id="setNick" placeholder="Nick" style="flex:1;min-width:200px">
      <button class="ghost" id="reqNickChange" type="button">PoÅ¾Ã¡dat o zmÄ›nu nicku</button>
    </div>
    <div class="row">
      <select id="setRole">
        <option value="seeker">HledÃ¡m prÃ¡ci</option>
        <option value="employer">ZamÄ›stnavatel</option>
      </select>
      <button class="ghost" id="reqRoleChange" type="button">PoÅ¾Ã¡dat o zmÄ›nu role</button>
    </div>
    <div class="row">
      <input id="setAvatarUrl" placeholder="URL avatara (nebo pouÅ¾ij ğŸ“·)" style="flex:2;min-width:260px">
      <label class="filebtn" title="Avatar z telefonu">ğŸ“·<input id="avatarFile" type="file" accept="image/*"></label>
      <button id="saveProfile" type="button">UloÅ¾it</button>
    </div>
    <div class="row">
      <textarea id="setAbout" placeholder="O mnÄ› (krÃ¡tce)" style="flex:1;min-height:80px"></textarea>
    </div>
    <div class="row">
      <input id="setCompany" placeholder="Firma / SpoleÄnost (pro zamÄ›stnavatele)" style="flex:1;min-width:240px">
      <input id="setPhone" placeholder="Telefon (volitelnÃ©)" style="flex:1;min-width:200px">
    </div>
    <div class="row">
      <input id="setSkills" placeholder="Dovednosti / obor (napÅ™. kuchaÅ™, kurÃ½r, IT...)" style="flex:1;min-width:240px">
    </div>

    <div class="row">
      <button class="ghost" id="reqPremium" type="button">Koupit privilegium</button>
      <button id="resetPassTop" type="button">ZapomenutÃ© heslo</button>
    </div>
    <div class="muted">Nick a role lze nastavit pouze jednou. DalÅ¡Ã­ zmÄ›ny jdou pÅ™es Å¾Ã¡dost adminovi.</div>
  </div>

  <div class="card" id="myVacancyCard" style="margin-top:10px;display:none">
    <header><b>Moje nabÃ­dky prÃ¡ce (pro zamÄ›stnavatele)</b></header>
    <div class="row">
      <input id="vacTitle" placeholder="NÃ¡zev pozice / prÃ¡ce" style="flex:2;min-width:240px">
      <select id="vacCity" style="min-width:160px">
        <option value="praha">Praha</option>
        <option value="brno">Brno</option>
        <option value="olomouc">Olomouc</option>
        <option value="ostrava">Ostrava</option>
      </select>
    </div>
    <div class="row">
      <textarea id="vacText" placeholder="Popis prÃ¡ce, mzda, smÄ›ny, kontakt..." style="flex:1;min-height:90px"></textarea>
    </div>
    <div class="row" style="justify-content:space-between;align-items:center">
      <button id="vacPublish" type="button">ZveÅ™ejnit</button>
      <span class="muted">PÅ™Ã¡telÃ© (hledajÃ­cÃ­ prÃ¡ci) dostanou upozornÄ›nÃ­.</span>
    </div>
    <div class="feed" id="myVacancies" style="min-height:120px"></div>
  </div>

</section>

<section class="view" id="view-admin">
  <div class="row"><b>Admin panel</b> <span class="muted">Pouze zakladatel / admin</span></div>

  <div class="adm-only">
    <div class="row">
      <input id="roleUid" placeholder="UID" style="min-width:260px">
      <input id="banReason" placeholder="DÅ¯vod" style="flex:1;min-width:240px">
      <button id="makeMod" type="button">+ MOD</button>
      <button id="removeMod" type="button">- MOD</button>
      <button id="ban30" type="button">Ban 30 min</button>
      <button id="unban" type="button">Unban</button>
    </div>
    <div class="row">
      <button id="clearChat" type="button">VyÄistit chat (mÄ›sto)</button>
    </div>
  </div>

  <div class="cards">
    <div class="card">
      <header><b>Å½Ã¡dosti o zmÄ›nu profilu</b></header>
      <div class="muted">SchvalovÃ¡nÃ­ zmÄ›ny nicku a role.</div>
      <div class="feed" id="adminProfileRequests" style="min-height:120px"></div>
    </div>
    <div class="card">
      <header><b>Premium Å¾Ã¡dosti</b></header>
      <div class="muted">ZatÃ­m pouze Å¾Ã¡dosti (platby doplnÃ­Å¡ pozdÄ›ji).</div>
      <div class="feed" id="adminPremiumRequests" style="min-height:120px"></div>
    </div>
    <div class="card">
      <header><b>Boti</b></header>
      <div class="row">
        <button class="ghost" id="botAdd" type="button">+ PÅ™idat bot</button>
        <button class="ghost" id="botRun" type="button">Spustit</button>
        <button class="ghost" id="botStop" type="button">Zastavit</button>
      </div>
      <div class="feed" id="botList" style="min-height:140px"></div>
      <div class="muted">Pozn.: Boti publikujÃ­, kdyÅ¾ je otevÅ™en web zakladatele (MVP bez serveru).</div>
    </div>
  </div>
</section>
</div>

<div id="cookieBanner" class="toast" style="position:fixed;left:50%;transform:translateX(-50%);bottom:20px;display:none">
  PouÅ¾Ã­vÃ¡me cookies pro lepÅ¡Ã­ funkce webu.
  <button class="ghost" id="cookieAccept" type="button">SouhlasÃ­m</button>
</div>

<div id="greetOverlay" class="modal" hidden>
  <div class="card">
    <header>
      <b>Vzkaz</b>
      <button class="ghost" id="greetClose" type="button">Ã—</button>
    </header>
    <img class="rose" src="./img/rose.svg" alt="Rose">
    <h2 style="margin:10px 0 6px">Jsi ta nejkrÃ¡snÄ›jÅ¡Ã­ dÃ­vka</h2>
    <div class="muted">Toto je od zakladatele. (ZavÅ™e se za <span id="greetSec">10</span> s)</div>
    <div class="row" style="justify-content:center;margin-top:10px">
      <button class="ghost" id="greetDm" type="button">Napsat zakladateli</button>
      <button class="ghost" id="greetAddFriend" type="button">PÅ™idat do pÅ™Ã¡tel</button>
    </div>
  </div>
</div>


<!-- User Profile Modal -->
<div id="modalUserCard" class="modal" hidden>
  <div class="card modal-card usercard">
    <header style="justify-content:space-between;align-items:center">
      <div style="display:flex;align-items:center;gap:10px">
        <img id="userCardAva" class="ava-lg" src="./img/default-avatar.svg" alt="avatar">
        <div>
          <div style="display:flex;align-items:center;gap:8px">
            <b id="userCardNick">UÅ¾ivatel</b>
            <span id="userCardAdmin" class="badge admin" style="display:none">ADMIN</span>
            <span id="userCardPlan" class="badge premium" style="display:none">PREMIUM</span>
          </div>
          <div class="muted">
            <span id="userCardRole">Â· â€”</span> Â· <span id="userCardOnline">offline</span>
          </div>
        </div>
      </div>
      <button class="ghost" type="button" onclick="closeModal('modalUserCard')">âœ•</button>
    </header>

    <div class="row" style="margin-top:6px">
      <div class="muted" id="userCardAbout">â€”</div>
    </div>

    <div class="row">
      <div class="pill" id="userCardCompanyWrap" style="display:none">ğŸ¢ <span id="userCardCompany"></span></div>
      <div class="pill" id="userCardPhoneWrap" style="display:none">ğŸ“ <span id="userCardPhone"></span></div>
      <div class="pill" id="userCardSkillsWrap" style="display:none">ğŸ§© <span id="userCardSkills"></span></div>
    </div>

    <div class="row" style="gap:10px;align-items:center">
      <div class="stars" id="userCardStars" aria-label="HodnocenÃ­"></div>
      <div class="muted" id="userCardRatingText">â€”</div>
    </div>

    <div class="row" style="justify-content:space-between;align-items:center;margin-top:6px">
      <div class="row" style="margin:0">
        <button class="ghost" id="userCardDm" type="button">âœ‰ï¸ Napsat</button>
        <button class="ghost" id="userCardAddFriend" type="button">ğŸ‘¥ PÅ™idat</button>
        <button class="ghost" id="userCardRemoveFriend" type="button" style="display:none">âŒ Odebrat</button>
      </div>
      <button class="ghost" id="userCardReport" type="button">ğŸš© NahlÃ¡sit</button>
    </div>

    <div class="card" style="margin-top:10px">
      <header><b>InzerÃ¡ty / nabÃ­dky prÃ¡ce</b></header>
      <div class="feed" id="userCardVacancies" style="min-height:120px"></div>
      <div class="muted" id="userCardVacEmpty">Å½Ã¡dnÃ© inzerÃ¡ty.</div>
    </div>
  </div>
</div>

<!-- Notifications Modal -->
<div id="modalNotif" class="modal" hidden>
  <div class="card modal-card" style="max-width:720px">
    <header><b>UpozornÄ›nÃ­</b><button class="ghost" type="button" onclick="closeModal('modalNotif')">âœ•</button></header>
    <div class="feed" id="notifFeed" style="min-height:180px"></div>
    <div class="row" style="justify-content:flex-end">
      <button class="ghost" id="notifClear" type="button">VyÄistit</button>
    </div>
  </div>
</div>
<div id="globalToast" class="toast" style="display:none"></div>
<!-- Auth Modal -->
<div id="modalAuth" class="modal" hidden>
  <div class="modal-card auth-card">
    <div class="auth-left" aria-hidden="true"></div>
    <div class="auth-right">
      <button class="x" id="authClose" type="button" onclick="try{closeModalAuth();}catch(e){try{document.getElementById('modalAuth').hidden=true;}catch(_){}}">âœ•</button>
      <div class="auth-brand">
        <img src="img/logo.svg" alt="MAKÃME CZ">
        <div class="name">MAKÃME CZ</div>
        <div class="tag">Spojujeme pracujÃ­cÃ­ a zamÄ›stnavatele v&nbsp;srdci ÄŒeska</div>
      </div>
      <h2 id="authTitle" style="text-align:center">PÅ™ihlÃ¡Å¡enÃ­</h2>
      <div class="auth-form">
        <label class="inp">
          <span>E-mail</span>
          <input id="authEmail" type="email" autocomplete="email" placeholder="napÅ™. jmeno@email.cz">
        </label>
        <label class="inp">
          <span>Heslo</span>
          <input id="authPass" type="password" autocomplete="current-password" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢">
        </label>

        <div id="authNickRow" style="display:none">
          <label class="inp">
            <span>Nick</span>
            <input id="authNick" type="text" maxlength="24" placeholder="NapÅ™. Nikolay">
          </label>
        </div>

        <div id="authRoleRow" style="display:none">
          <label class="inp">
            <span>Role</span>
            <select id="authRole">
              <option value="">Vyberteâ€¦</option>
              <option value="job">HledÃ¡m prÃ¡ci</option>
              <option value="employer">ZamÄ›stnavatel</option>
            </select>
          </label>
        </div>

        <div class="auth-row">
          <label class="chk"><input id="authRemember" type="checkbox"> <span>Zapamatovat si mÄ›</span></label>
          <button class="link" id="authResendVerify" type="button">Znovu poslat ovÄ›Å™enÃ­</button>
          <div class="hint" style="margin-top:6px;opacity:.9">PoznÃ¡mka: ovÄ›Å™ovacÃ­ e-mail Äasto skonÄÃ­ ve sloÅ¾ce <b>Spam</b> nebo <b>HromadnÃ©</b>.</div>
        </div>

        <button class="btn primary" id="authLoginBtn" type="button">PÅ˜IHLÃSIT SE</button>
        <button class="btn primary" id="authRegisterBtn" type="button" style="display:none">REGISTROVAT SE</button>

        <div class="sep"><span>Nebo pÅ™ihlÃ¡Å¡enÃ­ pÅ™es</span></div>
        <div class="auth-social">
          <button class="btn ghost" id="authGoogleBtn" type="button">Google</button>
        </div>

        <div class="auth-switch">
          <button class="link" id="authSwitchToRegister" type="button">NemÃ¡te ÃºÄet? Registrace</button>
          <button class="link" id="authSwitchToLogin" type="button" style="display:none">UÅ¾ mÃ¡te ÃºÄet? PÅ™ihlÃ¡Å¡enÃ­</button>
        </div>

        <button class="link" id="authResetPass" type="button">ZapomnÄ›li jste heslo?</button>
      </div>
    </div>
  </div>
</div>

<!-- Legal / contact modals -->
<div id="modalPrivacy" class="modal" hidden>
  <div class="modal-card" style="max-width:720px">
    <button class="x" type="button" data-close="privacy">âœ•</button>
    <h2>Ochrana soukromÃ­</h2>
    <div class="muted" style="line-height:1.5">
      PouÅ¾Ã­vÃ¡me cookies a lokÃ¡lnÃ­ ÃºloÅ¾iÅ¡tÄ› pro pÅ™ihlÃ¡Å¡enÃ­, nastavenÃ­ (napÅ™. mÄ›sto, pozadÃ­) a pro zajiÅ¡tÄ›nÃ­ provozu chatu.
      ZprÃ¡vy a profily se uklÃ¡dajÃ­ do Firebase Realtime Database. Fotografie (pokud je povoleno) se uklÃ¡dajÃ­ jako dataURL
      nebo do Firebase Storage (podle nastavenÃ­ projektu).
    </div>
    <div class="muted" style="margin-top:10px">MÃ¡te otÃ¡zky? PouÅ¾ijte sekci Kontakt.</div>
  </div>
</div>

<div id="modalTerms" class="modal" hidden>
  <div class="modal-card" style="max-width:720px">
    <button class="x" type="button" data-close="terms">âœ•</button>
    <h2>PodmÃ­nky pouÅ¾Ã­vÃ¡nÃ­</h2>
    <div class="muted" style="line-height:1.5">
      SluÅ¾ba je urÄena pro komunikaci mezi uÅ¾ivateli. Je zakÃ¡zÃ¡n spam, podvody, zneuÅ¾Ã­vÃ¡nÃ­ a zveÅ™ejÅˆovÃ¡nÃ­ citlivÃ½ch osobnÃ­ch ÃºdajÅ¯.
      AdministrÃ¡tor mÅ¯Å¾e odstranit obsah, zablokovat ÃºÄet nebo omezit pÅ™Ã­stup pÅ™i poruÅ¡enÃ­ pravidel.
    </div>
  </div>
</div>

<div id="modalContact" class="modal" hidden>
  <div class="modal-card" style="max-width:720px">
    <button class="x" type="button" data-close="contact">âœ•</button>
    <h2>Kontakt / zpÄ›tnÃ¡ vazba</h2>
    <div class="muted" style="line-height:1.5">
      NapiÅ¡te nÃ¡m pÅ™Ã­mo v chatu (mÅ¯Å¾ete pingnout ADMIN ÃºÄet) nebo poÅ¡lete zprÃ¡vu na e-mail sprÃ¡vce.
    </div>
    <div class="row" style="justify-content:space-between;align-items:center">
      <div class="muted"><b>E-mail:</b> <span id="contactEmail">urciknikolaj642@gmail.com</span></div>
      <button id="copyContactEmail" class="btn small" type="button">KopÃ­rovat</button>
    </div>
  </div>
</div>

  <!-- Firebase (Compat build so we can use firebase.* API in app.js) -->
  <script src="https://www.gstatic.com/firebasejs/10.13.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.13.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.13.0/firebase-database-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.13.0/firebase-storage-compat.js"></script>

  <script defer src="./app.js"></script>

  <!-- Wallpaper camera (admin: sync to all; user: local only) -->
  <button id="wallCamBtn" class="fab-cam" type="button" title="ZmÄ›nit pozadÃ­">ğŸ“·</button>
  <input id="wallCamInput" type="file" accept="image/*" hidden>

</body>
</html>
