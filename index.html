<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <title>PR√ÅCE CZ CHAT</title>
  <link rel="preconnect" href="https://www.gstatic.com" crossorigin>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">
  <link rel="stylesheet" href="./style.css">
</head>
<body>
  <header class="topbar">
    <div class="left">
      <div class="brand">PR√ÅCE CZ CHAT</div>
      <label class="citysel">
        <span data-i18n="city">–ú—ñ—Å—Ç–æ:</span>
        <select id="citySelect">
          <option value="praha">Praha</option>
          <option value="brno">Brno</option>
          <option value="ostrava">Ostrava</option>
          <option value="plzen">Plze≈à</option>
          <option value="olomouc">Olomouc</option>
          <option value="liberec">Liberec</option>
          <option value="usti">√öst√≠ nad Labem</option>
          <option value="hradec">Hradec Kr√°lov√©</option>
          <option value="pardubice">Pardubice</option>
          <option value="cbudejovice">ƒåesk√© Budƒõj–æ–≤ice</option>
        </select>
      </label>
    </div>
    <div class="mid">
      <span id="onlineCounter">–û–Ω–ª–∞–π–Ω (–ø—Ä–∏–±–ª.): 0</span>
    </div>
    <div class="right">
      <button id="participantsBtn" title="–£—á–∞—Å–Ω–∏–∫–∏">üë•</button>
      <button id="bellBtn" title="–°–ø–æ–≤—ñ—â–µ–Ω–Ω—è">üîî<span id="bellCount">0</span></button>
      <button id="profileBtn" title="–ü—Ä–æ—Ñ—ñ–ª—å">–ü—Ä–æ—Ñ—ñ–ª—å</button>
    </div>
  </header>

  <nav class="tabs" id="tabs">
    <button data-tab="chat" class="tab active">üí¨ <span data-i18n="chat">–ß–∞—Ç</span></button>
    <button data-tab="rent" class="tab">üè† <span data-i18n="rent">–û—Ä–µ–Ω–¥–∞</span></button>
    <button data-tab="map" class="tab">üó∫Ô∏è <span data-i18n="map">–ö–∞—Ä—Ç–∞</span></button>
    <button data-tab="friends" class="tab">üë• <span data-i18n="friends">–î—Ä—É–∑—ñ</span></button>
    <button data-tab="dm" class="tab">‚úâÔ∏è <span data-i18n="dm">–û—Å–æ–±–∏—Å—Ç—ñ</span></button>
    <button data-tab="help" class="tab">üÜò <span data-i18n="help">–î–æ–ø–æ–º–æ–≥–∞</span></button>
  </nav>

  <main id="views">
    <section id="view-chat" class="view active">
      <div class="composer">
        <label class="filebtn" title="–§–æ—Ç–æ"><input type="file" id="chatFile" accept="image/*"></label>
        <input id="chatInput" placeholder="–ù–∞–ø–∏—à—ñ—Ç—å –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è...">
        <button id="chatSend">–í—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏</button>
      </div>
      <div id="chatToast" class="toast" hidden>‚úîÔ∏è –§–æ—Ç–æ–≥—Ä–∞—Ñ—ñ—è —É—Å–ø—ñ—à–Ω–æ –¥–æ–¥–∞–Ω–∞. –í—ñ–¥–ø—Ä–∞–≤—Ç–µ –°–ú–° ‚Äî —Ñ–æ—Ç–æ –∑‚Äô—è–≤–∏—Ç—å—Å—è –ø—ñ—Å–ª—è –≤—ñ–¥–ø—Ä–∞–≤–∫–∏.</div>
      <div id="chatFeed" class="feed"></div>
    </section>

    <section id="view-rent" class="view">
      <div class="composer">
        <label class="filebtn" title="–§–æ—Ç–æ"><input type="file" id="rentFile" accept="image/*"></label>
        <input id="rentInput" placeholder="–û–≥–æ–ª–æ—à–µ–Ω–Ω—è...">
        <button id="rentSend">–í—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏</button>
      </div>
      <div id="rentToast" class="toast" hidden>‚úîÔ∏è –§–æ—Ç–æ –¥–æ–¥–∞–Ω–æ. –í—ñ–¥–ø—Ä–∞–≤—Ç–µ ‚Äî –∑‚Äô—è–≤–∏—Ç—å—Å—è —É —Å—Ç—Ä—ñ—á—Ü—ñ.</div>
      <div id="rentFeed" class="feed"></div>
    </section>

    <section id="view-map" class="view">
      <div class="mapbar">
        <input id="mapSearch" placeholder="–ü–æ—à—É–∫ (–≤–æ–ª–æ–Ω—Ç–µ—Ä–∏, –∞–ø—Ç–µ–∫–∞‚Ä¶)">
        <div class="chipbar">
          <button class="chip active" data-filter="all">–£—Å–µ</button>
          <button class="chip" data-filter="vol">–í–æ–ª–æ–Ω—Ç–µ—Ä–∏</button>
          <button class="chip" data-filter="help">–î–æ–ø–æ–º–æ–≥–∞</button>
          <button class="chip" data-filter="pharm">–ê–ø—Ç–µ–∫–∏</button>
          <button id="mapCenter">–¶–µ–Ω—Ç—Ä—É–≤–∞—Ç–∏</button>
        </div>
      </div>
      <div id="map" class="map"></div>
      <div id="mapAdmin" class="admin-only">
        <h4>–†–µ–¥–∞–∫—Ç–æ—Ä –∫–∞—Ä—Ç–∏ (–∞–¥–º—ñ–Ω)</h4>
        <div class="row">
          <input id="poiTitle" placeholder="–ù–∞–∑–≤–∞">
          <input id="poiType" placeholder="–¢–∏–ø (vol/help/pharm)">
        </div>
        <div class="row">
          <input id="poiImageUrl" placeholder="URL —Ñ–æ—Ç–æ (–æ–ø—Ü.)">
          <input id="poiLink" placeholder="–ü–æ—Å–∏–ª–∞–Ω–Ω—è (–æ–ø—Ü.)">
          <button id="poiAdd">–î–æ–¥–∞—Ç–∏ —Ç–æ—á–∫—É (–≤—ñ–∑—å–º–µ —Ü–µ–Ω—Ç—Ä –∫–∞—Ä—Ç–∏)</button>
        </div>
      </div>
    </section>

    <section id="view-friends" class="view">
      <div class="columns">
        <div>
          <h4>–ó–∞—è–≤–∫–∏</h4>
          <div id="friendRequests"></div>
        </div>
        <div>
          <h4>–ú–æ—ó –¥—Ä—É–∑—ñ (<span id="friendsOnline">0</span> –æ–Ω–ª–∞–π–Ω)</h4>
          <div id="friendsList"></div>
        </div>
      </div>
    </section>

    <section id="view-dm" class="view">
      <div class="dm">
        <aside id="dmSidebar"></aside>
        <div class="dmThread">
          <div id="dmHeader"></div>
          <div id="dmMessages"></div>
          <div class="composer">
            <label class="filebtn"><input type="file" id="dmFile" accept="image/*"></label>
            <input id="dmInput" placeholder="–ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è...">
            <button id="dmSend">–ù–∞–¥—ñ—Å–ª–∞—Ç–∏</button>
          </div>
        </div>
      </div>
    </section>

    <section id="view-help" class="view">
      <div id="helpAdminBox" class="bot-card" style="display:none">
        <h3>–ë–æ—Ç –î–æ–ø–æ–º–æ–≥–∏ (–¥–ª—è –∞–¥–º—ñ–Ω–∞)</h3>
        <div class="row">
          <input id="helpTitle" placeholder="–ó–∞–≥–æ–ª–æ–≤–æ–∫">
          <input id="helpLink" placeholder="–ü–æ—Å–∏–ª–∞–Ω–Ω—è (https://...)">
        </div>
        <div class="row">
          <textarea id="helpText" placeholder="–¢–µ–∫—Å—Ç / –æ–ø–∏—Å"></textarea>
        </div>
        <div class="row">
          <input id="helpImageUrl" placeholder="URL –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è (–æ–ø—Ü.)">
          <label class="filebtn">üì∑<input type="file" id="helpImageFile" accept="image/*"></label>
          <button id="helpPost">–û–ø—É–±–ª—ñ–∫—É–≤–∞—Ç–∏</button>
        </div>
      </div>
      <div id="helpGrid" class="cards"></div>
    </section>
  </main>

  <div id="notifPanel" class="panel" hidden>
    <header><b>–°–ø–æ–≤—ñ—â–µ–Ω–Ω—è</b><button id="notifClear">–û—á–∏—Å—Ç–∏—Ç–∏</button><button id="notifClose">‚úñ</button></header>
    <div id="notifList"></div>
  </div>

  <div id="profileModal" class="modal" hidden>
    <div class="card">
      <header><b>–ü—Ä–æ—Ñ—ñ–ª—å</b><button id="profileClose">‚úñ</button></header>
      <div id="profileContent">
        <div class="row">
          <img id="myAvatar" class="ava-lg" src="https://i.pravatar.cc/64" alt="">
          <div>
            <div><b id="myName">–ê–Ω–æ–Ω—ñ–º</b></div>
            <div class="muted">–ü–ª–∞–Ω: <span id="myPlan">none</span> ¬∑ –ó–∞–ª–∏—à–æ–∫: <span id="quotaText">200</span> —Ç–µ–∫—Å—Ç / <span id="quotaPhoto">100</span> —Ñ–æ—Ç–æ</div>
          </div>
        </div>
        <div class="row">
          <button id="btnSignout">–í–∏–π—Ç–∏</button>
        </div>
        <hr>
        <div class="row">
          <button id="btnGlobalWall">üñºÔ∏è –§–æ–Ω –¥–ª—è –≤—Å—ñ—Ö</button>
          <button id="btnCityWall">üñºÔ∏è –§–æ–Ω –¥–ª—è –º—ñ—Å—Ç–∞</button>
          <button id="btnSounds">üîä –ó–≤—É–∫–∏</button>
          <button id="btnPayments">üí≥ –û–ø–ª–∞—Ç–∏</button>
        </div>
        <div id="adminOnly" class="admin-only" style="display:none">
          <h4>–ê–¥–º—ñ–Ω-–±–æ—Ç —á–∞—Ç—É</h4>
          <div class="row">
            <input id="botName" placeholder="–ù—ñ–∫ –±–æ—Ç–∞">
            <input id="botAvatar" placeholder="URL –∞–≤–∞—Ç–∞—Ä–∫–∏ (–æ–ø—Ü.)">
          </div>
          <div class="row">
            <input id="botCity" placeholder="–ú—ñ—Å—Ç–æ (praha/brno/...)">
            <input id="botInterval" type="number" min="1" value="30" placeholder="–Ü–Ω—Ç–µ—Ä–≤–∞–ª (—Ö–≤)">
          </div>
          <div class="row">
            <textarea id="botText" placeholder="–¢–µ–∫—Å—Ç –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è"></textarea>
            <input id="botImage" placeholder="URL –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è (–æ–ø—Ü.)">
          </div>
          <div class="row">
            <button id="botSave">–ó–±–µ—Ä–µ–≥—Ç–∏</button>
            <button id="botOnce">‚ö°Ô∏è –†–∞–∑–æ–≤–æ</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div id="authModal" class="modal" hidden>
    <div class="card">
      <header><b id="authTitle">–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è / –í—Ö—ñ–¥</b><button id="authClose">‚úñ</button></header>
      <div class="row modeToggle">
        <button id="modeLogin" class="pill active">–í—Ö—ñ–¥</button>
        <button id="modeSignup" class="pill">–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è</button>
      </div>
      <div class="row"><input id="authNick" placeholder="–ü—Å–µ–≤–¥–æ–Ω—ñ–º"></div>
      <div class="row"><input id="authEmail" placeholder="Email"></div>
      <div class="row"><input id="authPass" type="password" placeholder="–ü–∞—Ä–æ–ª—å (–º—ñ–Ω. 6)"></div>
      <div class="row">
        <select id="authLang">
          <option value="uk">–£–∫—Ä–∞—ó–Ω—Å—å–∫–∞</option>
          <option value="cs">ƒåe≈°tina</option>
        </select>
        <select id="authRole">
          <option value="seeker">–®—É–∫–∞—é —Ä–æ–±–æ—Ç—É</option>
          <option value="employer">–†–æ–±–æ—Ç–æ–¥–∞–≤–µ—Ü—å</option>
        </select>
      </div>
      <div class="row">
        <button id="authSignin">–£–≤—ñ–π—Ç–∏</button>
        <button id="authSignup">–ó–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏—Å—è</button>
      </div>
      <div class="row">
        <button id="authGoogle" class="google">–í—Ö—ñ–¥ —á–µ—Ä–µ–∑ Google</button>
        <button id="authReset" class="linklike">–ó–∞–±—É–ª–∏ –ø–∞—Ä–æ–ª—å?</button>
      </div>
      <div class="muted" id="authHint">–ù–µ–º–∞—î –∞–∫–∞—É–Ω—Ç–∞? –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å ¬´–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è¬ª.</div>
      <div id="authMsg" class="muted"></div>
    </div>
  </div>

  <div id="paymentsModal" class="modal" hidden>
    <div class="card">
      <header><b>–û–ø–ª–∞—Ç–∏</b><button id="paymentsClose">‚úñ</button></header>
      <div class="row">
        <select id="payPlan">
          <option value="premium">Premium (1000/500)</option>
          <option value="premium_plus">Premium+ (5000/2500)</option>
        </select>
        <input id="payAmount" placeholder="–°—É–º–∞ (–æ–ø—Ü.)">
        <label class="filebtn">üì∑<input type="file" id="payFile" accept="image/*"></label>
        <button id="paySend">–ù–∞–¥—ñ—Å–ª–∞—Ç–∏ —á–µ–∫</button>
      </div>
      <hr>
      <div id="payAdmin" class="admin-only" style="display:none">
        <h4>–ó–∞—è–≤–∫–∏ –Ω–∞ –ø—Ä–µ–º—ñ—É–º (–∞–¥–º—ñ–Ω)</h4>
        <div class="row"><button id="payRefresh">–û–Ω–æ–≤–∏—Ç–∏</button></div>
        <div id="payInbox"></div>
      </div>
    </div>
  </div>

  <script src="https://www.gstatic.com/firebasejs/10.12.4/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.4/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.4/firebase-database-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.4/firebase-storage-compat.js"></script>
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" defer></script>
  <script src="./config.js"></script>
  <script src="./app.js" defer></script>
  <script src="./bots.js" defer></script>
</body>
</html>