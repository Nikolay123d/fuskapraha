<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1">
<title>PR√ÅCE CZ CHAT ‚Äî v2.1</title>
<link rel="stylesheet" href="./style.css">
<link rel="preload" as="image" href="./img/default-chat-bg.jpg">
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">
</head>
<body>
<header class="topbar">
  <button id="toggleTabs" class="pill">‚ò∞ –ú–µ–Ω—é</button>
  <div class="brand">PR√ÅCE CZ CHAT</div>
  <div class="citysel"><span>–ú—ñ—Å—Ç–æ:</span>
    <select id="citySelect"><option value="praha">Praha</option><option value="brno">Brno</option><option value="ostrava">Ostrava</option></select>
  </div>
  <div class="right">
    <button id="participantsBtn" title="–£—á–∞—Å–Ω–∏–∫–∏">üë•</button>
    <button id="bellBtn" title="–°–ø–æ–≤—ñ—â–µ–Ω–Ω—è">üîî<span id="bellCount">0</span></button>
    <button id="profileBtn" title="–ü—Ä–æ—Ñ—ñ–ª—å">–ü—Ä–æ—Ñ—ñ–ª—å</button>
  </div>
</header>

<nav class="tabs" id="tabs">
  <button data-tab="chat" class="tab active">üí¨ –ß–∞—Ç</button>
  <button data-tab="rent" class="tab">üè† –û–≥–æ–ª–æ—à–µ–Ω–Ω—è</button>
  <button data-tab="map" class="tab">üó∫Ô∏è –ö–∞—Ä—Ç–∞</button>
  <button data-tab="dm" class="tab">‚úâÔ∏è –û—Å–æ–±–∏—Å—Ç—ñ</button>
  <button data-tab="help" class="tab">üÜò –î–æ–ø–æ–º–æ–≥–∞</button>
  <button data-tab="admin" class="tab adm-only" style="display:none">üõ† –ê–¥–º—ñ–Ω</button>
</nav>

<main id="views">
  <section id="view-chat" class="view active">
    <div id="chatFeed" class="feed"></div>
    <div class="composer sticky">
      <label class="filebtn" title="–§–æ—Ç–æ –∑ –≥–∞–ª–µ—Ä–µ—ó/–∫–∞–º–µ—Ä–∏"><input type="file" id="chatFile" accept="image/*"></label>
      <input id="chatInput" placeholder="–ù–∞–ø–∏—à—ñ—Ç—å –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è‚Ä¶">
      <button id="chatSend">–í—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏</button>
      <button id="bgCam" class="adm-only" style="display:none">üñºÔ∏èüì∑ –§–æ–Ω</button>
      <input type="file" id="bgFile" accept="image/*" style="display:none">
      <button id="botOpen" class="adm-only" style="display:none">ü§ñ –ë–æ—Ç</button>
    </div>
  </section>

  <section id="view-rent" class="view">
    <div class="composer">
      <input id="rentTitle" placeholder="–ó–∞–≥–æ–ª–æ–≤–æ–∫ (–∞–¥–º—ñ–Ω)">
      <input id="rentPrice" placeholder="–¶—ñ–Ω–∞ (–æ–ø—Ü.)">
      <label class="filebtn"><input type="file" id="rentFile" accept="image/*"></label>
      <input id="rentInput" placeholder="–¢–µ–∫—Å—Ç –æ–≥–æ–ª–æ—à–µ–Ω–Ω—è (–∞–¥–º—ñ–Ω)">
      <button id="rentSend">–û–ø—É–±–ª—ñ–∫—É–≤–∞—Ç–∏</button>
    </div>
    <div id="rentFeed" class="feed"></div>
  </section>

  <section id="view-map" class="view">
    <div class="mapbar">
      <button id="mapCenter">–¶–µ–Ω—Ç—Ä—É–≤–∞—Ç–∏</button>
      <button id="poiAddBtn" class="adm-only" style="display:none">‚ûï –¢–æ—á–∫–∞</button>
    </div>
    <div id="map" class="map"></div>
  </section>

  <section id="view-dm" class="view">
    <div class="dm">
      <aside id="dmSidebar"></aside>
      <div class="dmThread">
        <div id="dmHeader"></div>
        <div id="dmMessages"></div>
        <div class="composer sticky">
          <label class="filebtn"><input type="file" id="dmFile" accept="image/*"></label>
          <input id="dmInput" placeholder="–ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è‚Ä¶">
          <button id="dmSend">–ù–∞–¥—ñ—Å–ª–∞—Ç–∏</button>
        </div>
      </div>
    </div>
  </section>

  <section id="view-help" class="view">
    <div id="helpGrid" class="cards"></div>
    <div id="helpAdmin" class="admin-only" style="display:none">
      <div class="row"><input id="helpTitle" placeholder="–ó–∞–≥–æ–ª–æ–≤–æ–∫"><input id="helpLink" placeholder="–ü–æ—Å–∏–ª–∞–Ω–Ω—è"></div>
      <div class="row"><textarea id="helpText" placeholder="–¢–µ–∫—Å—Ç"></textarea></div>
      <div class="row"><input id="helpImageUrl" placeholder="URL –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è"></div>
      <button id="helpPost">–û–ø—É–±–ª—ñ–∫—É–≤–∞—Ç–∏</button>
    </div>
  </section>

  <section id="view-admin" class="view">
    <div class="grid2">
      <div class="card">
        <h3>–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ</h3>
        <div class="row"><input id="adminSearch" placeholder="–ü–æ—à—É–∫ –Ω—ñ–∫—É/uid/email"></div>
        <div id="adminUsers"></div>
      </div>
      <div class="card">
        <h3>–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –æ–ø–ª–∞—Ç (ƒåSOB)</h3>
        <div class="row"><input id="bankHolder" placeholder="–û—Ç—Ä–∏–º—É–≤–∞—á (–§–û–ü/–Ü–º'—è)"></div>
        <div class="row"><input id="bankAccount" placeholder="–ß–∏—Å–ª–æ —Ä–∞—Ö—É–Ω–∫—É (nap≈ô. 123456789/0300)"><input id="bankIBAN" placeholder="IBAN (CZ...)"></div>
        <div class="row"><input id="bankVS" placeholder="Variabiln√≠ symbol (–æ–ø—Ü.)"><input id="bankMsg" placeholder="–ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø–ª–∞—Ç–Ω–∏–∫—É (–æ–ø—Ü.)"></div>
        <div class="row"><button id="saveBank">–ó–±–µ—Ä–µ–≥—Ç–∏</button></div>
        <div class="row"><button id="previewQR">–ü–æ–∫–∞–∑–∞—Ç–∏ QR –ø–ª–∞—Ç—ñ–∂</button></div>
        <div id="qrPreview"></div>
      </div>
    </div>
    <div class="card"><h3>–ó–∞—è–≤–∫–∏ –Ω–∞ Premium</h3><div id="payInbox"></div></div>
    <div class="card"><h3>–ë–æ—Ç–∏</h3><div id="botsList"></div></div>
  </section>
</main>

<div id="participantsModal" class="modal" hidden>
  <div class="card">
    <header><b>–£—á–∞—Å–Ω–∏–∫–∏</b><button id="participantsClose">‚úñ</button></header>
    <div id="participantsList" class="feed"></div>
  </div>
</div>

<div id="profileModal" class="modal" hidden>
  <div class="card">
    <header><b>–ü—Ä–æ—Ñ—ñ–ª—å</b><button id="profileClose">‚úñ</button></header>
    <div class="row">
      <label class="filebtn" title="–ó–º—ñ–Ω–∏—Ç–∏ –∞–≤–∞—Ç–∞—Ä"><input type="file" id="avatarFile" accept="image/*"></label>
      <img id="myAvatar" class="ava-lg" src="./img/default-avatar.svg">
      <div><div><b id="myName">–ê–Ω–æ–Ω—ñ–º</b></div><div class="muted">–†–æ–ª—å: <span id="myRole">seeker</span> ¬∑ –ü–ª–∞–Ω: <span id="myPlan">free</span></div></div>
    </div>
    <div class="row"><button id="btnPremium">–ö—É–ø–∏—Ç–∏ Premium</button><button id="btnReset">–°–∫–∏–Ω—É—Ç–∏ –ø–∞—Ä–æ–ª—å</button><button id="btnSignout">–í–∏–π—Ç–∏</button></div>
    <div class="row muted warn">‚ö†Ô∏è –õ–∏—Å—Ç–∏ —á–∞—Å—Ç–æ —É –°–ü–ê–ú ‚Äî –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ –°–ü–ê–ú!</div>
    <div class="row"><button id="openSupport">–ó–≤'—è–∑–æ–∫ –∑ –ø—ñ–¥—Ç—Ä–∏–º–∫–æ—é</button></div>
  </div>
</div>

<div id="userModal" class="modal" hidden>
  <div class="card">
    <header><b id="userTitle">–ü—Ä–æ—Ñ—ñ–ª—å</b><button id="userClose">‚úñ</button></header>
    <div class="row">
      <img id="uAvatar" class="ava-lg" src="./img/default-avatar.svg">
      <div><div><b id="uName">‚Äî</b></div><div class="muted">–†–æ–ª—å: <span id="uRole">‚Äî</span> ¬∑ –ü–ª–∞–Ω: <span id="uPlan">‚Äî</span></div></div>
    </div>
    <div class="row"><button id="uDm">‚úâÔ∏è –ù–∞–ø–∏—Å–∞—Ç–∏</button><button id="uAddFriend">+ –î–æ–¥–∞—Ç–∏ —É –¥—Ä—É–∑—ñ</button><button id="uReport">‚ö†Ô∏è –ü–æ—Å–∫–∞—Ä–∂–∏—Ç–∏—Å—å</button></div>
  </div>
</div>

<div id="botModal" class="modal" hidden>
  <div class="card">
    <header><b>–°—Ç–≤–æ—Ä–∏—Ç–∏ –±–æ—Ç–∞</b><button id="botClose">‚úñ</button></header>
    <div class="row"><img id="botAvatarPrev" class="ava-lg" src="./img/default-avatar.svg"><label class="filebtn"><input type="file" id="botAvatarFile" accept="image/*"></label></div>
    <div class="row"><input id="botText" placeholder="–¢–µ–∫—Å—Ç –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è"><input id="botImageUrl" placeholder="URL –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è (–æ–ø—Ü.)"></div>
    <div class="row"><select id="botInterval"><option value="120000">–∫–æ–∂–Ω—ñ 2 —Ö–≤</option><option value="300000">–∫–æ–∂–Ω—ñ 5 —Ö–≤</option><option value="900000" selected>–∫–æ–∂–Ω—ñ 15 —Ö–≤</option></select></div>
    <div class="row"><button id="botCreate">–ó–∞–ø—É—Å—Ç–∏—Ç–∏</button></div>
  </div>
</div>

<div id="premiumModal" class="modal" hidden>
  <div class="card">
    <header><b>Premium</b><button id="premiumClose">‚úñ</button></header>
    <div class="grid3">
      <div class="plan"><h4>50 Kƒç</h4><ul><li>–õ–° —Ä–æ–±–æ—Ç–æ–¥–∞–≤—Ü—é</li><li>–ë–µ–∑ —Ä–µ–∫–ª–∞–º–∏</li></ul><button data-plan="50" class="buyBtn">–û–ø–ª–∞—Ç–∏—Ç–∏</button></div>
      <div class="plan"><h4>100 Kƒç</h4><ul><li>+ –ü—ñ–¥–Ω—è—Ç—Ç—è –ø–æ—Å—Ç—ñ–≤</li><li>+ –ë—ñ–ª—å—à–µ –ª—ñ–º—ñ—Ç—ñ–≤</li></ul><button data-plan="100" class="buyBtn">–û–ø–ª–∞—Ç–∏—Ç–∏</button></div>
      <div class="plan"><h4>150 Kƒç</h4><ul><li>+ –ê–≤—Ç–æ–ø–æ—Å—Ç–∏–Ω–≥ (–±–æ—Ç)</li><li>–ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç</li></ul><button data-plan="150" class="buyBtn">–û–ø–ª–∞—Ç–∏—Ç–∏</button></div>
    </div>
    <div id="bankHowto" class="muted">–û–ø–ª–∞—Ç–∞ –±–∞–Ω–∫—ñ–≤—Å—å–∫–∏–º –ø–µ—Ä–µ–∫–∞–∑–æ–º —É ƒåSOB. –ü—ñ—Å–ª—è –æ–ø–ª–∞—Ç–∏ –ø—Ä–∏–∫—Ä—ñ–ø—ñ—Ç—å —Å–∫—Ä—ñ–Ω –∫–≤–∏—Ç–∞–Ω—Ü—ñ—ó.</div>
    <div id="qrArea" class="qr"></div>
    <div class="row"><input id="receiptUrl" placeholder="URL/dataURL –∫–≤–∏—Ç–∞–Ω—Ü—ñ—ó"><button id="sendPremiumReq">–ù–∞–¥—ñ—Å–ª–∞—Ç–∏ –∑–∞—è–≤–∫—É</button></div>
  </div>
</div>

<div id="cookieBar" class="cookiebar" hidden><div class="wrap"><div>–ú–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ cookies/localStorage. –ü—Ä–æ–¥–æ–≤–∂—É—é—á–∏ ‚Äî –≤–∏ –ø–æ–≥–æ–¥–∂—É—î—Ç–µ—Å—å.</div><button id="cookieOk" class="pill">OK</button></div></div>
<div id="globalToast" class="toast" hidden></div>

<script src="https://www.gstatic.com/firebasejs/10.12.4/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.4/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.4/firebase-database-compat.js"></script>
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" defer></script>
<script src="./config.js"></script>
<script src="./style.js"></script>
<script src="./app.js" defer></script>
<script src="./dm.js" defer></script>
<script src="./admin.js" defer></script>
<script src="./bots.js" defer></script>
<script src="./payments.js" defer></script>
<script>if('serviceWorker' in navigator){navigator.serviceWorker.register('./sw.js').catch(()=>{});}</script>
</body></html>
