
:root{--glass:rgba(15,20,28,.55);--glass2:rgba(15,20,28,.7);--text:#e9eef7;--muted:#99a6bd;--acc:#21e5a6}
*{box-sizing:border-box}html,body{height:100%}
body{margin:0;color:var(--text);background:#0b1017 url('assets/bg.jpg') center/cover fixed no-repeat;font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Arial}
.topbar{display:flex;gap:1rem;align-items:center;padding:10px 14px;background:linear-gradient(180deg,rgba(0,0,0,.5),rgba(0,0,0,.1));position:sticky;top:0;z-index:5;backdrop-filter:blur(6px)}
.brand{font-weight:700;letter-spacing:.3px}
.controls{display:flex;align-items:center;gap:.6rem;width:100%}.controls .spacer{flex:1}
button,input,select{background:var(--glass);color:var(--text);border:1px solid rgba(255,255,255,.08);border-radius:12px;padding:.55rem .8rem;outline:none}
button.primary{background:linear-gradient(180deg,#23f1af,#0ebf86);color:#04120f;font-weight:700;border:none}
.tabs{display:flex;gap:.5rem;padding:.6rem;position:sticky;top:56px;z-index:4}.tab{background:var(--glass);cursor:pointer}.tab.active{background:var(--glass2);border:1px solid rgba(255,255,255,.15)}
.panel{padding:1rem}.panel::before{content:"";position:fixed;inset:0;background:var(--glass);z-index:-1;backdrop-filter:blur(2px)}
.chat-wrap,.dm-wrap{display:flex;flex-direction:column;height:calc(100vh - 220px)}
.chat-list,.dm-list{flex:1 1 auto;overflow:auto;padding:6px;display:flex;flex-direction:column;gap:.6rem}
.msg{display:grid;grid-template-columns:44px 1fr;gap:.7rem;background:rgba(255,255,255,.04);border:1px solid rgba(255,255,255,.06);border-radius:16px;padding:.6rem .7rem}
.avatar{width:44px;height:44px;border-radius:50%;background:#233;object-fit:cover}
.msg .name{font-weight:700}.msg .meta{color:var(--muted);font-size:12px}.msg img.pic{max-width:100%;border-radius:12px;border:1px solid rgba(255,255,255,.1)}
.composer{flex:0 0 auto;position:sticky;bottom:0;display:flex;gap:.5rem;align-items:center;background:var(--glass2);padding:.6rem;border:1px solid rgba(255,255,255,.08);border-radius:14px}
.composer input[type=file]{display:none}.attach{cursor:pointer;font-size:20px}
.dm-layout{display:grid;grid-template-columns:280px 1fr;gap:1rem}#dmSidebar{background:var(--glass);border:1px solid rgba(255,255,255,.08);border-radius:14px;padding:.6rem;height:calc(100vh - 240px);overflow:auto}
.dm-item{display:flex;gap:.5rem;align-items:center;padding:.4rem;border-radius:10px;cursor:pointer}.dm-item:hover{background:rgba(255,255,255,.06)}
.cards{display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:1rem}.card{background:var(--glass);border:1px solid rgba(255,255,255,.08);border-radius:14px;overflow:hidden}.card img{width:100%;height:160px;object-fit:cover}.card .p{padding:.7rem}
.map{height:calc(100vh - 260px);border-radius:14px;overflow:hidden;border:1px solid rgba(255,255,255,.08)}
.modal{position:fixed;inset:0;display:grid;place-items:center;background:rgba(0,0,0,.45);backdrop-filter:blur(3px)}.modal[hidden]{display:none}
.modal-body{width:min(880px,92vw);background:var(--glass2);border:1px solid rgba(255,255,255,.08);border-radius:16px;padding:1rem}.modal-head{display:flex;align-items:center;justify-content:space-between}.modal .close{background:rgba(255,255,255,.06)}
.list .member{display:flex;gap:.6rem;align-items:center;padding:.4rem;border-bottom:1px dashed rgba(255,255,255,.08)}.list .member .col{flex:1}
.grid2{display:grid;grid-template-columns:1fr 1fr;gap:.6rem}
#toastBox{position:fixed;top:12px;left:50%;transform:translateX(-50%);display:flex;flex-direction:column;gap:.4rem;z-index:9}.toast{background:#121a22;color:#fff;border:1px solid rgba(255,255,255,.12);padding:.5rem .8rem;border-radius:12px;box-shadow:0 8px 30px rgba(0,0,0,.3)}
@media (max-width:900px){.dm-layout{grid-template-columns:1fr}#dmSidebar{height:200px}.tabs{position:sticky;top:48px}.chat-wrap,.dm-wrap{height:calc(100vh - 230px)}}
