/* Basic reset */
*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;background:#0d1117;color:#c9d1d9;font:14px/1.45 system-ui, Segoe UI, Roboto, Arial, sans-serif; overflow-x:hidden}

/* Topbar */
.topbar{position:sticky;top:0;z-index:50;display:flex;align-items:center;justify-content:space-between;gap:12px;padding:8px 12px;background:rgba(13,17,23,.85);backdrop-filter:saturate(1.2) blur(6px);border-bottom:1px solid #30363d}
.tabs{display:flex;gap:6px;flex-wrap:wrap;max-width:100%}
.tab{background:#151b23;border:1px solid #2d333b;color:#c9d1d9;border-radius:10px;padding:8px 10px;cursor:pointer}
.tab.active{border-color:#3fb950;box-shadow:0 0 0 1px #3fb950 inset}
.right-actions{display:flex;align-items:center;gap:8px}
.notif{position:relative;padding:4px 8px;border:1px solid #2d333b;border-radius:10px;cursor:pointer}
.notif #notifCount{position:absolute;top:-6px;right:-6px;background:#f85149;color:#fff;border-radius:10px;padding:2px 6px;font-size:11px}
.auth{background:#151b23;border:1px solid #2d333b;color:#c9d1d9;border-radius:10px;padding:6px 10px}
.auth.hidden{display:none}

/* Layout */
.layout{display:grid;grid-template-columns:280px 1fr;gap:12px;padding:12px}
@media (max-width:960px){
  .layout{grid-template-columns:1fr}
  .sidebar{order:2}
  .content{order:1}
}
.sidebar{position:sticky;top:56px;align-self:start;display:flex;flex-direction:column;gap:12px;max-height:calc(100vh - 56px);overflow:auto}
.content{min-height:60vh}

/* Profile card */
.profile-card{background:#0b0f14;border:1px solid #30363d;border-radius:14px;padding:12px;display:flex;flex-direction:column;gap:10px}
.avatar-wrap{position:relative;width:100px;height:100px}
.avatar{width:100px;height:100px;border-radius:50%;object-fit:cover;border:1px solid #30363d;background:#111}
.camera{position:absolute;bottom:-6px;right:-6px;background:#242b33;border:1px solid #3a424d;color:#c9d1d9;border-radius:12px;padding:6px 8px;cursor:pointer}
.profile-fields input, .profile-fields select{width:100%;margin:6px 0;padding:8px;border:1px solid #2d333b;border-radius:10px;background:#0e141b;color:#c9d1d9}
.primary{background:#238636;border:1px solid #2ea043;color:#fff;border-radius:10px;padding:8px 12px;cursor:pointer}
.secondary{background:#1f6feb;border:1px solid #388bfd;color:#fff;border-radius:10px;padding:8px 12px;cursor:pointer}
.link{background:none;border:none;color:#58a6ff;cursor:pointer;padding:6px}
.google{background:#fff;color:#111;border:1px solid #ddd;border-radius:8px;padding:10px 12px;cursor:pointer}
.row{display:flex;gap:8px;flex-wrap:wrap}
.small{font-size:12px}
.muted{opacity:.75}

/* Lists & cards */
.list{display:flex;flex-direction:column;gap:10px}
.cards{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:12px}
.card{background:#0b0f14;border:1px solid #30363d;border-radius:14px;padding:12px}

/* Messages feed */
.messages{display:flex;flex-direction:column;gap:8px;max-height:60vh;overflow:auto;padding-bottom:64px}
.message{display:flex;gap:8px;align-items:flex-start}
.message .bubble{background:#151b23;border:1px solid #2d333b;border-radius:14px;padding:8px 10px;max-width:85%}
.message.me .bubble{background:#0f2919;border-color:#25492b}
.message .meta{font-size:11px;opacity:.65;margin-top:4px}
.message img.photo{max-width:220px;border-radius:10px;border:1px solid #2d333b;display:block}
.loader{text-align:center;opacity:.6;padding:6px}

/* Composer */
.composerBar{position:sticky;bottom:0;display:flex;align-items:center;gap:8px;background:linear-gradient(180deg, rgba(13,17,23,0) 0%, #0d1117 25%);padding:8px;border-top:1px solid #30363d}
.attach{display:inline-flex;align-items:center;gap:6px;border:1px dashed #334;border-radius:10px;padding:6px 8px;cursor:pointer}
.attach input{display:none}
.composer{flex:1;min-height:38px;border:1px solid #2d333b;border-radius:10px;background:#0e141b;color:#c9d1d9;padding:8px}
.send{background:#238636;border:1px solid #2ea043;color:#fff;border-radius:10px;padding:8px 12px;cursor:pointer}

/* DM split */
.split{display:grid;grid-template-columns:260px 1fr;gap:12px}
@media (max-width:960px){.split{grid-template-columns:1fr}}
.dm-list{background:#0b0f14;border:1px solid #30363d;border-radius:12px;max-height:60vh;overflow:auto}
.dm-title{padding:6px 2px;opacity:.8}
.dm-dialog{display:flex;flex-direction:column}

/* Map */
.map{height:320px;border:1px solid #30363d;border-radius:12px;margin-bottom:8px}
.map-controls{display:flex;gap:8px}

/* Wallpaper hint */
.wallpaper-hint{font-size:12px;opacity:.7;margin:4px 0}

/* Toast */
.toast{position:fixed;left:50%;transform:translateX(-50%);bottom:16px;z-index:100;background:#161b22;border:1px solid #30363d;color:#c9d1d9;padding:10px 14px;border-radius:12px;display:none}

/* Modal */
.modal{border:1px solid #30363d;border-radius:12px;padding:12px;background:#0b0f14;color:#c9d1d9}
.modal::backdrop{background:rgba(0,0,0,.5)}

/* Utility */
.hidden{display:none}
.adminOnly{display:none}
.admin .adminOnly{display:block}
#tabs.hidden{display:none}
