:root{
  --bg:#0b0f14; --card:#121826; --text:#d6e1ff; --muted:#94a3b8;
  --accent:#22c55e; --accent2:#3b82f6; --danger:#ef4444;
}
*{box-sizing:border-box}
body{margin:0;background:#0b0f14 url('https://images.unsplash.com/photo-1544989164-31dc3c645987?q=80&w=1600&auto=format&fit=crop') center/cover fixed no-repeat;color:var(--text);font:15px/1.4 system-ui,Segoe UI,Roboto,Arial,sans-serif}
.topbar{display:flex;align-items:center;gap:8px;padding:10px 12px;background:rgba(9,12,20,.7);backdrop-filter:blur(8px);position:sticky;top:0;z-index:10}
.brand{font-weight:700;letter-spacing:.5px}
.spacer{flex:1}
.ghost{background:transparent;border:1px solid #263042;color:var(--text);border-radius:10px;padding:6px 10px}
.hidden{display:none !important}
.bell{position:relative}
#bellCount{position:absolute;top:-8px;right:-8px;background:#ef4444;color:#fff;border-radius:12px;padding:2px 6px;font-size:12px}

.tabs{display:flex;gap:6px;padding:8px;border-bottom:1px solid #263042;background:rgba(9,12,20,.65);backdrop-filter:blur(8px);position:sticky;top:48px;z-index:9}
.tabs button{background:#121826;border:1px solid #253046;color:var(--text);padding:8px 10px;border-radius:12px}
.tabs button.active{background:#1e293b;border-color:#334155}

.cityBar{display:flex;gap:8px;align-items:center;padding:8px 12px;background:rgba(9,12,20,.55)}
.hint{color:#94a3b8;font-size:13px}

main{padding:12px}
.tab.hidden{display:none}

.feed{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:8px}
.message{display:flex;align-items:flex-start;gap:8px}
.bubble{display:inline-block;max-width:84%;background:rgba(255,255,255,.08);border:1px solid #2b3240;border-radius:14px;padding:8px 10px;word-wrap:break-word}
.me .bubble{background:rgba(59,130,246,.18);border-color:#2a467a}
.msgMeta{font-size:12px;color:var(--muted);margin-top:2px}
.msgImg{border-radius:10px;max-width:100%;height:auto;display:block;margin-top:6px}

.composer{position:sticky;bottom:8px;display:flex;gap:8px;align-items:center;background:rgba(10,15,24,.8);backdrop-filter:blur(10px);border:1px solid #243045;padding:8px;border-radius:14px;margin-top:10px}
.composer input{flex:1;background:#0f172a;border:1px solid #243045;color:var(--text);padding:10px 12px;border-radius:12px}
.primary{background:var(--accent);border:none;border-radius:12px;color:#041b0e;padding:10px 14px;font-weight:700}
.iconBtn{display:inline-flex;align-items:center;justify-content:center;width:42px;height:42px;border:1px dashed #334155;border-radius:12px;cursor:pointer;background:#0f172a}
.iconBtn.small{width:34px;height:34px;border-radius:10px}
.cards{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:10px}
.card{background:rgba(12,18,28,.8);border:1px solid #263042;border-radius:14px;padding:10px}

.dmPane{display:flex;gap:12px}
.dmListWrap{width:260px}
.list{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:8px}
.dmChat{flex:1}

.mapBox{height:260px;border-radius:14px;border:1px solid #263042;background:#0f172a;margin-bottom:10px}

.modal{position:fixed;inset:0;background:rgba(0,0,0,.55);display:flex;align-items:center;justify-content:center;padding:16px}
.modalCard{width:min(520px,96vw);background:#0c1420;border:1px solid #263042;border-radius:16px;padding:14px;position:relative}
.modal .close{position:absolute;right:10px;top:10px;background:transparent;border:0;color:#9fb3d1;font-size:18px;cursor:pointer}
.profileHeader{display:flex;gap:8px;align-items:flex-end}
.avatarxl{width:96px;height:96px;border-radius:50%;background:#111723;border:1px solid #2b3240;object-fit:cover}

.row{display:flex;gap:8px;flex-wrap:wrap}

.toast{position:fixed;left:50%;transform:translateX(-50%);bottom:18px;background:#0b1220;border:1px solid #2a3a55;padding:10px 14px;border-radius:12px;color:#cde1ff;display:none;z-index:99}
@media (max-width:900px){
  .dmPane{flex-direction:column}
  .dmListWrap{width:100%}
}
