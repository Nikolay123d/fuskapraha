:root{--line:rgba(255,255,255,.12);--text:#eafff3;--bg:#0b1611;--bubble:rgba(0,0,0,.35)}
*{box-sizing:border-box}html,body{height:100%}body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Noto Sans,sans-serif;color:var(--text);background:var(--bg);background-image:var(--wall, url('https://images.unsplash.com/photo-1519046904884-53103b34b206?q=80&w=1600&auto=format&fit=crop'));background-size:cover;background-position:center;background-attachment:fixed}
.topbar{position:sticky;top:0;z-index:20;display:flex;align-items:center;justify-content:space-between;gap:10px;padding:10px 14px;background:rgba(0,0,0,.6);backdrop-filter:blur(6px);border-bottom:1px solid var(--line)}
.brand{font-weight:900;letter-spacing:.5px}.citysel{display:inline-flex;gap:6px;align-items:center;margin-left:14px}.citysel select{border:1px solid var(--line);background:rgba(0,0,0,.35);color:var(--text);border-radius:10px;padding:6px 8px}
.top-tabs{position:sticky;top:52px;z-index:19;display:flex;gap:8px;flex-wrap:wrap;padding:8px 14px;background:rgba(0,0,0,.45);border-bottom:1px solid var(--line)}
.top-tabs .tab{border:1px solid var(--line);background:rgba(0,0,0,.35);color:var(--text);border-radius:10px;padding:8px 12px}.top-tabs .tab.active{border-color:#39ff91}#toggleMenu{margin-left:auto}
.hide-menu{transform:translateY(-120%);transition:transform .2s ease}
main{padding:12px;max-width:1100px;margin:0 auto}.view{display:none}.view.active{display:block}.card{background:rgba(0,0,0,.45);backdrop-filter:blur(6px);padding:12px;border-radius:14px;border:1px solid var(--line)}
.feed{display:flex;flex-direction:column;gap:10px;min-height:220px}.msg{display:flex;gap:10px;align-items:flex-start}
.avatar{width:40px;height:40px;border-radius:50%;overflow:hidden;background:#222;flex:0 0 40px;border:1px solid var(--line)}.avatar img{width:100%;height:100%;object-fit:cover}
.bubble{max-width:86%;background:var(--bubble);padding:10px 12px;border-radius:16px}.bubble .name{font-weight:700;font-size:12px;opacity:.85;margin-bottom:4px}.bubble .text{font-size:15px;line-height:1.35;word-wrap:break-word}.bubble img{max-width:280px;border-radius:10px;border:1px solid var(--line);display:block}
.composer{position:sticky;bottom:8px;display:flex;gap:8px;align-items:center;margin-top:8px}.composer input{flex:1;min-width:160px;padding:12px;border-radius:12px;border:1px solid var(--line);background:rgba(0,0,0,.35);color:var(--text)}.composer button{padding:12px 14px;border-radius:12px;border:1px solid rgba(58,255,145,.8);background:rgba(0,0,0,.25);color:var(--text)}.filebtn{display:inline-flex;align-items:center;justify-content:center;border:1px dashed var(--line);border-radius:10px;width:44px;height:44px}.filebtn input{display:none}
.panel{position:fixed;right:16px;top:72px;background:rgba(0,0,0,.8);border:1px solid var(--line);border-radius:12px;padding:10px;width:340px;max-height:70vh;overflow:auto;z-index:30}.panel header{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}
.modal{position:fixed;inset:0;background:rgba(0,0,0,.6);display:flex;align-items:center;justify-content:center;z-index:40}.modal[hidden]{display:none !important}.modal .card{width:min(92vw,680px);background:#0f1b16;border:1px solid var(--line);border-radius:14px;padding:10px}.modal header{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}
.row{display:flex;gap:8px;margin:6px 0;flex-wrap:wrap}.pill{border:1px solid var(--line);background:rgba(0,0,0,.4);color:var(--text);border-radius:999px;padding:6px 10px}.pill.active{border-color:#39ff91}.muted{opacity:.7;font-size:12px}hr{border:none;border-top:1px solid var(--line);margin:8px 0}
#map{height:420px;border-radius:12px;overflow:hidden;margin-top:8px;border:1px solid var(--line)}@media(max-width:700px){#map{height:320px}}
html, body { overflow-x: hidden; }
