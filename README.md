# PR√ÅCE CZ CHAT ‚Äî v4 (Stage 4)
**–ß—Ç–æ –≤–Ω—É—Ç—Ä–∏:**
- ‚úÖ –ë–µ–∑ –º–∏–≥–∞–Ω–∏—è –æ–±–æ–µ–≤ (–∫–µ—à `bg_<city>` –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –¥–æ –æ—Ç—Ä–∏—Å–æ–≤–∫–∏)
- ‚úÖ –¢–æ—Å—Ç—ã —Å –∫—Ä–µ—Å—Ç–∏–∫–æ–º, –ª–æ–∫–∞–ª—å–Ω–æ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ –°–æ–≥–ª–∞—Å–∏–µ –Ω–∞ –∑–≤—É–∫–∏ + `SND.play()`
- ‚úÖ –í–∫–ª–∞–¥–∫–∞ ¬´P≈ô√°tel√©¬ª, DMs –∏ —É—á–∞—Å—Ç–Ω–∏–∫–∏ —Ä—è–¥–æ–º –∏ –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã (–ø—Ä–∏ –ø–æ–¥–∫–ª—é—á—ë–Ω–Ω—ã—Ö —Å–∫—Ä–∏–ø—Ç–∞—Ö)
- ‚úÖ –ü–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è `darausoan@gmail.com` ‚Äî 10s –æ–≤–µ—Ä–ª–µ–π, —Ä–æ–∑–∞, –∑–≤—É–∫

**Stage 4:**
- üó∫Ô∏è **–ö–∞—Ä—Ç–∞**: —Ñ–æ—Ç–æ —Ç–æ—á–∫–∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ ¬´üì∑¬ª –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è **base64** (–±–µ–∑ Firebase Storage)
- üõ°Ô∏è **–ê–Ω—Ç–∏—Å–ø–∞–º** –≤ Rules: throttle (5 —Å–µ–∫) + –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å –õ–° –ø–æ –ø–∞—Ä–µ `uid_uid` (regex)
- üè† **Pron√°jem**: –ø–æ–∏—Å–∫, —Ñ–∏–ª—å—Ç—Ä –ø–æ –≥–æ—Ä–æ–¥—É, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ —Ü–µ–Ω–µ/–Ω–æ–≤–∏–∑–Ω–µ; —Ñ–æ—Ç–æ ‚Äî —á–µ—Ä–µ–∑ base64

**–§–∞–π–ª—ã:**
- `index.html`, `style.css`, `utils.js` ‚Äî —è–¥—Ä–æ UI/UX
- `map.js` ‚Äî base64 –¥–ª—è `poiFile`/`poiPhoto`
- `rent.js` ‚Äî —Ñ–∏–ª—å—Ç—Ä—ã/—Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞/—Ñ–æ—Ç–æ base64
- `database.rules.suggested.json` ‚Äî throttle/DM/userToasts/nickRequests/rent/places

**–ö–∞–∫ –≤–∫–ª—é—á–∏—Ç—å –∞–Ω—Ç–∏—Å–ø–∞–º/–ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å:**
–ó–∞–ª–µ–π `database.rules.suggested.json` –∫–∞–∫ –∞–∫—Ç–∏–≤–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ Realtime Database (–∏–ª–∏ –≤–Ω–µ—Å–∏ —Å–µ–∫—Ü–∏–∏ –≤ —Å–≤–æ–π `database.rules.json`).

**–ü—Ä–∏–º–µ—á–∞–Ω–∏—è:**
- –í—Å–µ –∫–∞—Ä—Ç–∏–Ω–∫–∏ –∏ —Ñ–æ—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π/–æ–±—ä—è–≤–ª–µ–Ω–∏–π/—Ç–æ—á–µ–∫ ‚Äî dataURL (base64) –≤ –ë–î, –±–µ–∑ –ø–ª–∞—Ç–Ω–æ–≥–æ Storage.
- –ï—Å–ª–∏ —Ö–æ—á–µ—à—å, –¥–æ–±–∞–≤–ª—é ¬´–∑–∞—è–≤–∫—É –Ω–∞ —Å–º–µ–Ω—É –Ω–∏–∫–∞¬ª (–∑–∞–ø–∏—Å—å –≤ `nickRequests`) –∏ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –º–æ–¥–µ—Ä–∞—Ü–∏–∏ –∑–∞—è–≤–æ–∫.