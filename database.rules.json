{
  "rules": {
    ".read": true,
    ".write": false,
    "messages": {
      "$city": {
        ".read": true,
        "$msg": {
          ".write": "auth != null && ( !root.child('throttle').child(auth.uid).child('lastTs').exists() || (now - root.child('throttle').child(auth.uid).child('lastTs').val() > 5000) )",
          ".validate": "(newData.child('text').isString() && newData.child('text').val().length <= 2000) || !newData.child('text').exists()"
        }
      }
    },
    "throttle": {
      "$uid": {
        ".read": "auth != null && auth.uid === $uid",
        ".write": "auth != null && auth.uid === $uid"
      }
    },
    "dm": {
      "$uid": {
        ".read": "auth != null && auth.uid === $uid",
        "$other": {
          "$msg": {
            ".write": "auth != null && (auth.uid === $uid || auth.uid === $other)"
          }
        }
      }
    },
    "usersPublic": {
      "$uid": {
        ".read": true,
        ".write": "(auth != null) && ( (auth.uid === $uid && (!data.exists() || newData.child('name').val() === data.child('name').val())) || (auth.token.email === 'urciknikolaj642@gmail.com') || (auth.uid === root.child('settings').child('superAdminUid').val()) )"
      }
    },
    "presence": {
      "$uid": {
        ".read": "auth != null",
        ".write": "auth != null && auth.uid === $uid"
      }
    },
    "friends": {
      "requests": {
        "$to": {
          "$from": {
            ".write": "auth != null && auth.uid === $from"
          }
        }
      },
      "list": {
        "$uid": {
          "$other": {
            ".write": "auth != null && (auth.uid === $uid || auth.uid === $other)"
          }
        }
      }
    },
    "rent": {
      "$id": {
        ".read": true,
        ".write": "auth != null"
      }
    },
    "help": {
      "$id": {
        ".read": true,
        ".write": "auth != null"
      }
    },
    "places": {
      "$id": {
        ".read": true,
        ".write": "auth != null && ( !data.exists() || root.child('roles').child(auth.uid).child('canEditPlaces').val() === true || auth.token.email === 'urciknikolaj642@gmail.com' || auth.uid === root.child('settings').child('superAdminUid').val() )"
      }
    },
    "reports": {
      "$id": {
        ".read": "auth != null",
        ".write": "auth != null"
      }
    },
    "bans": {
      "$uid": {
        ".read": "auth != null",
        ".write": "auth != null && ( auth.token.email==='urciknikolaj642@gmail.com' || auth.uid===root.child('settings').child('superAdminUid').val() || root.child('roles').child(auth.uid).child('canBan').val()===true )"
      }
    },
    "roles": {
      "$uid": {
        ".read": "auth != null && ( auth.token.email==='urciknikolaj642@gmail.com' || auth.uid===root.child('settings').child('superAdminUid').val() )",
        ".write": "auth != null && ( auth.token.email==='urciknikolaj642@gmail.com' || auth.uid===root.child('settings').child('superAdminUid').val() )"
      }
    },
    "settings": {
      "superAdminUid": {
        ".read": "auth != null && ( auth.token.email==='urciknikolaj642@gmail.com' )",
        ".write": "auth != null && ( auth.token.email==='urciknikolaj642@gmail.com' )"
      }
    },
    "logs": {
      "$id": {
        ".read": "auth != null && ( auth.token.email==='urciknikolaj642@gmail.com' || auth.uid===root.child('settings').child('superAdminUid').val() )",
        ".write": "auth != null"
      }
    },
    "payments": {
      "requests": {
        "$uid": {
          ".read": "auth != null && (auth.uid === $uid || auth.token.email==='urciknikolaj642@gmail.com' || auth.uid===root.child('settings').child('superAdminUid').val())",
          "$rid": {
            ".write": "auth != null && auth.uid === $uid"
          }
        }
      }
    },
    "bots": {
      "$id": {
        ".read": "auth != null && ( auth.token.email==='urciknikolaj642@gmail.com' || auth.uid===root.child('settings').child('superAdminUid').val() || root.child('roles').child(auth.uid).child('canBots').val()===true )",
        ".write": "auth != null && ( auth.token.email==='urciknikolaj642@gmail.com' || auth.uid===root.child('settings').child('superAdminUid').val() || root.child('roles').child(auth.uid).child('canBots').val()===true )"
      }
    }
  }
}