{
  "rules": {
    ".read": false,
    ".write": false,
    "admins": {
      "$uid": {
        ".read": "auth != null",
        ".write": "auth != null && auth.uid == $uid"
      }
    },
    "bans": {
      "$uid": {
        ".read": "auth != null && (auth.uid == $uid || root.child('admins').child(auth.uid).exists())",
        ".write": "auth != null && root.child('admins').child(auth.uid).exists()"
      }
    },
    "users": {
      "$uid": {
        ".read": "auth != null",
        ".write": "auth != null && auth.uid == $uid"
      }
    },
    "usersPublic": {
      "$uid": {
        ".read": true,
        ".write": "auth != null && auth.uid == $uid"
      }
    },
    "emails": {
      "$key": {
        ".read": "auth != null",
        ".write": "auth != null"
      }
    },
    "messages": {
      "$city": {
        "$msgid": {
          ".read": true,
          ".write": "auth != null && !root.child('bans').child(auth.uid).exists()"
        }
      }
    },
    "chat": {
      "main": {
        "$msgid": {
          ".read": true,
          ".write": "auth != null && !root.child('bans').child(auth.uid).exists()"
        }
      }
    },
    "privateMembers": {
      "$room": {
        "$uid": {
          ".read": "auth != null",
          ".write": "auth != null"
        }
      }
    },
    "privateMessages": {
      "$room": {
        "$msgid": {
          ".read": "auth != null",
          ".write": "auth != null && root.child('privateMembers').child($room).child(auth.uid).val() == true"
        }
      }
    },
    "friends": {
      "$uid": {
        ".read": "auth != null && auth.uid == $uid",
        ".write": "auth != null && auth.uid == $uid"
      }
    },
    "friendRequests": {
      "$toUid": {
        ".read": "auth != null && auth.uid == $toUid",
        "$fromUid": {
          ".write": "auth != null && (auth.uid == $fromUid || auth.uid == $toUid)"
        }
      }
    },
    "inboxMeta": {
      "$uid": {
        ".read": "auth != null && auth.uid == $uid",
        ".write": "auth != null && auth.uid == $uid"
      }
    },
    "siteHelperConfig": {
      ".read": true,
      ".write": "auth != null && root.child('admins').child(auth.uid).exists()"
    },
    "userBots": {
      "$uid": {
        ".read": "auth != null && auth.uid == $uid",
        ".write": "auth != null && auth.uid == $uid"
      }
    },
    "userBotsLast": {
      "$uid": {
        ".read": "auth != null && auth.uid == $uid",
        ".write": "auth != null && auth.uid == $uid"
      }
    },
    "usage": {
      ".read": "auth != null && root.child('admins').child(auth.uid).exists()",
      ".write": "auth != null && root.child('admins').child(auth.uid).exists()"
    }
  }
}